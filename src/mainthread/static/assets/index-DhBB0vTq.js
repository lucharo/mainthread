(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pf={exports:{}},Xl={},hf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),Km=Symbol.for("react.portal"),Gm=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Jm=Symbol.for("react.provider"),Zm=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),ng=Symbol.for("react.memo"),rg=Symbol.for("react.lazy"),qu=Symbol.iterator;function ig(e){return e===null||typeof e!="object"?null:(e=qu&&e[qu]||e["@@iterator"],typeof e=="function"?e:null)}var mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gf=Object.assign,xf={};function jr(e,t,n){this.props=e,this.context=t,this.refs=xf,this.updater=n||mf}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yf(){}yf.prototype=jr.prototype;function Ta(e,t,n){this.props=e,this.context=t,this.refs=xf,this.updater=n||mf}var La=Ta.prototype=new yf;La.constructor=Ta;gf(La,jr.prototype);La.isPureReactComponent=!0;var Ku=Array.isArray,vf=Object.prototype.hasOwnProperty,Pa={current:null},kf={key:!0,ref:!0,__self:!0,__source:!0};function wf(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)vf.call(t,r)&&!kf.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ti,type:e,key:l,ref:o,props:i,_owner:Pa.current}}function lg(e,t){return{$$typeof:Ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _a(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ti}function og(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gu=/\/+/g;function So(e,t){return typeof e=="object"&&e!==null&&e.key!=null?og(""+e.key):t.toString(36)}function ol(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ti:case Km:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+So(o,0):r,Ku(i)?(n="",e!=null&&(n=e.replace(Gu,"$&/")+"/"),ol(i,t,n,"",function(u){return u})):i!=null&&(_a(i)&&(i=lg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ku(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+So(l,s);o+=ol(l,t,n,a,i)}else if(a=ig(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+So(l,s++),o+=ol(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(e,t,n){if(e==null)return e;var r=[],i=0;return ol(e,r,"","",function(l){return t.call(n,l,i++)}),r}function sg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},sl={transition:null},ag={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:sl,ReactCurrentOwner:Pa};function bf(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:zi,forEach:function(e,t,n){zi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zi(e,function(){t++}),t},toArray:function(e){return zi(e,function(t){return t})||[]},only:function(e){if(!_a(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=jr;oe.Fragment=Gm;oe.Profiler=Ym;oe.PureComponent=Ta;oe.StrictMode=Xm;oe.Suspense=tg;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;oe.act=bf;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gf({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Pa.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)vf.call(t,a)&&!kf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ti,type:e.type,key:i,ref:l,props:r,_owner:o}};oe.createContext=function(e){return e={$$typeof:Zm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jm,_context:e},e.Consumer=e};oe.createElement=wf;oe.createFactory=function(e){var t=wf.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:eg,render:e}};oe.isValidElement=_a;oe.lazy=function(e){return{$$typeof:rg,_payload:{_status:-1,_result:e},_init:sg}};oe.memo=function(e,t){return{$$typeof:ng,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};oe.unstable_act=bf;oe.useCallback=function(e,t){return Ze.current.useCallback(e,t)};oe.useContext=function(e){return Ze.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Ze.current.useEffect(e,t)};oe.useId=function(){return Ze.current.useId()};oe.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Ze.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};oe.useRef=function(e){return Ze.current.useRef(e)};oe.useState=function(e){return Ze.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Ze.current.useTransition()};oe.version="18.3.1";hf.exports=oe;var j=hf.exports;const Ia=Gl(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug=j,cg=Symbol.for("react.element"),dg=Symbol.for("react.fragment"),fg=Object.prototype.hasOwnProperty,pg=ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hg={key:!0,ref:!0,__self:!0,__source:!0};function Sf(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fg.call(t,r)&&!hg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cg,type:e,key:l,ref:o,props:i,_owner:pg.current}}Xl.Fragment=dg;Xl.jsx=Sf;Xl.jsxs=Sf;pf.exports=Xl;var c=pf.exports,ws={},jf={exports:{}},xt={},Cf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,B){var k=A.length;A.push(B);e:for(;0<k;){var q=k-1>>>1,ne=A[q];if(0<i(ne,B))A[q]=B,A[k]=ne,k=q;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var B=A[0],k=A.pop();if(k!==B){A[0]=k;e:for(var q=0,ne=A.length,S=ne>>>1;q<S;){var O=2*(q+1)-1,ke=A[O],ie=O+1,ge=A[ie];if(0>i(ke,k))ie<ne&&0>i(ge,ke)?(A[q]=ge,A[ie]=k,q=ie):(A[q]=ke,A[O]=k,q=O);else if(ie<ne&&0>i(ge,k))A[q]=ge,A[ie]=k,q=ie;else break e}}return B}function i(A,B){var k=A.sortIndex-B.sortIndex;return k!==0?k:A.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=A)r(u),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(u)}}function w(A){if(v=!1,y(A),!g)if(n(a)!==null)g=!0,ce(T);else{var B=n(u);B!==null&&z(w,B.startTime-A)}}function T(A,B){g=!1,v&&(v=!1,m(_),_=-1),p=!0;var k=h;try{for(y(B),d=n(a);d!==null&&(!(d.expirationTime>B)||A&&!$());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var ne=q(d.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(a)&&r(a),y(B)}else r(a);d=n(a)}if(d!==null)var S=!0;else{var O=n(u);O!==null&&z(w,O.startTime-B),S=!1}return S}finally{d=null,h=k,p=!1}}var E=!1,N=null,_=-1,D=5,C=-1;function $(){return!(e.unstable_now()-C<D)}function H(){if(N!==null){var A=e.unstable_now();C=A;var B=!0;try{B=N(!0,A)}finally{B?K():(E=!1,N=null)}}else E=!1}var K;if(typeof x=="function")K=function(){x(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,X=Z.port2;Z.port1.onmessage=H,K=function(){X.postMessage(null)}}else K=function(){b(H,0)};function ce(A){N=A,E||(E=!0,K())}function z(A,B){_=b(function(){A(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ce(T))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var k=h;h=B;try{return A()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,B){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=h;h=A;try{return B()}finally{h=k}},e.unstable_scheduleCallback=function(A,B,k){var q=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?q+k:q):k=q,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,A={id:f++,callback:B,priorityLevel:A,startTime:k,expirationTime:ne,sortIndex:-1},k>q?(A.sortIndex=k,t(u,A),n(a)===null&&A===n(u)&&(v?(m(_),_=-1):v=!0,z(w,k-q))):(A.sortIndex=ne,t(a,A),g||p||(g=!0,ce(T))),A},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(A){var B=h;return function(){var k=h;h=B;try{return A.apply(this,arguments)}finally{h=k}}}})(Ef);Cf.exports=Ef;var mg=Cf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=j,gt=mg;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf=new Set,ai={};function Wn(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(ai[e]=t,e=0;e<t.length;e++)Nf.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=Object.prototype.hasOwnProperty,xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xu={},Yu={};function yg(e){return bs.call(Yu,e)?!0:bs.call(Xu,e)?!1:xg.test(e)?Yu[e]=!0:(Xu[e]=!0,!1)}function vg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kg(e,t,n,r){if(t===null||typeof t>"u"||vg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ma=/[\-:]([a-z])/g;function Da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ma,Da);$e[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ma,Da);$e[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ma,Da);$e[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Aa(e,t,n,r){var i=$e.hasOwnProperty(t)?$e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kg(t,n,i,r)&&(n=null),r||i===null?yg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Ss=Symbol.for("react.profiler"),Tf=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),Ra=Symbol.for("react.forward_ref"),js=Symbol.for("react.suspense"),Cs=Symbol.for("react.suspense_list"),Ba=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),Pf=Symbol.for("react.offscreen"),Ju=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=Ju&&e[Ju]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,jo;function Qr(e){if(jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jo=t&&t[1]||""}return`
`+jo+e}var Co=!1;function Eo(e,t){if(!e||Co)return"";Co=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{Co=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qr(e):""}function wg(e){switch(e.tag){case 5:return Qr(e.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return e=Eo(e.type,!1),e;case 11:return e=Eo(e.type.render,!1),e;case 1:return e=Eo(e.type,!0),e;default:return""}}function Es(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yn:return"Fragment";case Xn:return"Portal";case Ss:return"Profiler";case za:return"StrictMode";case js:return"Suspense";case Cs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lf:return(e.displayName||"Context")+".Consumer";case Tf:return(e._context.displayName||"Context")+".Provider";case Ra:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ba:return t=e.displayName||null,t!==null?t:Es(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return Es(e(t))}catch{}}return null}function bg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Es(t);case 8:return t===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e){var t=_f(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bi(e){e._valueTracker||(e._valueTracker=Sg(e))}function If(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_f(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ns(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mf(e,t){t=t.checked,t!=null&&Aa(e,"checked",t,!1)}function Ts(e,t){Mf(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ls(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ls(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ls(e,t,n){(t!=="number"||wl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qr=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ps(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(qr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function Df(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Af(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _s(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Af(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fi,zf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function Rf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function Bf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Cg=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(e,t){if(t){if(Cg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ms(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function Fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,ur=null,cr=null;function rc(e){if(e=_i(e)){if(typeof As!="function")throw Error(R(280));var t=e.stateNode;t&&(t=to(t),As(e.stateNode,e.type,t))}}function Ff(e){ur?cr?cr.push(e):cr=[e]:ur=e}function Of(){if(ur){var e=ur,t=cr;if(cr=ur=null,rc(e),t)for(e=0;e<t.length;e++)rc(t[e])}}function $f(e,t){return e(t)}function Wf(){}var No=!1;function Uf(e,t,n){if(No)return e(t,n);No=!0;try{return $f(e,t,n)}finally{No=!1,(ur!==null||cr!==null)&&(Wf(),Of())}}function ci(e,t){var n=e.stateNode;if(n===null)return null;var r=to(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var zs=!1;if(Yt)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{zs=!1}function Eg(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Yr=!1,bl=null,Sl=!1,Rs=null,Ng={onError:function(e){Yr=!0,bl=e}};function Tg(e,t,n,r,i,l,o,s,a){Yr=!1,bl=null,Eg.apply(Ng,arguments)}function Lg(e,t,n,r,i,l,o,s,a){if(Tg.apply(this,arguments),Yr){if(Yr){var u=bl;Yr=!1,bl=null}else throw Error(R(198));Sl||(Sl=!0,Rs=u)}}function Un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ic(e){if(Un(e)!==e)throw Error(R(188))}function Pg(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return ic(i),e;if(l===r)return ic(i),t;l=l.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Vf(e){return e=Pg(e),e!==null?Qf(e):null}function Qf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qf(e);if(t!==null)return t;e=e.sibling}return null}var qf=gt.unstable_scheduleCallback,lc=gt.unstable_cancelCallback,_g=gt.unstable_shouldYield,Ig=gt.unstable_requestPaint,Ne=gt.unstable_now,Mg=gt.unstable_getCurrentPriorityLevel,Oa=gt.unstable_ImmediatePriority,Kf=gt.unstable_UserBlockingPriority,jl=gt.unstable_NormalPriority,Dg=gt.unstable_LowPriority,Gf=gt.unstable_IdlePriority,Yl=null,Wt=null;function Ag(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Bg,zg=Math.log,Rg=Math.LN2;function Bg(e){return e>>>=0,e===0?32:31-(zg(e)/Rg|0)|0}var Oi=64,$i=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Kr(s):(l&=o,l!==0&&(r=Kr(l)))}else o=n&~i,o!==0?r=Kr(o):l!==0&&(r=Kr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),i=1<<n,r|=e[n],t&=~i;return r}function Fg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Dt(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=Fg(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function Bs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xf(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function To(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function $g(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Dt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function $a(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function Yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jf,Wa,Zf,ep,tp,Fs=!1,Wi=[],fn=null,pn=null,hn=null,di=new Map,fi=new Map,an=[],Wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function zr(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=_i(t),t!==null&&Wa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ug(e,t,n,r,i){switch(t){case"focusin":return fn=zr(fn,e,t,n,r,i),!0;case"dragenter":return pn=zr(pn,e,t,n,r,i),!0;case"mouseover":return hn=zr(hn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return di.set(l,zr(di.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,fi.set(l,zr(fi.get(l)||null,e,t,n,r,i)),!0}return!1}function np(e){var t=_n(e.target);if(t!==null){var n=Un(t);if(n!==null){if(t=n.tag,t===13){if(t=Hf(n),t!==null){e.blockedOn=t,tp(e.priority,function(){Zf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Os(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ds=r,n.target.dispatchEvent(r),Ds=null}else return t=_i(n),t!==null&&Wa(t),e.blockedOn=n,!1;t.shift()}return!0}function sc(e,t,n){al(e)&&n.delete(t)}function Hg(){Fs=!1,fn!==null&&al(fn)&&(fn=null),pn!==null&&al(pn)&&(pn=null),hn!==null&&al(hn)&&(hn=null),di.forEach(sc),fi.forEach(sc)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Fs||(Fs=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Hg)))}function pi(e){function t(i){return Rr(i,e)}if(0<Wi.length){Rr(Wi[0],e);for(var n=1;n<Wi.length;n++){var r=Wi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fn!==null&&Rr(fn,e),pn!==null&&Rr(pn,e),hn!==null&&Rr(hn,e),di.forEach(t),fi.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)np(n),n.blockedOn===null&&an.shift()}var dr=tn.ReactCurrentBatchConfig,El=!0;function Vg(e,t,n,r){var i=fe,l=dr.transition;dr.transition=null;try{fe=1,Ua(e,t,n,r)}finally{fe=i,dr.transition=l}}function Qg(e,t,n,r){var i=fe,l=dr.transition;dr.transition=null;try{fe=4,Ua(e,t,n,r)}finally{fe=i,dr.transition=l}}function Ua(e,t,n,r){if(El){var i=Os(e,t,n,r);if(i===null)Bo(e,t,r,Nl,n),oc(e,r);else if(Ug(i,e,t,n,r))r.stopPropagation();else if(oc(e,r),t&4&&-1<Wg.indexOf(e)){for(;i!==null;){var l=_i(i);if(l!==null&&Jf(l),l=Os(e,t,n,r),l===null&&Bo(e,t,r,Nl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Bo(e,t,r,null,n)}}var Nl=null;function Os(e,t,n,r){if(Nl=null,e=Fa(r),e=_n(e),e!==null)if(t=Un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case Oa:return 1;case Kf:return 4;case jl:case Dg:return 16;case Gf:return 536870912;default:return 16}default:return 16}}var cn=null,Ha=null,ul=null;function ip(){if(ul)return ul;var e,t=Ha,n=t.length,r,i="value"in cn?cn.value:cn.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return ul=i.slice(e,1<r?1-r:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function ac(){return!1}function yt(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ui:ac,this.isPropagationStopped=ac,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=yt(Cr),Pi=Se({},Cr,{view:0,detail:0}),qg=yt(Pi),Lo,Po,Br,Jl=Se({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(Lo=e.screenX-Br.screenX,Po=e.screenY-Br.screenY):Po=Lo=0,Br=e),Lo)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),uc=yt(Jl),Kg=Se({},Jl,{dataTransfer:0}),Gg=yt(Kg),Xg=Se({},Pi,{relatedTarget:0}),_o=yt(Xg),Yg=Se({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=yt(Yg),Zg=Se({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e0=yt(Zg),t0=Se({},Cr,{data:0}),cc=yt(t0),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i0[e])?!!t[e]:!1}function Qa(){return l0}var o0=Se({},Pi,{key:function(e){if(e.key){var t=n0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0=yt(o0),a0=Se({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=yt(a0),u0=Se({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),c0=yt(u0),d0=Se({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=yt(d0),p0=Se({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h0=yt(p0),m0=[9,13,27,32],qa=Yt&&"CompositionEvent"in window,Jr=null;Yt&&"documentMode"in document&&(Jr=document.documentMode);var g0=Yt&&"TextEvent"in window&&!Jr,lp=Yt&&(!qa||Jr&&8<Jr&&11>=Jr),fc=" ",pc=!1;function op(e,t){switch(e){case"keyup":return m0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function x0(e,t){switch(e){case"compositionend":return sp(t);case"keypress":return t.which!==32?null:(pc=!0,fc);case"textInput":return e=t.data,e===fc&&pc?null:e;default:return null}}function y0(e,t){if(Jn)return e==="compositionend"||!qa&&op(e,t)?(e=ip(),ul=Ha=cn=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lp&&t.locale!=="ko"?null:t.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v0[e.type]:t==="textarea"}function ap(e,t,n,r){Ff(r),t=Tl(t,"onChange"),0<t.length&&(n=new Va("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zr=null,hi=null;function k0(e){vp(e,0)}function Zl(e){var t=tr(e);if(If(t))return e}function w0(e,t){if(e==="change")return t}var up=!1;if(Yt){var Io;if(Yt){var Mo="oninput"in document;if(!Mo){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),Mo=typeof mc.oninput=="function"}Io=Mo}else Io=!1;up=Io&&(!document.documentMode||9<document.documentMode)}function gc(){Zr&&(Zr.detachEvent("onpropertychange",cp),hi=Zr=null)}function cp(e){if(e.propertyName==="value"&&Zl(hi)){var t=[];ap(t,hi,e,Fa(e)),Uf(k0,t)}}function b0(e,t,n){e==="focusin"?(gc(),Zr=t,hi=n,Zr.attachEvent("onpropertychange",cp)):e==="focusout"&&gc()}function S0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(hi)}function j0(e,t){if(e==="click")return Zl(t)}function C0(e,t){if(e==="input"||e==="change")return Zl(t)}function E0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:E0;function mi(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bs.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var n=xc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xc(n)}}function dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fp(){for(var e=window,t=wl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wl(e.document)}return t}function Ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function N0(e){var t=fp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dp(n.ownerDocument.documentElement,n)){if(r!==null&&Ka(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=yc(n,l);var o=yc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T0=Yt&&"documentMode"in document&&11>=document.documentMode,Zn=null,$s=null,ei=null,Ws=!1;function vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ws||Zn==null||Zn!==wl(r)||(r=Zn,"selectionStart"in r&&Ka(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ei&&mi(ei,r)||(ei=r,r=Tl($s,"onSelect"),0<r.length&&(t=new Va("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function Hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},Do={},pp={};Yt&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function eo(e){if(Do[e])return Do[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pp)return Do[e]=t[n];return e}var hp=eo("animationend"),mp=eo("animationiteration"),gp=eo("animationstart"),xp=eo("transitionend"),yp=new Map,kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){yp.set(e,t),Wn(t,[e])}for(var Ao=0;Ao<kc.length;Ao++){var zo=kc[Ao],L0=zo.toLowerCase(),P0=zo[0].toUpperCase()+zo.slice(1);bn(L0,"on"+P0)}bn(hp,"onAnimationEnd");bn(mp,"onAnimationIteration");bn(gp,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(xp,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lg(r,t,void 0,e),e.currentTarget=null}function vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;wc(i,s,u),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;wc(i,s,u),l=a}}}if(Sl)throw e=Rs,Sl=!1,Rs=null,e}function xe(e,t){var n=t[qs];n===void 0&&(n=t[qs]=new Set);var r=e+"__bubble";n.has(r)||(kp(t,e,2,!1),n.add(r))}function Ro(e,t,n){var r=0;t&&(r|=4),kp(n,e,r,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[Vi]){e[Vi]=!0,Nf.forEach(function(n){n!=="selectionchange"&&(_0.has(n)||Ro(n,!1,e),Ro(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,Ro("selectionchange",!1,t))}}function kp(e,t,n,r){switch(rp(t)){case 1:var i=Vg;break;case 4:i=Qg;break;default:i=Ua}n=i.bind(null,t,n,e),i=void 0,!zs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bo(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=_n(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Uf(function(){var u=l,f=Fa(n),d=[];e:{var h=yp.get(e);if(h!==void 0){var p=Va,g=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":p=s0;break;case"focusin":g="focus",p=_o;break;case"focusout":g="blur",p=_o;break;case"beforeblur":case"afterblur":p=_o;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=c0;break;case hp:case mp:case gp:p=Jg;break;case xp:p=f0;break;case"scroll":p=qg;break;case"wheel":p=h0;break;case"copy":case"cut":case"paste":p=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dc}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,y;x!==null;){y=x;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=ci(x,m),w!=null&&v.push(xi(x,w,y)))),b)break;x=x.return}0<v.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ds&&(g=n.relatedTarget||n.fromElement)&&(_n(g)||g[Jt]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?_n(g):null,g!==null&&(b=Un(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=uc,w="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=dc,w="onPointerLeave",m="onPointerEnter",x="pointer"),b=p==null?h:tr(p),y=g==null?h:tr(g),h=new v(w,x+"leave",p,n,f),h.target=b,h.relatedTarget=y,w=null,_n(f)===u&&(v=new v(m,x+"enter",g,n,f),v.target=y,v.relatedTarget=b,w=v),b=w,p&&g)t:{for(v=p,m=g,x=0,y=v;y;y=qn(y))x++;for(y=0,w=m;w;w=qn(w))y++;for(;0<x-y;)v=qn(v),x--;for(;0<y-x;)m=qn(m),y--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=qn(v),m=qn(m)}v=null}else v=null;p!==null&&bc(d,h,p,v,!1),g!==null&&b!==null&&bc(d,b,g,v,!0)}}e:{if(h=u?tr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=w0;else if(hc(h))if(up)T=C0;else{T=S0;var E=b0}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=j0);if(T&&(T=T(e,u))){ap(d,T,n,f);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Ls(h,"number",h.value)}switch(E=u?tr(u):window,e){case"focusin":(hc(E)||E.contentEditable==="true")&&(Zn=E,$s=u,ei=null);break;case"focusout":ei=$s=Zn=null;break;case"mousedown":Ws=!0;break;case"contextmenu":case"mouseup":case"dragend":Ws=!1,vc(d,n,f);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":vc(d,n,f)}var N;if(qa)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jn?op(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(lp&&n.locale!=="ko"&&(Jn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jn&&(N=ip()):(cn=f,Ha="value"in cn?cn.value:cn.textContent,Jn=!0)),E=Tl(u,_),0<E.length&&(_=new cc(_,e,null,n,f),d.push({event:_,listeners:E}),N?_.data=N:(N=sp(n),N!==null&&(_.data=N)))),(N=g0?x0(e,n):y0(e,n))&&(u=Tl(u,"onBeforeInput"),0<u.length&&(f=new cc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=N))}vp(d,t)})}function xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=ci(e,n),l!=null&&r.unshift(xi(e,l,i)),l=ci(e,t),l!=null&&r.push(xi(e,l,i))),e=e.return}return r}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=ci(n,l),a!=null&&o.unshift(xi(n,a,s))):i||(a=ci(n,l),a!=null&&o.push(xi(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var I0=/\r\n?/g,M0=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(I0,`
`).replace(M0,"")}function Qi(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(R(425))}function Ll(){}var Us=null,Hs=null;function Vs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qs=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,A0=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(z0)}:Qs;function z0(e){setTimeout(function(){throw e})}function Fo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pi(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),$t="__reactFiber$"+Er,yi="__reactProps$"+Er,Jt="__reactContainer$"+Er,qs="__reactEvents$"+Er,R0="__reactListeners$"+Er,B0="__reactHandles$"+Er;function _n(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cc(e);e!==null;){if(n=e[$t])return n;e=Cc(e)}return t}e=n,n=e.parentNode}return null}function _i(e){return e=e[$t]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function to(e){return e[yi]||null}var Ks=[],nr=-1;function Sn(e){return{current:e}}function ye(e){0>nr||(e.current=Ks[nr],Ks[nr]=null,nr--)}function me(e,t){nr++,Ks[nr]=e.current,e.current=t}var wn={},Qe=Sn(wn),lt=Sn(!1),zn=wn;function gr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function Pl(){ye(lt),ye(Qe)}function Ec(e,t,n){if(Qe.current!==wn)throw Error(R(168));me(Qe,t),me(lt,n)}function wp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,bg(e)||"Unknown",i));return Se({},n,r)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,zn=Qe.current,me(Qe,e),me(lt,lt.current),!0}function Nc(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=wp(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,ye(lt),ye(Qe),me(Qe,e)):ye(lt),me(lt,n)}var qt=null,no=!1,Oo=!1;function bp(e){qt===null?qt=[e]:qt.push(e)}function F0(e){no=!0,bp(e)}function jn(){if(!Oo&&qt!==null){Oo=!0;var e=0,t=fe;try{var n=qt;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,no=!1}catch(i){throw qt!==null&&(qt=qt.slice(e+1)),qf(Oa,jn),i}finally{fe=t,Oo=!1}}return null}var rr=[],ir=0,Il=null,Ml=0,wt=[],bt=0,Rn=null,Kt=1,Gt="";function Tn(e,t){rr[ir++]=Ml,rr[ir++]=Il,Il=e,Ml=t}function Sp(e,t,n){wt[bt++]=Kt,wt[bt++]=Gt,wt[bt++]=Rn,Rn=e;var r=Kt;e=Gt;var i=32-Dt(r)-1;r&=~(1<<i),n+=1;var l=32-Dt(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kt=1<<32-Dt(t)+i|n<<i|r,Gt=l+e}else Kt=1<<l|n<<i|r,Gt=e}function Ga(e){e.return!==null&&(Tn(e,1),Sp(e,1,0))}function Xa(e){for(;e===Il;)Il=rr[--ir],rr[ir]=null,Ml=rr[--ir],rr[ir]=null;for(;e===Rn;)Rn=wt[--bt],wt[bt]=null,Gt=wt[--bt],wt[bt]=null,Kt=wt[--bt],wt[bt]=null}var ht=null,pt=null,ve=!1,Mt=null;function jp(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,pt=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:Kt,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,pt=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xs(e){if(ve){var t=pt;if(t){var n=t;if(!Tc(e,t)){if(Gs(e))throw Error(R(418));t=mn(n.nextSibling);var r=ht;t&&Tc(e,t)?jp(r,n):(e.flags=e.flags&-4097|2,ve=!1,ht=e)}}else{if(Gs(e))throw Error(R(418));e.flags=e.flags&-4097|2,ve=!1,ht=e}}}function Lc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function qi(e){if(e!==ht)return!1;if(!ve)return Lc(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vs(e.type,e.memoizedProps)),t&&(t=pt)){if(Gs(e))throw Cp(),Error(R(418));for(;t;)jp(e,t),t=mn(t.nextSibling)}if(Lc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ht?mn(e.stateNode.nextSibling):null;return!0}function Cp(){for(var e=pt;e;)e=mn(e.nextSibling)}function xr(){pt=ht=null,ve=!1}function Ya(e){Mt===null?Mt=[e]:Mt.push(e)}var O0=tn.ReactCurrentBatchConfig;function Fr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function Ep(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=vn(m,x),m.index=0,m.sibling=null,m}function l(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,x,y,w){return x===null||x.tag!==6?(x=qo(y,m.mode,w),x.return=m,x):(x=i(x,y),x.return=m,x)}function a(m,x,y,w){var T=y.type;return T===Yn?f(m,x,y.props.children,w,y.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===on&&Pc(T)===x.type)?(w=i(x,y.props),w.ref=Fr(m,x,y),w.return=m,w):(w=xl(y.type,y.key,y.props,null,m.mode,w),w.ref=Fr(m,x,y),w.return=m,w)}function u(m,x,y,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Ko(y,m.mode,w),x.return=m,x):(x=i(x,y.children||[]),x.return=m,x)}function f(m,x,y,w,T){return x===null||x.tag!==7?(x=An(y,m.mode,w,T),x.return=m,x):(x=i(x,y),x.return=m,x)}function d(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qo(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ri:return y=xl(x.type,x.key,x.props,null,m.mode,y),y.ref=Fr(m,null,x),y.return=m,y;case Xn:return x=Ko(x,m.mode,y),x.return=m,x;case on:var w=x._init;return d(m,w(x._payload),y)}if(qr(x)||Dr(x))return x=An(x,m.mode,y,null),x.return=m,x;Ki(m,x)}return null}function h(m,x,y,w){var T=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:s(m,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ri:return y.key===T?a(m,x,y,w):null;case Xn:return y.key===T?u(m,x,y,w):null;case on:return T=y._init,h(m,x,T(y._payload),w)}if(qr(y)||Dr(y))return T!==null?null:f(m,x,y,w,null);Ki(m,y)}return null}function p(m,x,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,s(x,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ri:return m=m.get(w.key===null?y:w.key)||null,a(x,m,w,T);case Xn:return m=m.get(w.key===null?y:w.key)||null,u(x,m,w,T);case on:var E=w._init;return p(m,x,y,E(w._payload),T)}if(qr(w)||Dr(w))return m=m.get(y)||null,f(x,m,w,T,null);Ki(x,w)}return null}function g(m,x,y,w){for(var T=null,E=null,N=x,_=x=0,D=null;N!==null&&_<y.length;_++){N.index>_?(D=N,N=null):D=N.sibling;var C=h(m,N,y[_],w);if(C===null){N===null&&(N=D);break}e&&N&&C.alternate===null&&t(m,N),x=l(C,x,_),E===null?T=C:E.sibling=C,E=C,N=D}if(_===y.length)return n(m,N),ve&&Tn(m,_),T;if(N===null){for(;_<y.length;_++)N=d(m,y[_],w),N!==null&&(x=l(N,x,_),E===null?T=N:E.sibling=N,E=N);return ve&&Tn(m,_),T}for(N=r(m,N);_<y.length;_++)D=p(N,m,_,y[_],w),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?_:D.key),x=l(D,x,_),E===null?T=D:E.sibling=D,E=D);return e&&N.forEach(function($){return t(m,$)}),ve&&Tn(m,_),T}function v(m,x,y,w){var T=Dr(y);if(typeof T!="function")throw Error(R(150));if(y=T.call(y),y==null)throw Error(R(151));for(var E=T=null,N=x,_=x=0,D=null,C=y.next();N!==null&&!C.done;_++,C=y.next()){N.index>_?(D=N,N=null):D=N.sibling;var $=h(m,N,C.value,w);if($===null){N===null&&(N=D);break}e&&N&&$.alternate===null&&t(m,N),x=l($,x,_),E===null?T=$:E.sibling=$,E=$,N=D}if(C.done)return n(m,N),ve&&Tn(m,_),T;if(N===null){for(;!C.done;_++,C=y.next())C=d(m,C.value,w),C!==null&&(x=l(C,x,_),E===null?T=C:E.sibling=C,E=C);return ve&&Tn(m,_),T}for(N=r(m,N);!C.done;_++,C=y.next())C=p(N,m,_,C.value,w),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?_:C.key),x=l(C,x,_),E===null?T=C:E.sibling=C,E=C);return e&&N.forEach(function(H){return t(m,H)}),ve&&Tn(m,_),T}function b(m,x,y,w){if(typeof y=="object"&&y!==null&&y.type===Yn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ri:e:{for(var T=y.key,E=x;E!==null;){if(E.key===T){if(T=y.type,T===Yn){if(E.tag===7){n(m,E.sibling),x=i(E,y.props.children),x.return=m,m=x;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===on&&Pc(T)===E.type){n(m,E.sibling),x=i(E,y.props),x.ref=Fr(m,E,y),x.return=m,m=x;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===Yn?(x=An(y.props.children,m.mode,w,y.key),x.return=m,m=x):(w=xl(y.type,y.key,y.props,null,m.mode,w),w.ref=Fr(m,x,y),w.return=m,m=w)}return o(m);case Xn:e:{for(E=y.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=i(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=Ko(y,m.mode,w),x.return=m,m=x}return o(m);case on:return E=y._init,b(m,x,E(y._payload),w)}if(qr(y))return g(m,x,y,w);if(Dr(y))return v(m,x,y,w);Ki(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=i(x,y),x.return=m,m=x):(n(m,x),x=qo(y,m.mode,w),x.return=m,m=x),o(m)):n(m,x)}return b}var yr=Ep(!0),Np=Ep(!1),Dl=Sn(null),Al=null,lr=null,Ja=null;function Za(){Ja=lr=Al=null}function eu(e){var t=Dl.current;ye(Dl),e._currentValue=t}function Ys(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){Al=e,Ja=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Ja!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(Al===null)throw Error(R(308));lr=e,Al.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var In=null;function tu(e){In===null?In=[e]:In.push(e)}function Tp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,tu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zt(e,r)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zt(e,n)}return i=r.interleaved,i===null?(t.next=t,tu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zt(e,n)}function dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$a(e,n)}}function _c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zl(e,t,n,r){var i=e.updateQueue;sn=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(l!==null){var d=i.baseState;o=0,f=u=a=null,s=l;do{var h=s.lane,p=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(h=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Se({},d,h);break e;case 2:sn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,a=d):f=f.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Fn|=o,e.lanes=o,e.memoizedState=d}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Ii={},Ut=Sn(Ii),vi=Sn(Ii),ki=Sn(Ii);function Mn(e){if(e===Ii)throw Error(R(174));return e}function ru(e,t){switch(me(ki,t),me(vi,e),me(Ut,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_s(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_s(t,e)}ye(Ut),me(Ut,t)}function vr(){ye(Ut),ye(vi),ye(ki)}function Pp(e){Mn(ki.current);var t=Mn(Ut.current),n=_s(t,e.type);t!==n&&(me(vi,e),me(Ut,n))}function iu(e){vi.current===e&&(ye(Ut),ye(vi))}var we=Sn(0);function Rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $o=[];function lu(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var fl=tn.ReactCurrentDispatcher,Wo=tn.ReactCurrentBatchConfig,Bn=0,be=null,_e=null,De=null,Bl=!1,ti=!1,wi=0,$0=0;function We(){throw Error(R(321))}function ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function su(e,t,n,r,i,l){if(Bn=l,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=e===null||e.memoizedState===null?V0:Q0,e=n(r,i),ti){l=0;do{if(ti=!1,wi=0,25<=l)throw Error(R(301));l+=1,De=_e=null,t.updateQueue=null,fl.current=q0,e=n(r,i)}while(ti)}if(fl.current=Fl,t=_e!==null&&_e.next!==null,Bn=0,De=_e=be=null,Bl=!1,t)throw Error(R(300));return e}function au(){var e=wi!==0;return wi=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?be.memoizedState=De=e:De=De.next=e,De}function Tt(){if(_e===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=De===null?be.memoizedState:De.next;if(t!==null)De=t,_e=e;else{if(e===null)throw Error(R(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},De===null?be.memoizedState=De=e:De=De.next=e}return De}function bi(e,t){return typeof t=="function"?t(e):t}function Uo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=_e,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,u=l;do{var f=u.lane;if((Bn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=d,o=r):a=a.next=d,be.lanes|=f,Fn|=f}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=s,Rt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,be.lanes|=l,Fn|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ho(e){var t=Tt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Rt(l,t.memoizedState)||(it=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function _p(){}function Ip(e,t){var n=be,r=Tt(),i=t(),l=!Rt(r.memoizedState,i);if(l&&(r.memoizedState=i,it=!0),r=r.queue,uu(Ap.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Si(9,Dp.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(R(349));Bn&30||Mp(n,t,i)}return i}function Mp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dp(e,t,n,r){t.value=n,t.getSnapshot=r,zp(t)&&Rp(e)}function Ap(e,t,n){return n(function(){zp(t)&&Rp(e)})}function zp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function Rp(e){var t=Zt(e,1);t!==null&&At(t,e,1,-1)}function Mc(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=H0.bind(null,be,e),[t.memoizedState,e]}function Si(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bp(){return Tt().memoizedState}function pl(e,t,n,r){var i=Ft();be.flags|=e,i.memoizedState=Si(1|t,n,void 0,r===void 0?null:r)}function ro(e,t,n,r){var i=Tt();r=r===void 0?null:r;var l=void 0;if(_e!==null){var o=_e.memoizedState;if(l=o.destroy,r!==null&&ou(r,o.deps)){i.memoizedState=Si(t,n,l,r);return}}be.flags|=e,i.memoizedState=Si(1|t,n,l,r)}function Dc(e,t){return pl(8390656,8,e,t)}function uu(e,t){return ro(2048,8,e,t)}function Fp(e,t){return ro(4,2,e,t)}function Op(e,t){return ro(4,4,e,t)}function $p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wp(e,t,n){return n=n!=null?n.concat([e]):null,ro(4,4,$p.bind(null,t,e),n)}function cu(){}function Up(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ou(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hp(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ou(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vp(e,t,n){return Bn&21?(Rt(n,t)||(n=Xf(),be.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function W0(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=Wo.transition;Wo.transition={};try{e(!1),t()}finally{fe=n,Wo.transition=r}}function Qp(){return Tt().memoizedState}function U0(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qp(e))Kp(t,n);else if(n=Tp(e,t,n,r),n!==null){var i=Je();At(n,e,r,i),Gp(n,t,r)}}function H0(e,t,n){var r=yn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qp(e))Kp(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,Rt(s,o)){var a=t.interleaved;a===null?(i.next=i,tu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Tp(e,t,i,r),n!==null&&(i=Je(),At(n,e,r,i),Gp(n,t,r))}}function qp(e){var t=e.alternate;return e===be||t!==null&&t===be}function Kp(e,t){ti=Bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$a(e,n)}}var Fl={readContext:Nt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},V0={readContext:Nt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pl(4194308,4,$p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return pl(4,2,e,t)},useMemo:function(e,t){var n=Ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U0.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:cu,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=W0.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=be,i=Ft();if(ve){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ae===null)throw Error(R(349));Bn&30||Mp(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Dc(Ap.bind(null,r,l,e),[e]),r.flags|=2048,Si(9,Dp.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ft(),t=Ae.identifierPrefix;if(ve){var n=Gt,r=Kt;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q0={readContext:Nt,useCallback:Up,useContext:Nt,useEffect:uu,useImperativeHandle:Wp,useInsertionEffect:Fp,useLayoutEffect:Op,useMemo:Hp,useReducer:Uo,useRef:Bp,useState:function(){return Uo(bi)},useDebugValue:cu,useDeferredValue:function(e){var t=Tt();return Vp(t,_e.memoizedState,e)},useTransition:function(){var e=Uo(bi)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:_p,useSyncExternalStore:Ip,useId:Qp,unstable_isNewReconciler:!1},q0={readContext:Nt,useCallback:Up,useContext:Nt,useEffect:uu,useImperativeHandle:Wp,useInsertionEffect:Fp,useLayoutEffect:Op,useMemo:Hp,useReducer:Ho,useRef:Bp,useState:function(){return Ho(bi)},useDebugValue:cu,useDeferredValue:function(e){var t=Tt();return _e===null?t.memoizedState=e:Vp(t,_e.memoizedState,e)},useTransition:function(){var e=Ho(bi)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:_p,useSyncExternalStore:Ip,useId:Qp,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Js(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),i=yn(e),l=Xt(r,i);l.payload=t,n!=null&&(l.callback=n),t=gn(e,l,i),t!==null&&(At(t,e,i,r),dl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),i=yn(e),l=Xt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=gn(e,l,i),t!==null&&(At(t,e,i,r),dl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=yn(e),i=Xt(n,r);i.tag=2,t!=null&&(i.callback=t),t=gn(e,i,r),t!==null&&(At(t,e,r,n),dl(t,e,r))}};function Ac(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!mi(n,r)||!mi(i,l):!0}function Xp(e,t,n){var r=!1,i=wn,l=t.contextType;return typeof l=="object"&&l!==null?l=Nt(l):(i=ot(t)?zn:Qe.current,r=t.contextTypes,l=(r=r!=null)?gr(e,i):wn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function zc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function Zs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},nu(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Nt(l):(l=ot(t)?zn:Qe.current,i.context=gr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Js(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&io.enqueueReplaceState(i,i.state,null),zl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var n="",r=t;do n+=wg(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Vo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function Yp(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,ca=r),ea(e,t)},n}function Jp(e,t,n){n=Xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ea(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ea(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Rc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ax.bind(null,e,t,n),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var G0=tn.ReactCurrentOwner,it=!1;function Xe(e,t,n,r){t.child=e===null?Np(t,null,n,r):yr(t,e.child,n,r)}function Oc(e,t,n,r,i){n=n.render;var l=t.ref;return fr(t,i),r=su(e,t,n,r,l,i),n=au(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,en(e,t,i)):(ve&&n&&Ga(t),t.flags|=1,Xe(e,t,r,i),t.child)}function $c(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!yu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Zp(e,t,l,r,i)):(e=xl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(o,r)&&e.ref===t.ref)return en(e,t,i)}return t.flags|=1,e=vn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Zp(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(mi(l,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,en(e,t,i)}return ta(e,t,n,r,i)}function eh(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(sr,ft),ft|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(sr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,me(sr,ft),ft|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,me(sr,ft),ft|=r;return Xe(e,t,i,n),t.child}function th(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ta(e,t,n,r,i){var l=ot(n)?zn:Qe.current;return l=gr(t,l),fr(t,i),n=su(e,t,n,r,l,i),r=au(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,en(e,t,i)):(ve&&r&&Ga(t),t.flags|=1,Xe(e,t,n,i),t.child)}function Wc(e,t,n,r,i){if(ot(n)){var l=!0;_l(t)}else l=!1;if(fr(t,i),t.stateNode===null)hl(e,t),Xp(t,n,r),Zs(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ot(n)?zn:Qe.current,u=gr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==u)&&zc(t,o,r,u),sn=!1;var h=t.memoizedState;o.state=h,zl(t,r,o,i),a=t.memoizedState,s!==r||h!==a||lt.current||sn?(typeof f=="function"&&(Js(t,n,f,r),a=t.memoizedState),(s=sn||Ac(t,n,s,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Lp(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:_t(t.type,s),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Nt(a):(a=ot(n)?zn:Qe.current,a=gr(t,a));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==a)&&zc(t,o,r,a),sn=!1,h=t.memoizedState,o.state=h,zl(t,r,o,i);var g=t.memoizedState;s!==d||h!==g||lt.current||sn?(typeof p=="function"&&(Js(t,n,p,r),g=t.memoizedState),(u=sn||Ac(t,n,u,r,h,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return na(e,t,n,r,l,i)}function na(e,t,n,r,i,l){th(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Nc(t,n,!1),en(e,t,l);r=t.stateNode,G0.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yr(t,e.child,null,l),t.child=yr(t,null,s,l)):Xe(e,t,s,l),t.memoizedState=r.state,i&&Nc(t,n,!0),t.child}function nh(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),ru(e,t.containerInfo)}function Uc(e,t,n,r,i){return xr(),Ya(i),t.flags|=256,Xe(e,t,n,r),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function rh(e,t,n){var r=t.pendingProps,i=we.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),me(we,i&1),e===null)return Xs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=so(o,r,0,null),e=An(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ia(n),t.memoizedState=ra,e):du(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return X0(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=vn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=vn(s,l):(l=An(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?ia(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=ra,r}return l=e.child,e=l.sibling,r=vn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function du(e,t){return t=so({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gi(e,t,n,r){return r!==null&&Ya(r),yr(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X0(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Vo(Error(R(422))),Gi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=so({mode:"visible",children:r.children},i,0,null),l=An(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&yr(t,e.child,null,o),t.child.memoizedState=ia(o),t.memoizedState=ra,l);if(!(t.mode&1))return Gi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(R(419)),r=Vo(l,r,void 0),Gi(e,t,o,r)}if(s=(o&e.childLanes)!==0,it||s){if(r=Ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Zt(e,i),At(r,e,i,-1))}return xu(),r=Vo(Error(R(421))),Gi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ux.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,pt=mn(i.nextSibling),ht=t,ve=!0,Mt=null,e!==null&&(wt[bt++]=Kt,wt[bt++]=Gt,wt[bt++]=Rn,Kt=e.id,Gt=e.overflow,Rn=t),t=du(t,r.children),t.flags|=4096,t)}function Hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ys(e.return,t,n)}function Qo(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function ih(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Xe(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,n,t);else if(e.tag===19)Hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(we,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Rl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qo(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qo(t,!0,n,null,l);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y0(e,t,n){switch(t.tag){case 3:nh(t),xr();break;case 5:Pp(t);break;case 1:ot(t.type)&&_l(t);break;case 4:ru(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;me(Dl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?rh(e,t,n):(me(we,we.current&1),e=en(e,t,n),e!==null?e.sibling:null);me(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ih(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,eh(e,t,n)}return en(e,t,n)}var lh,la,oh,sh;lh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};la=function(){};oh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mn(Ut.current);var l=null;switch(n){case"input":i=Ns(e,i),r=Ns(e,r),l=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),l=[];break;case"textarea":i=Ps(e,i),r=Ps(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}Is(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ai.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ai.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&xe("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};sh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function J0(e,t,n){var r=t.pendingProps;switch(Xa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return ot(t.type)&&Pl(),Ue(t),null;case 3:return r=t.stateNode,vr(),ye(lt),ye(Qe),lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(pa(Mt),Mt=null))),la(e,t),Ue(t),null;case 5:iu(t);var i=Mn(ki.current);if(n=t.type,e!==null&&t.stateNode!=null)oh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Ue(t),null}if(e=Mn(Ut.current),qi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[$t]=t,r[yi]=l,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<Gr.length;i++)xe(Gr[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Zu(r,l),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},xe("invalid",r);break;case"textarea":tc(r,l),xe("invalid",r)}Is(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Qi(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Qi(r.textContent,s,e),i=["children",""+s]):ai.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Bi(r),ec(r,l,!0);break;case"textarea":Bi(r),nc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Ll)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Af(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$t]=t,e[yi]=r,lh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ms(n,r),n){case"dialog":xe("cancel",e),xe("close",e),i=r;break;case"iframe":case"object":case"embed":xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gr.length;i++)xe(Gr[i],e);i=r;break;case"source":xe("error",e),i=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),i=r;break;case"details":xe("toggle",e),i=r;break;case"input":Zu(e,r),i=Ns(e,r),xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),xe("invalid",e);break;case"textarea":tc(e,r),i=Ps(e,r),xe("invalid",e);break;default:i=r}Is(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Bf(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&zf(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ui(e,a):typeof a=="number"&&ui(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ai.hasOwnProperty(l)?a!=null&&l==="onScroll"&&xe("scroll",e):a!=null&&Aa(e,l,a,o))}switch(n){case"input":Bi(e),ec(e,r,!1);break;case"textarea":Bi(e),nc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?ar(e,!!r.multiple,l,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)sh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Mn(ki.current),Mn(Ut.current),qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[$t]=t,(l=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:Qi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=t,t.stateNode=r}return Ue(t),null;case 13:if(ye(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&pt!==null&&t.mode&1&&!(t.flags&128))Cp(),xr(),t.flags|=98560,l=!1;else if(l=qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[$t]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),l=!1}else Mt!==null&&(pa(Mt),Mt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Ie===0&&(Ie=3):xu())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return vr(),la(e,t),e===null&&gi(t.stateNode.containerInfo),Ue(t),null;case 10:return eu(t.type._context),Ue(t),null;case 17:return ot(t.type)&&Pl(),Ue(t),null;case 19:if(ye(we),l=t.memoizedState,l===null)return Ue(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Or(l,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rl(e),o!==null){for(t.flags|=128,Or(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(we,we.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ne()>wr&&(t.flags|=128,r=!0,Or(l,!1),t.lanes=4194304)}else{if(!r)if(e=Rl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ve)return Ue(t),null}else 2*Ne()-l.renderingStartTime>wr&&n!==1073741824&&(t.flags|=128,r=!0,Or(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ne(),t.sibling=null,n=we.current,me(we,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return gu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Z0(e,t){switch(Xa(t),t.tag){case 1:return ot(t.type)&&Pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),ye(lt),ye(Qe),lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iu(t),null;case 13:if(ye(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(we),null;case 4:return vr(),null;case 10:return eu(t.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var Xi=!1,He=!1,ex=typeof WeakSet=="function"?WeakSet:Set,V=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function oa(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Vc=!1;function tx(e,t){if(Us=El,e=fp(),Ka(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==l||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=o),h===l&&++f===r&&(a=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hs={focusedElem:e,selectionRange:n},El=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:_t(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){Ce(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=Vc,Vc=!1,g}function ni(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&oa(t,n,l)}i=i.next}while(i!==r)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[yi],delete t[qs],delete t[R0],delete t[B0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uh(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for(aa(e,t,n),e=e.sibling;e!==null;)aa(e,t,n),e=e.sibling}function ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}var Fe=null,It=!1;function rn(e,t,n){for(n=n.child;n!==null;)ch(e,t,n),n=n.sibling}function ch(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 5:He||or(n,t);case 6:var r=Fe,i=It;Fe=null,rn(e,t,n),Fe=r,It=i,Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?Fo(e.parentNode,n):e.nodeType===1&&Fo(e,n),pi(e)):Fo(Fe,n.stateNode));break;case 4:r=Fe,i=It,Fe=n.stateNode.containerInfo,It=!0,rn(e,t,n),Fe=r,It=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&oa(n,t,o),i=i.next}while(i!==r)}rn(e,t,n);break;case 1:if(!He&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ce(n,t,s)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,rn(e,t,n),He=r):rn(e,t,n);break;default:rn(e,t,n)}}function qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ex),t.forEach(function(r){var i=cx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Fe=s.stateNode,It=!1;break e;case 3:Fe=s.stateNode.containerInfo,It=!0;break e;case 4:Fe=s.stateNode.containerInfo,It=!0;break e}s=s.return}if(Fe===null)throw Error(R(160));ch(l,o,i),Fe=null,It=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}function dh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Bt(e),r&4){try{ni(3,e,e.return),lo(3,e)}catch(v){Ce(e,e.return,v)}try{ni(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Pt(t,e),Bt(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(Pt(t,e),Bt(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var i=e.stateNode;try{ui(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Mf(i,l),Ms(s,o);var u=Ms(s,l);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Bf(i,d):f==="dangerouslySetInnerHTML"?zf(i,d):f==="children"?ui(i,d):Aa(i,f,d,u)}switch(s){case"input":Ts(i,l);break;case"textarea":Df(i,l);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var p=l.value;p!=null?ar(i,!!l.multiple,p,!1):h!==!!l.multiple&&(l.defaultValue!=null?ar(i,!!l.multiple,l.defaultValue,!0):ar(i,!!l.multiple,l.multiple?[]:"",!1))}i[yi]=l}catch(v){Ce(e,e.return,v)}}break;case 6:if(Pt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){Ce(e,e.return,v)}}break;case 3:if(Pt(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Pt(t,e),Bt(e);break;case 13:Pt(t,e),Bt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(hu=Ne())),r&4&&qc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||f,Pt(t,e),He=u):Pt(t,e),Bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(V=e,f=e.child;f!==null;){for(d=V=f;V!==null;){switch(h=V,p=h.child,h.tag){case 0:case 11:case 14:case 15:ni(4,h,h.return);break;case 1:or(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:or(h,h.return);break;case 22:if(h.memoizedState!==null){Gc(d);continue}}p!==null?(p.return=h,V=p):Gc(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Rf("display",o))}catch(v){Ce(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pt(t,e),Bt(e),r&4&&qc(e);break;case 21:break;default:Pt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uh(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ui(i,""),r.flags&=-33);var l=Qc(e);ua(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Qc(e);aa(e,s,o);break;default:throw Error(R(161))}}catch(a){Ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nx(e,t,n){V=e,fh(e)}function fh(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var i=V,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xi;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||He;s=Xi;var u=He;if(Xi=o,(He=a)&&!u)for(V=i;V!==null;)o=V,a=o.child,o.tag===22&&o.memoizedState!==null?Xc(i):a!==null?(a.return=o,V=a):Xc(i);for(;l!==null;)V=l,fh(l),l=l.sibling;V=i,Xi=s,He=u}Kc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,V=l):Kc(e)}}function Kc(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ic(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&pi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}He||t.flags&512&&sa(t)}catch(h){Ce(t,t.return,h)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Gc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Xc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lo(4,t)}catch(a){Ce(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ce(t,i,a)}}var l=t.return;try{sa(t)}catch(a){Ce(t,l,a)}break;case 5:var o=t.return;try{sa(t)}catch(a){Ce(t,o,a)}}}catch(a){Ce(t,t.return,a)}if(t===e){V=null;break}var s=t.sibling;if(s!==null){s.return=t.return,V=s;break}V=t.return}}var rx=Math.ceil,Ol=tn.ReactCurrentDispatcher,fu=tn.ReactCurrentOwner,Ct=tn.ReactCurrentBatchConfig,ue=0,Ae=null,Le=null,Oe=0,ft=0,sr=Sn(0),Ie=0,ji=null,Fn=0,oo=0,pu=0,ri=null,rt=null,hu=0,wr=1/0,Qt=null,$l=!1,ca=null,xn=null,Yi=!1,dn=null,Wl=0,ii=0,da=null,ml=-1,gl=0;function Je(){return ue&6?Ne():ml!==-1?ml:ml=Ne()}function yn(e){return e.mode&1?ue&2&&Oe!==0?Oe&-Oe:O0.transition!==null?(gl===0&&(gl=Xf()),gl):(e=fe,e!==0||(e=window.event,e=e===void 0?16:rp(e.type)),e):1}function At(e,t,n,r){if(50<ii)throw ii=0,da=null,Error(R(185));Li(e,n,r),(!(ue&2)||e!==Ae)&&(e===Ae&&(!(ue&2)&&(oo|=n),Ie===4&&un(e,Oe)),st(e,r),n===1&&ue===0&&!(t.mode&1)&&(wr=Ne()+500,no&&jn()))}function st(e,t){var n=e.callbackNode;Og(e,t);var r=Cl(e,e===Ae?Oe:0);if(r===0)n!==null&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lc(n),t===1)e.tag===0?F0(Yc.bind(null,e)):bp(Yc.bind(null,e)),A0(function(){!(ue&6)&&jn()}),n=null;else{switch(Yf(r)){case 1:n=Oa;break;case 4:n=Kf;break;case 16:n=jl;break;case 536870912:n=Gf;break;default:n=jl}n=kh(n,ph.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ph(e,t){if(ml=-1,gl=0,ue&6)throw Error(R(327));var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var r=Cl(e,e===Ae?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ul(e,r);else{t=r;var i=ue;ue|=2;var l=mh();(Ae!==e||Oe!==t)&&(Qt=null,wr=Ne()+500,Dn(e,t));do try{ox();break}catch(s){hh(e,s)}while(!0);Za(),Ol.current=l,ue=i,Le!==null?t=0:(Ae=null,Oe=0,t=Ie)}if(t!==0){if(t===2&&(i=Bs(e),i!==0&&(r=i,t=fa(e,i))),t===1)throw n=ji,Dn(e,0),un(e,r),st(e,Ne()),n;if(t===6)un(e,r);else{if(i=e.current.alternate,!(r&30)&&!ix(i)&&(t=Ul(e,r),t===2&&(l=Bs(e),l!==0&&(r=l,t=fa(e,l))),t===1))throw n=ji,Dn(e,0),un(e,r),st(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Ln(e,rt,Qt);break;case 3:if(un(e,r),(r&130023424)===r&&(t=hu+500-Ne(),10<t)){if(Cl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qs(Ln.bind(null,e,rt,Qt),t);break}Ln(e,rt,Qt);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Dt(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rx(r/1960))-r,10<r){e.timeoutHandle=Qs(Ln.bind(null,e,rt,Qt),r);break}Ln(e,rt,Qt);break;case 5:Ln(e,rt,Qt);break;default:throw Error(R(329))}}}return st(e,Ne()),e.callbackNode===n?ph.bind(null,e):null}function fa(e,t){var n=ri;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=rt,rt=n,t!==null&&pa(t)),e}function pa(e){rt===null?rt=e:rt.push.apply(rt,e)}function ix(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Rt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~pu,t&=~oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function Yc(e){if(ue&6)throw Error(R(327));pr();var t=Cl(e,0);if(!(t&1))return st(e,Ne()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var r=Bs(e);r!==0&&(t=r,n=fa(e,r))}if(n===1)throw n=ji,Dn(e,0),un(e,t),st(e,Ne()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,rt,Qt),st(e,Ne()),null}function mu(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(wr=Ne()+500,no&&jn())}}function On(e){dn!==null&&dn.tag===0&&!(ue&6)&&pr();var t=ue;ue|=1;var n=Ct.transition,r=fe;try{if(Ct.transition=null,fe=1,e)return e()}finally{fe=r,Ct.transition=n,ue=t,!(ue&6)&&jn()}}function gu(){ft=sr.current,ye(sr)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,D0(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Xa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pl();break;case 3:vr(),ye(lt),ye(Qe),lu();break;case 5:iu(r);break;case 4:vr();break;case 13:ye(we);break;case 19:ye(we);break;case 10:eu(r.type._context);break;case 22:case 23:gu()}n=n.return}if(Ae=e,Le=e=vn(e.current,null),Oe=ft=t,Ie=0,ji=null,pu=oo=Fn=0,rt=ri=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}In=null}return e}function hh(e,t){do{var n=Le;try{if(Za(),fl.current=Fl,Bl){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bl=!1}if(Bn=0,De=_e=be=null,ti=!1,wi=0,fu.current=null,n===null||n.return===null){Ie=1,ji=t,Le=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=Oe,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Bc(o);if(p!==null){p.flags&=-257,Fc(p,o,s,l,t),p.mode&1&&Rc(l,u,t),t=p,a=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break e}else{if(!(t&1)){Rc(l,u,t),xu();break e}a=Error(R(426))}}else if(ve&&s.mode&1){var b=Bc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Fc(b,o,s,l,t),Ya(kr(a,s));break e}}l=a=kr(a,s),Ie!==4&&(Ie=2),ri===null?ri=[l]:ri.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=Yp(l,a,t);_c(l,m);break e;case 1:s=a;var x=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xn===null||!xn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Jp(l,s,t);_c(l,w);break e}}l=l.return}while(l!==null)}xh(n)}catch(T){t=T,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function mh(){var e=Ol.current;return Ol.current=Fl,e===null?Fl:e}function xu(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ae===null||!(Fn&268435455)&&!(oo&268435455)||un(Ae,Oe)}function Ul(e,t){var n=ue;ue|=2;var r=mh();(Ae!==e||Oe!==t)&&(Qt=null,Dn(e,t));do try{lx();break}catch(i){hh(e,i)}while(!0);if(Za(),ue=n,Ol.current=r,Le!==null)throw Error(R(261));return Ae=null,Oe=0,Ie}function lx(){for(;Le!==null;)gh(Le)}function ox(){for(;Le!==null&&!_g();)gh(Le)}function gh(e){var t=vh(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?xh(e):Le=t,fu.current=null}function xh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Z0(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Le=null;return}}else if(n=J0(n,t,ft),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Ie===0&&(Ie=5)}function Ln(e,t,n){var r=fe,i=Ct.transition;try{Ct.transition=null,fe=1,sx(e,t,n,r)}finally{Ct.transition=i,fe=r}return null}function sx(e,t,n,r){do pr();while(dn!==null);if(ue&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if($g(e,l),e===Ae&&(Le=Ae=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yi||(Yi=!0,kh(jl,function(){return pr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ct.transition,Ct.transition=null;var o=fe;fe=1;var s=ue;ue|=4,fu.current=null,tx(e,n),dh(n,e),N0(Hs),El=!!Us,Hs=Us=null,e.current=n,nx(n),Ig(),ue=s,fe=o,Ct.transition=l}else e.current=n;if(Yi&&(Yi=!1,dn=e,Wl=i),l=e.pendingLanes,l===0&&(xn=null),Ag(n.stateNode),st(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=ca,ca=null,e;return Wl&1&&e.tag!==0&&pr(),l=e.pendingLanes,l&1?e===da?ii++:(ii=0,da=e):ii=0,jn(),null}function pr(){if(dn!==null){var e=Yf(Wl),t=Ct.transition,n=fe;try{if(Ct.transition=null,fe=16>e?16:e,dn===null)var r=!1;else{if(e=dn,dn=null,Wl=0,ue&6)throw Error(R(331));var i=ue;for(ue|=4,V=e.current;V!==null;){var l=V,o=l.child;if(V.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(V=u;V!==null;){var f=V;switch(f.tag){case 0:case 11:case 15:ni(8,f,l)}var d=f.child;if(d!==null)d.return=f,V=d;else for(;V!==null;){f=V;var h=f.sibling,p=f.return;if(ah(f),f===u){V=null;break}if(h!==null){h.return=p,V=h;break}V=p}}}var g=l.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}V=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,V=o;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ni(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,V=m;break e}V=l.return}}var x=e.current;for(V=x;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=x;V!==null;){if(s=V,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:lo(9,s)}}catch(T){Ce(s,s.return,T)}if(s===o){V=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,V=w;break e}V=s.return}}if(ue=i,jn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Yl,e)}catch{}r=!0}return r}finally{fe=n,Ct.transition=t}}return!1}function Jc(e,t,n){t=kr(n,t),t=Yp(e,t,1),e=gn(e,t,1),t=Je(),e!==null&&(Li(e,1,t),st(e,t))}function Ce(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=kr(n,e),e=Jp(t,e,1),t=gn(t,e,1),e=Je(),t!==null&&(Li(t,1,e),st(t,e));break}}t=t.return}}function ax(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Oe&n)===n&&(Ie===4||Ie===3&&(Oe&130023424)===Oe&&500>Ne()-hu?Dn(e,0):pu|=n),st(e,t)}function yh(e,t){t===0&&(e.mode&1?(t=$i,$i<<=1,!($i&130023424)&&($i=4194304)):t=1);var n=Je();e=Zt(e,t),e!==null&&(Li(e,t,n),st(e,n))}function ux(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yh(e,n)}function cx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),yh(e,n)}var vh;vh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,Y0(e,t,n);it=!!(e.flags&131072)}else it=!1,ve&&t.flags&1048576&&Sp(t,Ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hl(e,t),e=t.pendingProps;var i=gr(t,Qe.current);fr(t,n),i=su(null,t,r,e,i,n);var l=au();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(l=!0,_l(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nu(t),i.updater=io,t.stateNode=i,i._reactInternals=t,Zs(t,r,e,n),t=na(null,t,r,!0,l,n)):(t.tag=0,ve&&l&&Ga(t),Xe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fx(r),e=_t(r,e),i){case 0:t=ta(null,t,r,e,n);break e;case 1:t=Wc(null,t,r,e,n);break e;case 11:t=Oc(null,t,r,e,n);break e;case 14:t=$c(null,t,r,_t(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),ta(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),Wc(e,t,r,i,n);case 3:e:{if(nh(t),e===null)throw Error(R(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Lp(e,t),zl(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=kr(Error(R(423)),t),t=Uc(e,t,r,n,i);break e}else if(r!==i){i=kr(Error(R(424)),t),t=Uc(e,t,r,n,i);break e}else for(pt=mn(t.stateNode.containerInfo.firstChild),ht=t,ve=!0,Mt=null,n=Np(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===i){t=en(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Pp(t),e===null&&Xs(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,Vs(r,i)?o=null:l!==null&&Vs(r,l)&&(t.flags|=32),th(e,t),Xe(e,t,o,n),t.child;case 6:return e===null&&Xs(t),null;case 13:return rh(e,t,n);case 4:return ru(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yr(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),Oc(e,t,r,i,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,me(Dl,r._currentValue),r._currentValue=o,l!==null)if(Rt(l.value,o)){if(l.children===i.children&&!lt.current){t=en(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Xt(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ys(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(R(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ys(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Xe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fr(t,n),i=Nt(i),r=r(i),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,i=_t(r,t.pendingProps),i=_t(r.type,i),$c(e,t,r,i,n);case 15:return Zp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),hl(e,t),t.tag=1,ot(r)?(e=!0,_l(t)):e=!1,fr(t,n),Xp(t,r,i),Zs(t,r,i,n),na(null,t,r,!0,e,n);case 19:return ih(e,t,n);case 22:return eh(e,t,n)}throw Error(R(156,t.tag))};function kh(e,t){return qf(e,t)}function dx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new dx(e,t,n,r)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fx(e){if(typeof e=="function")return yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ra)return 11;if(e===Ba)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xl(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")yu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yn:return An(n.children,i,l,t);case za:o=8,i|=8;break;case Ss:return e=jt(12,n,t,i|2),e.elementType=Ss,e.lanes=l,e;case js:return e=jt(13,n,t,i),e.elementType=js,e.lanes=l,e;case Cs:return e=jt(19,n,t,i),e.elementType=Cs,e.lanes=l,e;case Pf:return so(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tf:o=10;break e;case Lf:o=9;break e;case Ra:o=11;break e;case Ba:o=14;break e;case on:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=jt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function An(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function so(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Pf,e.lanes=n,e.stateNode={isHidden:!1},e}function qo(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Ko(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function px(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=To(0),this.expirationTimes=To(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=To(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vu(e,t,n,r,i,l,o,s,a){return e=new px(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=jt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(l),e}function hx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wh(e){if(!e)return wn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(ot(n))return wp(e,n,t)}return t}function bh(e,t,n,r,i,l,o,s,a){return e=vu(n,r,!0,e,i,l,o,s,a),e.context=wh(null),n=e.current,r=Je(),i=yn(n),l=Xt(r,i),l.callback=t??null,gn(n,l,i),e.current.lanes=i,Li(e,i,r),st(e,r),e}function ao(e,t,n,r){var i=t.current,l=Je(),o=yn(i);return n=wh(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(i,t,o),e!==null&&(At(e,i,o,l),dl(e,i,o)),o}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ku(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function mx(){return null}var Sh=typeof reportError=="function"?reportError:function(e){console.error(e)};function wu(e){this._internalRoot=e}uo.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));ao(e,t,null,null)};uo.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){ao(null,e,null,null)}),t[Jt]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&np(e)}};function bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ed(){}function gx(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=Hl(o);l.call(u)}}var o=bh(t,r,e,0,null,!1,!1,"",ed);return e._reactRootContainer=o,e[Jt]=o.current,gi(e.nodeType===8?e.parentNode:e),On(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Hl(a);s.call(u)}}var a=vu(e,0,!1,null,null,!1,!1,"",ed);return e._reactRootContainer=a,e[Jt]=a.current,gi(e.nodeType===8?e.parentNode:e),On(function(){ao(t,a,n,r)}),a}function fo(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=Hl(o);s.call(a)}}ao(t,o,e,i)}else o=gx(n,t,e,i,r);return Hl(o)}Jf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kr(t.pendingLanes);n!==0&&($a(t,n|1),st(t,Ne()),!(ue&6)&&(wr=Ne()+500,jn()))}break;case 13:On(function(){var r=Zt(e,1);if(r!==null){var i=Je();At(r,e,1,i)}}),ku(e,1)}};Wa=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=Je();At(t,e,134217728,n)}ku(e,134217728)}};Zf=function(e){if(e.tag===13){var t=yn(e),n=Zt(e,t);if(n!==null){var r=Je();At(n,e,t,r)}ku(e,t)}};ep=function(){return fe};tp=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};As=function(e,t,n){switch(t){case"input":if(Ts(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=to(r);if(!i)throw Error(R(90));If(r),Ts(r,i)}}}break;case"textarea":Df(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};$f=mu;Wf=On;var xx={usingClientEntryPoint:!1,Events:[_i,tr,to,Ff,Of,mu]},$r={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yx={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vf(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||mx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Yl=Ji.inject(yx),Wt=Ji}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(t))throw Error(R(200));return hx(e,t,null,n)};xt.createRoot=function(e,t){if(!bu(e))throw Error(R(299));var n=!1,r="",i=Sh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vu(e,1,!1,null,null,n,!1,r,i),e[Jt]=t.current,gi(e.nodeType===8?e.parentNode:e),new wu(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Vf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return On(e)};xt.hydrate=function(e,t,n){if(!co(t))throw Error(R(200));return fo(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!bu(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Sh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bh(t,null,e,1,n??null,i,!1,l,o),e[Jt]=t.current,gi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new uo(t)};xt.render=function(e,t,n){if(!co(t))throw Error(R(200));return fo(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!co(e))throw Error(R(40));return e._reactRootContainer?(On(function(){fo(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};xt.unstable_batchedUpdates=mu;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!co(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return fo(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jh)}catch(e){console.error(e)}}jh(),jf.exports=xt;var vx=jf.exports,td=vx;ws.createRoot=td.createRoot,ws.hydrateRoot=td.hydrateRoot;var ha=new Map,Zi=new WeakMap,nd=0,kx;function wx(e){return e?(Zi.has(e)||(nd+=1,Zi.set(e,nd.toString())),Zi.get(e)):"0"}function bx(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?wx(e.root):e[t]}`).toString()}function Sx(e){const t=bx(e);let n=ha.get(t);if(!n){const r=new Map;let i;const l=new IntersectionObserver(o=>{o.forEach(s=>{var a;const u=s.isIntersecting&&i.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(a=r.get(s.target))==null||a.forEach(f=>{f(u,s)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},ha.set(t,n)}return n}function jx(e,t,n={},r=kx){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:l,elements:o}=Sx(n),s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),l.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(o.delete(e),l.unobserve(e)),o.size===0&&(l.disconnect(),ha.delete(i))}}function Cx({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:l,skip:o,initialInView:s,fallbackInView:a,onChange:u}={}){var f;const[d,h]=j.useState(null),p=j.useRef(u),g=j.useRef(s),[v,b]=j.useState({inView:!!s,entry:void 0});p.current=u,j.useEffect(()=>{if(g.current===void 0&&(g.current=s),o||!d)return;let w;return w=jx(d,(T,E)=>{const N=g.current;g.current=T,!(N===void 0&&!T)&&(b({inView:T,entry:E}),p.current&&p.current(T,E),E.isIntersecting&&l&&w&&(w(),w=void 0))},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},a),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,d,i,r,l,o,n,a,t]);const m=(f=v.entry)==null?void 0:f.target,x=j.useRef(void 0);!d&&m&&!l&&!o&&x.current!==m&&(x.current=m,b({inView:!!s,entry:void 0}),g.current=s);const y=[h,v.inView,v.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const Ex={},rd=e=>{let t;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Ex?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},Nx=e=>e?rd(e):rd;var Ch={exports:{}},Eh={},Nh={exports:{}},Th={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=j;function Tx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lx=typeof Object.is=="function"?Object.is:Tx,Px=br.useState,_x=br.useEffect,Ix=br.useLayoutEffect,Mx=br.useDebugValue;function Dx(e,t){var n=t(),r=Px({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return Ix(function(){i.value=n,i.getSnapshot=t,Go(i)&&l({inst:i})},[e,n,t]),_x(function(){return Go(i)&&l({inst:i}),e(function(){Go(i)&&l({inst:i})})},[e]),Mx(n),n}function Go(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lx(e,n)}catch{return!0}}function Ax(e,t){return t()}var zx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ax:Dx;Th.useSyncExternalStore=br.useSyncExternalStore!==void 0?br.useSyncExternalStore:zx;Nh.exports=Th;var Rx=Nh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=j,Bx=Rx;function Fx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ox=typeof Object.is=="function"?Object.is:Fx,$x=Bx.useSyncExternalStore,Wx=po.useRef,Ux=po.useEffect,Hx=po.useMemo,Vx=po.useDebugValue;Eh.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=Wx(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=Hx(function(){function a(p){if(!u){if(u=!0,f=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,Ox(f,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(f=p,g):(f=p,d=v)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var s=$x(e,l[0],l[1]);return Ux(function(){o.hasValue=!0,o.value=s},[s]),Vx(s),s};Ch.exports=Eh;var Qx=Ch.exports;const qx=Gl(Qx),Lh={},{useDebugValue:Kx}=Ia,{useSyncExternalStoreWithSelector:Gx}=qx;let id=!1;const Xx=e=>e;function Yx(e,t=Xx,n){(Lh?"production":void 0)!=="production"&&n&&!id&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),id=!0);const r=Gx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Kx(r),r}const ld=e=>{(Lh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Nx(e):e,n=(r,i)=>Yx(t,r,i);return Object.assign(n,t),n},Ph=e=>e?ld(e):ld,_h=500,od=2,Ge="/api";function Ee(e,t){try{return JSON.parse(e)}catch{return t}}function Jx(e,t){return!(e==="done"&&t!=="done")}const Y=Ph((e,t)=>({threads:[],activeThreadId:null,isLoading:!1,error:null,showArchived:!1,sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{},lastSeenEventId:{},childPendingQuestions:{},queueWaiting:{},setActiveThread:n=>{const r=t().activeThreadId,i=t().threads,l=i.find(s=>s.id===n),o=i.find(s=>s.id===r);if(r&&r!==n){const s=(l==null?void 0:l.parentId)===r,a=(o==null?void 0:o.parentId)===n;!s&&!a&&t().unsubscribeFromThread(r)}if(e({activeThreadId:n}),n&&t().subscribeToThread(n),l!=null&&l.parentId&&t().subscribeToThread(l.parentId),n){const s=i.filter(a=>a.parentId===n&&!a.archivedAt);for(const a of s)(a.status==="pending"||a.status==="active")&&t().subscribeToThread(a.id)}},fetchThreads:async n=>{var r;e({isLoading:!0,error:null});try{const l=await fetch(`${Ge}/threads${n?"?include_archived=true":""}`);if(!l.ok){const h=(await l.json().catch(()=>({}))).detail||l.statusText;throw new Error(`${h} (HTTP ${l.status})`)}const o=await l.json(),s=t().threads,a=new Map(s.map(d=>[d.id,{lastUsage:d.lastUsage,lastCostUsd:d.lastCostUsd}])),u=o.map(d=>{var h,p;return{...d,lastUsage:(h=a.get(d.id))==null?void 0:h.lastUsage,lastCostUsd:(p=a.get(d.id))==null?void 0:p.lastCostUsd}}),f={};for(const d of u){const h=((r=d.messages)==null?void 0:r.length)||0;f[d.id]={hasMore:h>=50,total:h,loadedCount:h,isLoading:!1}}e({threads:u,pagination:f,isLoading:!1})}catch(i){const l=i instanceof Error?i.message:"Failed to fetch threads";e({error:l,isLoading:!1})}},createThread:async n=>{const r=await fetch(`${Ge}/threads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.json();return e(l=>({threads:[...l.threads,i]})),i},sendMessage:async(n,r,i)=>{const l=`temp-${Date.now()}`,o={id:l,role:"user",content:r,timestamp:new Date().toISOString()};e(f=>({threads:f.threads.map(d=>d.id===n?{...d,messages:[...d.messages,o],status:"pending"}:d)})),t().clearStreamingBlocks(n);const s=new AbortController,a=setTimeout(()=>s.abort(),3e5),u={content:r};i!=null&&i.images&&i.images.length>0&&(u.images=i.images),i!=null&&i.fileRefs&&i.fileRefs.length>0&&(u.file_references=i.fileRefs);try{const f=await fetch(`${Ge}/threads/${n}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),signal:s.signal});if(!f.ok){if(f.status===499){e(g=>({threads:g.threads.map(v=>v.id===n?{...v,messages:v.messages.filter(b=>b.id!==l),status:"active"}:v)}));return}const d=await f.json().catch(()=>({})),h=d.detail||f.statusText,p=d.type?` [${d.type}]`:"";throw new Error(`${h}${p} (HTTP ${f.status})`)}await f.json()}catch(f){if(f instanceof DOMException&&f.name==="AbortError"){const h="Request timed out after 5 minutes";throw e(p=>({threads:p.threads.map(g=>g.id===n?{...g,status:"needs_attention"}:g),error:h})),new Error(h)}const d=f instanceof Error?f.message:"Failed to send message";throw e(h=>({threads:h.threads.map(p=>p.id===n?{...p,status:"needs_attention"}:p),error:d})),f}finally{clearTimeout(a)}},stopThread:async n=>{try{const r=await fetch(`${Ge}/threads/${n}/stop`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}catch(r){if(r instanceof Error&&r.message.includes("No active task"))return;throw r}},updateThreadStatus:(n,r)=>{e(i=>({threads:i.threads.map(l=>l.id===n?{...l,status:r}:l)}))},updateThreadTitle:async(n,r)=>{const i=await fetch(`${Ge}/threads/${n}/title`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,title:r}:o)}))},updateThreadConfig:async(n,r)=>{const i=await fetch(`${Ge}/threads/${n}/config`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,...r}:o)}))},clearThreadMessages:async n=>{const r=await fetch(`${Ge}/threads/${n}/messages`,{method:"DELETE"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const{[n]:l,...o}=i.threadNotifications;return{threads:i.threads.map(s=>s.id===n?{...s,messages:[],sessionId:null}:s),threadNotifications:o}})},archiveThread:async n=>{const r=await fetch(`${Ge}/threads/${n}/archive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const l=i.threads.find(a=>a.id===n),o=i.activeThreadId===n;let s=i.activeThreadId;if(o)if(l!=null&&l.parentId)s=l.parentId;else{const a=i.threads.find(u=>u.id!==n&&!u.parentId&&!u.archivedAt);s=(a==null?void 0:a.id)||null}return{threads:i.threads.map(a=>a.id===n?{...a,archivedAt:new Date().toISOString()}:a),activeThreadId:s}})},unarchiveThread:async n=>{const r=await fetch(`${Ge}/threads/${n}/unarchive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>({threads:i.threads.map(l=>l.id===n?{...l,archivedAt:null}:l)}))},resetAllThreads:async()=>{const n=await fetch(`${Ge}/threads/all?confirm=true`,{method:"DELETE"});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.detail||`HTTP ${n.status}: ${n.statusText}`)}t().cleanupAllConnections(),e({threads:[],activeThreadId:null,error:null})},setShowArchived:n=>{e({showArchived:n}),t().fetchThreads(!0)},loadMoreMessages:async n=>{const{pagination:r,threads:i}=t(),l=r[n],o=i.find(s=>s.id===n);if(!(l!=null&&l.isLoading||!(l!=null&&l.hasMore))){e(s=>({pagination:{...s.pagination,[n]:{...s.pagination[n],isLoading:!0}}}));try{const a=((o==null?void 0:o.messages)||[]).length,u=await fetch(`${Ge}/threads/${n}/messages?limit=50&offset=${a}`);if(!u.ok)throw new Error(`HTTP ${u.status}`);const f=await u.json();e(d=>{const h=d.threads.find(v=>v.id===n);if(!h)return d;const p=new Set(h.messages.map(v=>v.id)),g=f.messages.filter(v=>!p.has(v.id));return{threads:d.threads.map(v=>v.id===n?{...v,messages:[...g,...v.messages]}:v),pagination:{...d.pagination,[n]:{hasMore:f.hasMore,total:f.total,loadedCount:h.messages.length+g.length,isLoading:!1}}}})}catch(s){console.error("Failed to load more messages:",s),e(a=>({pagination:{...a.pagination,[n]:{...a.pagination[n],isLoading:!1}}}))}}},subscribeToThread:(n,r)=>{const{sseConnections:i}=t();if(i[n])return;const l=r?`${Ge}/threads/${n}/stream?last_event_id=${r}`:`${Ge}/threads/${n}/stream`,o=new EventSource(l),s=a=>{a.lastEventId&&e(u=>{const f=u.sseConnections[n];return f?{sseConnections:{...u.sseConnections,[n]:{...f,lastEventId:a.lastEventId}}}:u})};o.addEventListener("connected",()=>{console.log(`[SSE] Connected to thread ${n}`),e(a=>{const u=a.sseConnections[n];return u?{sseConnections:{...a.sseConnections,[n]:{...u,reconnectAttempts:0,reconnectTimeoutId:void 0}}}:a})}),o.addEventListener("text_delta",a=>{var f;if(s(a),a.lastEventId){const d=t().lastSeenEventId[n],h=parseInt(d,10),p=parseInt(a.lastEventId,10);if(!isNaN(h)&&!isNaN(p)){if(h>10&&p<h)console.log(`[SSE] Server restart detected for thread ${n}: seq went from ${h} to ${p}, resetting lastSeenEventId`),e(g=>({lastSeenEventId:{...g.lastSeenEventId,[n]:"0"}}));else if(p<=h)return}e(g=>({lastSeenEventId:{...g.lastSeenEventId,[n]:a.lastEventId}}))}const u=Ee(a.data,{content:""});console.log("[SSE] text_delta received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendTextToLastBlock(n,u.content)}),o.addEventListener("thinking",a=>{var f;if(s(a),a.lastEventId){const d=t().lastSeenEventId[n],h=parseInt(d,10),p=parseInt(a.lastEventId,10);if(!isNaN(h)&&!isNaN(p)){if(h>10&&p<h)console.log(`[SSE] Server restart detected for thread ${n}: seq went from ${h} to ${p}, resetting lastSeenEventId`),e(g=>({lastSeenEventId:{...g.lastSeenEventId,[n]:"0"}}));else if(p<=h)return}e(g=>({lastSeenEventId:{...g.lastSeenEventId,[n]:a.lastEventId}}))}const u=Ee(a.data,{});console.log("[SSE] thinking received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendThinkingToLastBlock(n,u.content)}),o.addEventListener("tool_use",a=>{s(a);const u=Ee(a.data,{});console.log("[SSE] tool_use received:",u,"id:",u.id);const f=u.tool||u.name;f&&t().appendStreamingBlock(n,{type:"tool_use",name:f,input:u.input,id:u.id,isComplete:!1})}),o.addEventListener("tool_input",a=>{s(a);const u=Ee(a.data,{});console.log("[SSE] tool_input received:",u),u.id&&u.input&&t().updateBlockInput(n,u.id,u.input)}),o.addEventListener("tool_result",a=>{s(a);const u=Ee(a.data,{});if(console.log("[SSE] tool_result received:",u,"tool_use_id:",u.tool_use_id),u.tool_use_id){const f=u.is_error===!0,d=f&&typeof u.content=="string"?u.content:void 0;console.log("[SSE] Marking block complete:",u.tool_use_id,"isError:",f),t().markBlockComplete(n,u.tool_use_id,f,d),u.thread_id&&t().setSpawnedThreadId(u.tool_use_id,u.thread_id)}else console.warn("[SSE] tool_result missing tool_use_id:",u)}),o.addEventListener("question",a=>{s(a);const u=Ee(a.data,{});u.questions&&u.questions.length>0&&t().setPendingQuestion(n,u.questions)}),o.addEventListener("plan_approval",a=>{s(a);const u=Ee(a.data,{});if(u.timeout){console.warn("[SSE] Plan approval timed out:",u.message);return}u.planContent!==void 0&&t().setPendingPlanApproval(n,{planFilePath:u.planFilePath||"Plan",planContent:u.planContent||"",allowedPrompts:u.allowedPrompts})}),o.addEventListener("message",a=>{s(a);const u=Ee(a.data,{});u.message&&e(f=>{const d=f.threads.find(p=>p.id===n);return(d==null?void 0:d.messages.some(p=>p.id===u.message.id))?{threads:f.threads.map(p=>p.id===n?{...p,status:u.status||p.status}:p)}:{threads:f.threads.map(p=>p.id===n?{...p,messages:[...p.messages,u.message],status:u.status||p.status}:p)}})}),o.addEventListener("status_change",a=>{s(a);const u=Ee(a.data,{});u.status&&t().updateThreadStatus(n,u.status)}),o.addEventListener("stopped",a=>{s(a),console.log("[SSE] stopped received for thread",n),t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}),o.addEventListener("config_change",a=>{s(a);const u=Ee(a.data,{});e(f=>({threads:f.threads.map(d=>d.id===n?{...d,...u.model!==void 0&&{model:u.model},...u.extendedThinking!==void 0&&{extendedThinking:u.extendedThinking},...u.permissionMode!==void 0&&{permissionMode:u.permissionMode},...u.autoReact!==void 0&&{autoReact:u.autoReact}}:d)}))}),o.addEventListener("title_change",a=>{s(a);const u=Ee(a.data,{});u.title&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,title:u.title}:d)}))}),o.addEventListener("subthread_status",a=>{s(a);const u=Ee(a.data,{});if(u.threadId&&u.status){const f=t().threads.find(d=>d.id===u.threadId);if(!Jx(f==null?void 0:f.status,u.status)){console.log(`[SSE] Ignoring status change from '${f==null?void 0:f.status}' to '${u.status}' for thread ${u.threadId}`);return}t().updateThreadStatus(u.threadId,u.status),(u.status==="done"||u.status==="needs_attention")&&t().clearStreamingBlocks(u.threadId),(u.status==="done"||u.status==="needs_attention")&&((t().threadNotifications[n]||[]).some(p=>p.threadId===u.threadId&&p.status===u.status)||t().addThreadNotification(n,{threadId:u.threadId,threadTitle:u.title||"Sub-thread",timestamp:new Date().toISOString(),status:u.status}))}}),o.addEventListener("thread_created",a=>{var f;s(a);const u=Ee(a.data,{});if(u.thread){e(p=>p.threads.some(v=>v.id===u.thread.id)?p:{threads:[...p.threads,u.thread]});const d=t().streamingBlocks[n]||[];let h;for(const p of d)if(p.type==="tool_use"&&p.name==="SpawnThread"&&p.id&&!t().spawnedThreadIds[p.id]){const g=(f=p.input)==null?void 0:f.title;if(g&&g===u.thread.title){t().setSpawnedThreadId(p.id,u.thread.id),h=p.id;break}}h||setTimeout(()=>{const g=(t().streamingBlocks[n]||[]).find(v=>{var b;return v.type==="tool_use"&&v.name==="SpawnThread"&&v.id&&!t().spawnedThreadIds[v.id]&&((b=v.input)==null?void 0:b.title)===u.thread.title});g&&g.id?t().setSpawnedThreadId(g.id,u.thread.id):u.thread.parentId!==n&&t().addThreadNotification(n,{threadId:u.thread.id,threadTitle:u.thread.title,timestamp:new Date().toISOString()})},200),u.thread.parentId===n&&t().sseConnections[n]&&t().subscribeToThread(u.thread.id,"0")}}),o.addEventListener("subagent_start",a=>{s(a);const u=Ee(a.data,{});u.threadId&&e(f=>{if(f.threads.some(p=>p.id===u.threadId))return f;const h={id:u.threadId,title:u.title||"Sub-agent",status:u.status||"active",parentId:u.parentId||n,messages:[],sessionId:null,model:"claude-sonnet-4-5",extendedThinking:!1,permissionMode:"bypassPermissions",autoReact:!1,gitBranch:null,gitRepo:null,isWorktree:!1,worktreeBranch:null,archivedAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isEphemeral:!0,isReadOnly:!0};return{threads:[...f.threads,h]}})}),o.addEventListener("subagent_stop",a=>{s(a);const u=Ee(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,status:u.status||"done"}:d)}))}),o.addEventListener("child_question",a=>{s(a);const u=Ee(a.data,{});u.childThreadId&&u.questions&&u.questions.length>0&&t().setChildPendingQuestion(n,{childThreadId:u.childThreadId,childTitle:u.childTitle||"Sub-thread",questions:u.questions})}),o.addEventListener("thread_archived",a=>{s(a);const u=Ee(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:new Date().toISOString()}:d)}))}),o.addEventListener("thread_unarchived",a=>{s(a);const u=Ee(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:null}:d)}))}),o.addEventListener("usage",a=>{s(a);const u=Ee(a.data,{});u.usage&&e(f=>{const d=f.threads.find(v=>v.id===n),h=(d==null?void 0:d.lastUsage)||{input_tokens:0,output_tokens:0},p={input_tokens:(h.input_tokens||0)+(u.usage.input_tokens||0),output_tokens:(h.output_tokens||0)+(u.usage.output_tokens||0)},g=((d==null?void 0:d.lastCostUsd)||0)+(u.totalCostUsd||0);return{threads:f.threads.map(v=>v.id===n?{...v,lastUsage:p,lastCostUsd:g}:v)}})}),o.addEventListener("queue_waiting",a=>{s(a),console.log("[SSE] queue_waiting received for thread",n),e(u=>({queueWaiting:{...u.queueWaiting,[n]:!0}}))}),o.addEventListener("queue_acquired",a=>{s(a),console.log("[SSE] queue_acquired received for thread",n),e(u=>({queueWaiting:{...u.queueWaiting,[n]:!1}}))}),o.addEventListener("complete",a=>{s(a);const u=Ee(a.data,{});console.log("[SSE] complete received"),e(f=>{const d=f.threads.find(y=>y.id===n);if(!d)return f;let h=[...d.messages];if(u.userMessage){const y=h.findIndex(w=>w.id.startsWith("temp-")&&w.role==="user");y>=0?h[y]=u.userMessage:h.some(w=>w.id===u.userMessage.id)||h.push(u.userMessage)}u.assistantMessage&&(h.some(w=>w.id===u.assistantMessage.id)||h.push(u.assistantMessage));const{[n]:p,...g}=f.streamingBlocks,{[n]:v,...b}=f.expandedStreamingBlockId,{[n]:m,...x}=f.recentToolBlockIds;return{threads:f.threads.map(y=>y.id===n?{...y,messages:h,status:u.status||y.status}:y),streamingBlocks:g,expandedStreamingBlockId:b,recentToolBlockIds:x}})}),o.addEventListener("error",a=>{const u=a,f=u.data?Ee(u.data,{}):{};console.error(`[SSE] Error for thread ${n}:`,f.error||"Unknown error")}),o.onerror=()=>{const a=t().sseConnections[n],u=(a==null?void 0:a.reconnectAttempts)??0,f=5;if(console.error(`[SSE] Connection lost for thread ${n} (attempt ${u+1}/${f})`),a!=null&&a.reconnectTimeoutId&&clearTimeout(a.reconnectTimeoutId),o.close(),u>=f){console.error(`[SSE] Max reconnection attempts reached for thread ${n}`),t().unsubscribeFromThread(n);return}const d=t().activeThreadId,h=d?t().threads.find(b=>b.id===d):null,p=(h==null?void 0:h.parentId)===n;if(d!==n&&!p){t().unsubscribeFromThread(n);return}const g=Math.min(1e3*Math.pow(2,u),16e3);console.log(`[SSE] Reconnecting to thread ${n} in ${g}ms`);const v=setTimeout(()=>{var y;const b=t().activeThreadId,m=b?t().threads.find(w=>w.id===b):null;if(b===n||(m==null?void 0:m.parentId)===n){const w=(y=t().sseConnections[n])==null?void 0:y.lastEventId,{[n]:T,...E}=t().sseConnections;e({sseConnections:E}),t().subscribeToThread(n,w)}},g);e(b=>({sseConnections:{...b.sseConnections,[n]:{...a,reconnectAttempts:u+1,reconnectTimeoutId:v}}}))},e({sseConnections:{...i,[n]:{eventSource:o,threadId:n,reconnectAttempts:0,lastEventId:r}}})},unsubscribeFromThread:n=>{const{sseConnections:r}=t(),i=r[n];if(i){i.reconnectTimeoutId&&clearTimeout(i.reconnectTimeoutId),i.eventSource.close();const{[n]:l,...o}=r;e({sseConnections:o})}},appendStreamingBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=i.recentToolBlockIds[n]||[];if(r.type==="tool_use"&&r.id&&l.some(f=>f.type==="tool_use"&&f.id===r.id))return i;let s=l.map(u=>({...u,isFinalized:!0})),a=[...o];if((r.type==="tool_use"||r.type==="thinking")&&(s=s.map(u=>u.type==="tool_use"&&!u.isComplete?{...u,isComplete:!0,isFinalized:!0}:u)),r.type==="tool_use"&&r.id){for(console.log(`[FIFO] New tool_use block: ${r.id}, queue before:`,a,`limit: ${od}`);a.length>=od;){const u=a.shift();console.log(`[FIFO] Collapsing oldest block: ${u}`),u&&(s=s.map(f=>f.type==="tool_use"&&f.id===u?{...f,isCollapsed:!0}:f))}a.push(r.id),console.log("[FIFO] Queue after:",a)}else r.type==="tool_use"&&console.log("[FIFO] Tool block missing id:",r);return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{...r,timestamp:Date.now(),isFinalized:!1}]},expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:null},recentToolBlockIds:{...i.recentToolBlockIds,[n]:a}}})},appendTextToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="text"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"text",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},appendThinkingToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="thinking"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"thinking",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},markBlockComplete:(n,r,i=!1,l)=>{console.log(`[SSE] markBlockComplete called: threadId=${n}, toolUseId=${r}, isError=${i}`),e(o=>{const s=o.streamingBlocks[n]||[],a=s.findIndex(u=>u.type==="tool_use"&&u.id===r);return console.log(`[SSE] Found block at index ${a}, total blocks: ${s.length}`),{streamingBlocks:{...o.streamingBlocks,[n]:s.map(u=>u.type==="tool_use"&&u.id===r?{...u,isComplete:!0,isFinalized:!0,isError:i,errorMessage:l}:u)}}})},updateBlockInput:(n,r,i)=>{console.log(`[SSE] updateBlockInput called: threadId=${n}, toolUseId=${r}`),e(l=>{const o=l.streamingBlocks[n]||[];return{streamingBlocks:{...l.streamingBlocks,[n]:o.map(s=>s.type==="tool_use"&&s.id===r?{...s,input:i}:s)}}})},collapseToolBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[];return{streamingBlocks:{...i.streamingBlocks,[n]:l.map(o=>o.type==="tool_use"&&o.id===r?{...o,isCollapsed:!0}:o)}}})},clearStreamingBlocks:n=>{e(r=>{const{[n]:i,...l}=r.streamingBlocks,{[n]:o,...s}=r.expandedStreamingBlockId,{[n]:a,...u}=r.recentToolBlockIds;return{streamingBlocks:l,expandedStreamingBlockId:s,recentToolBlockIds:u}})},setExpandedStreamingBlockId:(n,r)=>{e(i=>({expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:r}}))},setPendingQuestion:(n,r)=>{e(i=>({pendingQuestion:{...i.pendingQuestion,[n]:r}}))},clearPendingQuestion:n=>{e(r=>{const{[n]:i,...l}=r.pendingQuestion;return{pendingQuestion:l}})},answerQuestion:async(n,r)=>{const i=await fetch(`${Ge}/threads/${n}/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>{const s=[...l.streamingBlocks[n]||[]];for(let a=s.length-1;a>=0;a--){const u=s[a];if(u.type==="tool_use"&&u.name==="AskUserQuestion"&&!u.submittedAnswers){s[a]={...u,submittedAnswers:r,isComplete:!0};break}}return{streamingBlocks:{...l.streamingBlocks,[n]:s}}}),t().clearPendingQuestion(n)},setPendingPlanApproval:(n,r)=>{e(i=>({pendingPlanApproval:{...i.pendingPlanApproval,[n]:r}}))},clearPendingPlanApproval:n=>{e(r=>{const{[n]:i,...l}=r.pendingPlanApproval;return{pendingPlanApproval:l}})},handlePlanAction:async(n,r,i)=>{const l=await fetch(`${Ge}/threads/${n}/plan-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,permissionMode:i})});if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.detail||`HTTP ${l.status}: ${l.statusText}`)}t().clearPendingPlanApproval(n)},addThreadNotification:(n,r)=>{e(i=>({threadNotifications:{...i.threadNotifications,[n]:[...i.threadNotifications[n]||[],r]}}))},clearThreadNotifications:n=>{e(r=>{const{[n]:i,...l}=r.threadNotifications;return{threadNotifications:l}})},cleanupAllConnections:()=>{const{sseConnections:n}=t();Object.values(n).forEach(r=>{r.reconnectTimeoutId&&clearTimeout(r.reconnectTimeoutId),r.eventSource.close()}),e({sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{},lastSeenEventId:{},childPendingQuestions:{},queueWaiting:{}})},setSpawnedThreadId:(n,r)=>{e(i=>({spawnedThreadIds:{...i.spawnedThreadIds,[n]:r}}))},getSpawnedThreadId:n=>t().spawnedThreadIds[n],setChildPendingQuestion:(n,r)=>{e(i=>{const o=(i.childPendingQuestions[n]||[]).filter(s=>s.childThreadId!==r.childThreadId);return{childPendingQuestions:{...i.childPendingQuestions,[n]:[...o,r]}}})},clearChildPendingQuestion:(n,r)=>{e(i=>{const o=(i.childPendingQuestions[n]||[]).filter(s=>s.childThreadId!==r);if(o.length===0){const{[n]:s,...a}=i.childPendingQuestions;return{childPendingQuestions:a}}return{childPendingQuestions:{...i.childPendingQuestions,[n]:o}}})}})),Xo=[{value:"claude-opus-4-6",label:"Opus 4.6",desc:"Most powerful",color:"bg-red-500"},{value:"claude-opus-4-5",label:"Opus 4.5",desc:"Highly capable",color:"bg-amber-500"},{value:"claude-sonnet-4-5",label:"Sonnet",desc:"Fast & capable",color:"bg-violet-500"},{value:"claude-haiku-4-5",label:"Haiku",desc:"Quick responses",color:"bg-emerald-500"}],Yo=[{value:"plan",label:"Plan",desc:"Review before executing",color:"border-blue-500 bg-blue-500/10 text-blue-700 dark:text-blue-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-approve file changes",color:"border-green-500 bg-green-500/10 text-green-700 dark:text-green-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},{value:"default",label:"Normal",desc:"Prompt for each action",color:"border-gray-400 bg-gray-500/10 text-gray-700 dark:text-gray-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"bypassPermissions",label:"Bypass",desc:"Skip all prompts",color:"border-red-500 bg-red-500/10 text-red-700 dark:text-red-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}];function Zx({isOpen:e,parentModel:t,parentPermissionMode:n,onSubmit:r,onCancel:i}){const[l,o]=j.useState(""),[s,a]=j.useState(t),[u,f]=j.useState(n),d=j.useRef(null),h=j.useRef(null),p=j.useId();j.useEffect(()=>{var m;e?(h.current=document.activeElement,o(""),a(t),f(n),requestAnimationFrame(()=>{var x;return(x=d.current)==null?void 0:x.focus()})):(m=h.current)==null||m.focus()},[e,t,n]),j.useEffect(()=>{if(!e)return;const m=x=>{x.key==="Escape"&&i()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,i]);const g=j.useCallback(m=>{if(m.key==="Tab"){const x=m.currentTarget.querySelectorAll("input, button:not([disabled])"),y=x[0],w=x[x.length-1];m.shiftKey&&document.activeElement===y?(m.preventDefault(),w==null||w.focus()):!m.shiftKey&&document.activeElement===w&&(m.preventDefault(),y==null||y.focus())}},[]),v=m=>{m.preventDefault(),l.trim()&&r({title:l.trim(),model:s,permissionMode:u})},b=m=>{m.target===m.currentTarget&&i()};return e?(Xo.find(m=>m.value===s)||Xo[0],Yo.find(m=>m.value===u)||Yo[2],c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:b,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":p,className:"bg-background border border-border rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",onClick:m=>m.stopPropagation(),onKeyDown:g,children:[c.jsxs("div",{className:"px-6 py-4 border-b border-border bg-muted/30",children:[c.jsxs("h2",{id:p,className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Create Sub-Thread"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Spawn a parallel task with its own settings"})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${p}-title`,className:"block text-sm font-medium mb-2",children:"Thread Title"}),c.jsx("input",{id:`${p}-title`,ref:d,type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"e.g., Refactor auth module",className:`w-full px-4 py-2.5 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
                         placeholder:text-muted-foreground/50`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:Xo.map(m=>c.jsxs("button",{type:"button",onClick:()=>a(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${s===m.value?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${m.color}`}),c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),s===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Permission Mode"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Yo.map(m=>c.jsxs("button",{type:"button",onClick:()=>f(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${u===m.value?`${m.color} border-current`:"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[m.icon,c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),u===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))}),u==="bypassPermissions"&&c.jsxs("p",{className:"mt-2 text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Caution: All actions will be auto-approved"]})]}),c.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:!l.trim(),className:`px-5 py-2 text-sm bg-primary text-primary-foreground rounded-lg
                         hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed
                         transition-colors font-medium flex items-center gap-2`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Thread"]})]})]})]})})):null}const ey={};function ty(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var l;const o=a=>a===null?null:JSON.parse(a,void 0),s=(l=n.getItem(i))!=null?l:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,l)=>n.setItem(i,JSON.stringify(l,void 0)),removeItem:i=>n.removeItem(i)}}const Ci=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ci(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ci(r)(n)}}}},ny=(e,t)=>(n,r,i)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,m)=>({...m,...b}),...t},o=!1;const s=new Set,a=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...b)},r,i);const f=Ci(l.serialize),d=()=>{const b=l.partialize({...r()});let m;const x=f({state:b,version:l.version}).then(y=>u.setItem(l.name,y)).catch(y=>{m=y});if(m)throw m;return x},h=i.setState;i.setState=(b,m)=>{h(b,m),d()};const p=e((...b)=>{n(...b),d()},r,i);let g;const v=()=>{var b;if(!u)return;o=!1,s.forEach(x=>x(r()));const m=((b=l.onRehydrateStorage)==null?void 0:b.call(l,r()))||void 0;return Ci(u.getItem.bind(u))(l.name).then(x=>{if(x)return l.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return l.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return g=l.merge(x,(y=r())!=null?y:p),n(g,!0),d()}).then(()=>{m==null||m(g,void 0),o=!0,a.forEach(x=>x(g))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:b=>{l={...l,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:b=>(s.add(b),()=>{s.delete(b)}),onFinishHydration:b=>(a.add(b),()=>{a.delete(b)})},v(),g||p},ry=(e,t)=>(n,r,i)=>{let l={storage:ty(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...t},o=!1;const s=new Set,a=new Set;let u=l.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...v)},r,i);const f=()=>{const v=l.partialize({...r()});return u.setItem(l.name,{state:v,version:l.version})},d=i.setState;i.setState=(v,b)=>{d(v,b),f()};const h=e((...v)=>{n(...v),f()},r,i);i.getInitialState=()=>h;let p;const g=()=>{var v,b;if(!u)return;o=!1,s.forEach(x=>{var y;return x((y=r())!=null?y:h)});const m=((b=l.onRehydrateStorage)==null?void 0:b.call(l,(v=r())!=null?v:h))||void 0;return Ci(u.getItem.bind(u))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return[!0,l.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[w,T]=x;if(p=l.merge(T,(y=r())!=null?y:h),n(p,!0),w)return f()}).then(()=>{m==null||m(p,void 0),p=r(),o=!0,a.forEach(x=>x(p))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:v=>{l={...l,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(s.add(v),()=>{s.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},l.skipHydration||g(),p||h},iy=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ey?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ny(e,t)):ry(e,t),ly=iy,sd={defaultModel:"claude-opus-4-5",defaultPermissionMode:"acceptEdits",defaultExtendedThinking:!0,defaultAutoReact:!0,showArchivedByDefault:!1,theme:"system",experimentalAllowNestedSubthreads:!1,experimentalMaxThreadDepth:3},Et=Ph()(ly(e=>({...sd,isSettingsOpen:!1,openSettings:()=>e({isSettingsOpen:!0}),closeSettings:()=>e({isSettingsOpen:!1}),toggleSettings:()=>e(t=>({isSettingsOpen:!t.isSettingsOpen})),isCreateThreadModalOpen:!1,openCreateThreadModal:()=>e({isCreateThreadModalOpen:!0}),closeCreateThreadModal:()=>e({isCreateThreadModalOpen:!1}),isCommandPaletteOpen:!1,openCommandPalette:()=>e({isCommandPaletteOpen:!0}),closeCommandPalette:()=>e({isCommandPaletteOpen:!1}),toggleCommandPalette:()=>e(t=>({isCommandPaletteOpen:!t.isCommandPaletteOpen})),updateSettings:t=>e(n=>({...n,...t})),resetToDefaults:()=>e(sd)}),{name:"mainthread-settings",partialize:e=>({defaultModel:e.defaultModel,defaultPermissionMode:e.defaultPermissionMode,defaultExtendedThinking:e.defaultExtendedThinking,defaultAutoReact:e.defaultAutoReact,showArchivedByDefault:e.showArchivedByDefault,theme:e.theme,experimentalAllowNestedSubthreads:e.experimentalAllowNestedSubthreads,experimentalMaxThreadDepth:e.experimentalMaxThreadDepth})}));function Su({enabled:e,onChange:t,label:n,size:r="sm"}){const i=r==="sm"?{track:"w-8 h-4",thumb:"w-3 h-3",translate:"translate-x-4"}:{track:"w-10 h-5",thumb:"w-4 h-4",translate:"translate-x-5"};return c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`
          ${i.track} rounded-full transition-colors duration-200 ease-in-out
          relative inline-flex items-center shrink-0
          ${e?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
            ${i.thumb} rounded-full bg-white shadow-sm
            transform transition-transform duration-200 ease-in-out
            ${e?i.translate:"translate-x-0.5"}
          `})}),n&&c.jsx("span",{className:"text-xs text-foreground",children:n})]})}function oy({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Jo({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function sy({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 10V5a2 2 0 012-2h6a2 2 0 012 2v5M7 10v4a2 2 0 002 2h6a2 2 0 002-2v-4M7 10h10"})})}function Zo({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function ad({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function ay({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function uy({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]})}function es(e,t=!1){const n="/Users/";let r=e;if(e.startsWith(n)){const i=e.slice(n.length),l=i.indexOf("/");l>0&&(r="~"+i.slice(l))}if(t){const i=r.split("/").filter(Boolean);return i.length<=2?r:"~/"+i.slice(-2).join("/")}return r}const cy=[{value:"claude-opus-4-6",label:"Opus 4.6",description:"Most powerful"},{value:"claude-opus-4-5",label:"Opus 4.5",description:"Highly capable"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5",description:"Fast and capable"},{value:"claude-haiku-4-5",label:"Haiku 4.5",description:"Quick responses"}],dy=[{value:"plan",label:"Plan",description:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",description:"Auto-accept file changes"},{value:"default",label:"Normal",description:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass",description:"Skip all permission prompts"}];function Ih({isOpen:e,onSubmit:t,onCancel:n}){const{defaultModel:r,defaultExtendedThinking:i,defaultPermissionMode:l,experimentalAllowNestedSubthreads:o,experimentalMaxThreadDepth:s,openSettings:a,closeCreateThreadModal:u}=Et(),[f,d]=j.useState(""),[h,p]=j.useState(""),[g,v]=j.useState(r),[b,m]=j.useState(i),[x,y]=j.useState(l),w=j.useRef(null),T=j.useRef(null),E=j.useRef(null),N=j.useId(),[_,D]=j.useState([]),[C,$]=j.useState(!1),[H,K]=j.useState(0),[Z,X]=j.useState(null),[ce,z]=j.useState(!1),[A,B]=j.useState([]),[k,q]=j.useState(null),[ne,S]=j.useState(!1),[O,ke]=j.useState(null),[ie,ge]=j.useState(!1),[Ke,Pe]=j.useState(!1),[ze,Re]=j.useState(""),[vt,M]=j.useState(!1),[Q,re]=j.useState("");j.useEffect(()=>{if(!e)return;const P=U=>{U.key==="Escape"&&n()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[e,n]),j.useEffect(()=>{var P;e?(E.current=document.activeElement,d(""),v(r),m(i),y(l),D([]),$(!1),X(null),B([]),q(null),ke(null),ge(!1),Pe(!1),Re(""),M(!1),re(""),fetch("/api/cwd").then(U=>U.ok?U.json():null).then(U=>{U!=null&&U.path?(p(U.path),X(!0)):p("")}).catch(()=>p("")),fetch("/api/directories/suggestions").then(U=>U.ok?U.json():[]).then(U=>B(U)).catch(()=>B([])),requestAnimationFrame(()=>{var U;(U=w.current)==null||U.focus()})):(P=E.current)==null||P.focus()},[e,r,i,l]);const se=j.useCallback(async P=>{try{const U=await fetch(`/api/browse?path=${encodeURIComponent(P)}&type=directory`);if(U.ok){const J=await U.json();if(D(J),K(0),!P){X(null);return}const L=P.replace(/\/$/,""),ee=J.some(je=>je.path===L||je.path===P),de=J.length>0&&J.every(je=>je.path.startsWith(L+"/"));if(ee||de)X(!0);else{const je=J.length>0;X(je?null:!1)}}}catch{D([])}},[]);j.useEffect(()=>{const P=setTimeout(()=>se(h),150);return()=>clearTimeout(P)},[h,se]),j.useEffect(()=>{if(!h||Z===!1){q(null),ke(null);return}const U=setTimeout(async()=>{S(!0);try{const J=await fetch(`/api/git/info?path=${encodeURIComponent(h)}`);if(J.ok){const L=await J.json();q(L),L.isGitRepo&&L.currentBranch?(ke(L.currentBranch),X(!0)):L.repoRoot}}catch{q(null)}finally{S(!1)}},500);return()=>clearTimeout(U)},[h,Z]),j.useEffect(()=>{if(!(k!=null&&k.repoRoot)||!O||O===k.currentBranch){re("");return}const P=O.replace(/[\/\\]/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase(),U=k.repoName||"repo",J=k.repoRoot.split("/").slice(0,-1).join("/");re(`${J}/${U}-${P}`)},[O,k]);const Be=j.useCallback(P=>{if(P.key==="Tab"){const U=P.currentTarget.querySelectorAll("input, select, button:not([disabled])"),J=U[0],L=U[U.length-1];P.shiftKey&&document.activeElement===J?(P.preventDefault(),L==null||L.focus()):!P.shiftKey&&document.activeElement===L&&(P.preventDefault(),J==null||J.focus())}},[]),Lt=P=>{if(!(!C||_.length===0))switch(P.key){case"ArrowDown":P.preventDefault(),K(U=>Math.min(U+1,_.length-1));break;case"ArrowUp":P.preventDefault(),K(U=>Math.max(U-1,0));break;case"Enter":_[H]&&(P.preventDefault(),p(_[H].path),$(!1));break;case"Escape":P.preventDefault(),$(!1);break;case"Tab":_[H]&&(P.preventDefault(),p(_[H].path),$(!1));break}},kt=async()=>{if(h){z(!0);try{const P=await fetch("/api/directories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:h})});if(P.ok){const U=await P.json();p(U.path),X(!0)}}catch(P){console.error("Failed to create directory:",P)}finally{z(!1)}}},En=P=>{var U;p(P.path),$(!1),(U=T.current)==null||U.focus()},Pr=P=>{ke(P),ge(!1),Pe(!1),Re("")},_r=()=>{Pe(!0),ge(!1)},Vn=()=>{ze.trim()&&(ke(ze.trim()),Pe(!1),Re(""))},Ir=P=>{if(P.preventDefault(),f.trim()){const U={title:f.trim(),workDir:h.trim()||void 0,model:g,extendedThinking:b,permissionMode:x,allowNestedSubthreads:o,maxThreadDepth:s};k!=null&&k.isGitRepo&&O&&O!==k.currentBranch&&(U.gitBranch=O,U.useWorktree=vt,vt&&Q&&(U.worktreePath=Q)),t(U)}},Mr=P=>{P.target===P.currentTarget&&n()},I=(k==null?void 0:k.isGitRepo)&&O&&O!==k.currentBranch,W=(k==null?void 0:k.isGitRepo)&&O&&!k.branches.includes(O);return e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:Mr,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":N,className:"bg-background border border-border rounded-lg shadow-lg p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",onClick:P=>P.stopPropagation(),onKeyDown:Be,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{id:N,className:"text-lg font-semibold",children:"Create New Thread"}),c.jsx("button",{type:"button",onClick:()=>{u(),a()},className:"p-1.5 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",title:"Configure defaults",children:c.jsx(oy,{className:"w-4 h-4"})})]}),c.jsxs("form",{onSubmit:Ir,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${N}-title`,className:"block text-sm font-medium mb-1",children:"Title"}),c.jsx("input",{id:`${N}-title`,ref:w,type:"text",value:f,onChange:P=>d(P.target.value),placeholder:"Enter thread title...",className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:`${N}-workdir`,className:"block text-sm font-medium mb-1",children:"Working Directory"}),A.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:A.slice(0,8).map(P=>c.jsxs("button",{type:"button",onClick:()=>{p(P.path),X(!0)},className:`px-2 py-1 text-xs rounded-full bg-muted hover:bg-muted/80
                               flex items-center gap-1 text-muted-foreground hover:text-foreground
                               transition-colors border border-transparent hover:border-border/50`,title:es(P.path),children:[P.type==="git"&&c.jsx(uy,{className:"w-3 h-3"}),P.type==="recent"&&c.jsx(ay,{className:"w-3 h-3"}),P.type==="folder"&&c.jsx(Jo,{className:"w-3 h-3"}),c.jsx("span",{className:"truncate max-w-[140px] font-mono",children:es(P.path,!0)})]},P.path))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:`${N}-workdir`,ref:T,type:"text",value:h,onChange:P=>{p(P.target.value),$(!0)},onFocus:()=>{$(!0),_.length===0&&h&&Z!==!0&&se(h)},onBlur:()=>{setTimeout(()=>$(!1),200)},onKeyDown:Lt,placeholder:"~ or /path/to/project",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true",className:`w-full px-4 py-2 pr-10 rounded-lg border border-border bg-background
                           focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`}),c.jsx(Jo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),C&&_.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:_.map((P,U)=>c.jsxs("button",{type:"button",onClick:()=>En(P),onMouseEnter:()=>K(U),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${U===H?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx(Jo,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate font-mono text-xs",children:es(P.path)})]},P.path))}),h&&c.jsx("div",{className:"mt-1.5 flex items-center gap-2",children:Z===!1?c.jsxs(c.Fragment,{children:[c.jsx(ad,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-xs text-amber-600",children:"Path does not exist"}),c.jsx("button",{type:"button",onClick:kt,disabled:ce,className:"text-xs text-primary hover:underline disabled:opacity-50",children:ce?"Creating...":"Create it?"})]}):Z===!0&&(k!=null&&k.isGitRepo)?c.jsxs(c.Fragment,{children:[c.jsx(Zo,{className:"w-4 h-4 text-green-500"}),c.jsxs("span",{className:"text-xs text-green-600",children:["Git repository: ",k.repoName]})]}):Z===!0?c.jsxs(c.Fragment,{children:[c.jsx(Zo,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"(not a git repository)"})]}):null})]}),(k==null?void 0:k.isGitRepo)&&c.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded-lg border border-border",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("label",{htmlFor:`${N}-branch`,className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[c.jsx(sy,{className:"w-4 h-4"}),"Branch",c.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(use worktree for parallel work)"})]}),Ke?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:ze,onChange:P=>Re(P.target.value),placeholder:"feature/new-branch",className:`flex-1 px-3 py-2 rounded-lg border border-border bg-background
                                 focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`,autoFocus:!0,onKeyDown:P=>{P.key==="Enter"?(P.preventDefault(),Vn()):P.key==="Escape"&&(Pe(!1),Re(""))}}),c.jsx("button",{type:"button",onClick:Vn,disabled:!ze.trim(),className:"px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 disabled:opacity-50",children:"Create"}),c.jsx("button",{type:"button",onClick:()=>{Pe(!1),Re("")},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"})]}):c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>ge(!ie),className:`w-full px-4 py-2 rounded-lg border border-border bg-background text-left
                                 focus:outline-none focus:ring-2 focus:ring-primary flex items-center justify-between`,children:[c.jsxs("span",{className:"font-mono text-sm",children:[O||k.currentBranch,O===k.currentBranch&&c.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(current)"}),W&&c.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(new)"})]}),c.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ie&&c.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[k.branches.map(P=>c.jsxs("button",{type:"button",onClick:()=>Pr(P),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 ${P===O?"bg-muted":""}`,children:[P===O&&c.jsx(Zo,{className:"w-4 h-4 text-primary flex-shrink-0"}),c.jsx("span",{className:`font-mono ${P!==O?"ml-6":""}`,children:P}),P===k.currentBranch&&c.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"(current)"})]},P)),c.jsx("div",{className:"border-t border-border",children:c.jsx("button",{type:"button",onClick:_r,className:"w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 text-primary",children:c.jsx("span",{className:"ml-6",children:"+ Create new branch..."})})})]})]})]}),I&&!W&&!vt&&c.jsxs("div",{className:"flex items-start gap-2 p-2 bg-amber-50 border border-amber-200 rounded-lg text-sm",children:[c.jsx(ad,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-amber-700",children:["This will checkout '",O,"' in the repository."]}),c.jsx("p",{className:"text-amber-600 text-xs mt-0.5",children:"Any uncommitted changes may be affected. Consider using a worktree instead."})]})]}),I&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:vt,onChange:P=>M(P.target.checked),className:"w-4 h-4 rounded border-border"}),c.jsxs("span",{className:"text-sm",children:["Use git worktree",c.jsx("span",{className:"text-muted-foreground ml-1",children:"(recommended for parallel work)"})]})]}),vt&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Worktree path:"}),c.jsx("input",{type:"text",value:Q,onChange:P=>re(P.target.value),placeholder:"Auto-generated path...",className:`w-full px-3 py-1.5 rounded border border-border bg-background
                                   focus:outline-none focus:ring-1 focus:ring-primary font-mono text-xs`})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${N}-model`,className:"block text-sm font-medium mb-1",children:"Model"}),c.jsx("select",{id:`${N}-model`,value:g,onChange:P=>v(P.target.value),className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`,children:cy.map(P=>c.jsxs("option",{value:P.value,children:[P.label," - ",P.description]},P.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${N}-permission-mode`,className:"block text-sm font-medium mb-1",children:"Permission Mode"}),c.jsx("select",{id:`${N}-permission-mode`,value:x,onChange:P=>y(P.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${x==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,children:dy.map(P=>c.jsxs("option",{value:P.value,children:[P.value==="bypassPermissions"?" ":"",P.label," - ",P.description]},P.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(Su,{enabled:b,onChange:m,label:"Extended Thinking",size:"md"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Extended reasoning for complex tasks"})]}),c.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!f.trim(),className:`px-4 py-2 bg-primary text-primary-foreground rounded-lg
                         hover:opacity-90 disabled:opacity-50`,children:"Create Thread"})]})]})]})}):null}function Nr({children:e,className:t=""}){return c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:`max-w-[60%] w-full ${t}`,children:e})})}function Mh({variant:e="primary"}){const t=e==="thinking"?"bg-amber-500/70":"bg-primary/70";return c.jsx("span",{className:`inline-block w-0.5 h-4 ${t} animate-cursor-blink ml-1`,"aria-hidden":"true"})}function Dh({content:e,isStreaming:t=!1,blockId:n,isExpanded:r,onToggle:i}){const[l,o]=j.useState(t),s=r!==void 0&&i!==void 0,a=s?r:l,u=s?i:()=>o(!l);return c.jsx(Nr,{children:c.jsxs("div",{className:"thinking-block bg-amber-50/60 dark:bg-amber-900/15 border border-amber-200 dark:border-amber-800 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:u,className:"thinking-header w-full flex items-center gap-2 px-3 py-2 text-amber-700 dark:text-amber-300 hover:bg-amber-100/50 dark:hover:bg-amber-800/30 transition-colors","aria-expanded":a,"aria-controls":n?`thinking-content-${n}`:"thinking-content",children:[c.jsx("span",{className:"w-5 h-5 bg-amber-400 dark:bg-amber-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsx("span",{role:"img","aria-label":"thinking",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),c.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:t?c.jsxs("span",{className:"flex items-center gap-2",children:["Thinking",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Thinking"}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&c.jsxs("div",{id:n?`thinking-content-${n}`:"thinking-content",className:"thinking-content px-4 py-3 text-sm text-amber-600 dark:text-amber-400 italic border-t border-amber-200/50 dark:border-amber-700/50 animate-slide-down",children:[c.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs leading-relaxed",children:e}),t&&c.jsx(Mh,{variant:"thinking"})]})]})})}function fy({questions:e,onAnswer:t,onCancel:n}){const[r,i]=j.useState({}),[l,o]=j.useState({}),[s,a]=j.useState(0),[u,f]=j.useState(0),d=j.useRef(new Map);if(e.length===0)return null;const h=e[s],p=s===e.length-1,g=j.useMemo(()=>{const N=r[h.question]||[],_=l[h.question];return N.length>0||!!_},[r,l,h.question]),v=N=>{const _=h;i(D=>{const C=D[_.question]||[];return _.multiSelect?C.includes(N)?{...D,[_.question]:C.filter($=>$!==N)}:{...D,[_.question]:[...C,N]}:{...D,[_.question]:[N]}}),o(D=>({...D,[_.question]:""})),_.multiSelect||setTimeout(()=>{p?b(N):(a(D=>D+1),f(0))},150)},b=N=>{const _={};for(const D of e)if(D.question===h.question)_[D.question]=N;else{const C=r[D.question]||[],$=l[D.question];$?_[D.question]=$:C.length>0&&(_[D.question]=C.join(", "))}t(_)},m=()=>{const N={};for(const _ of e){const D=r[_.question]||[],C=l[_.question];C?N[_.question]=C:D.length>0&&(N[_.question]=D.join(", "))}t(N)},x=()=>{!p&&g&&(a(N=>N+1),f(0))},y=()=>{s>0&&(a(N=>N-1),f(0))},w=N=>{N.key==="Enter"&&l[h.question]&&(N.preventDefault(),p?m():x())},T=j.useCallback((N,_)=>{const D=h.options.length;switch(N.key){case"ArrowDown":N.preventDefault(),f(C=>Math.min(C+1,D-1));break;case"ArrowUp":N.preventDefault(),f(C=>Math.max(C-1,0));break;case"Enter":case" ":N.preventDefault(),v(h.options[_].label);break;case"ArrowRight":!h.multiSelect&&g&&!p&&(N.preventDefault(),x());break;case"ArrowLeft":s>0&&(N.preventDefault(),y());break}},[h,p,s]);j.useEffect(()=>{const N=d.current.get(u);N==null||N.focus()},[u,s]);const E=r[h.question]||[];return c.jsx("div",{className:"flex justify-start animate-fade-in my-3",children:c.jsx("div",{className:"max-w-[500px] w-full",children:c.jsxs("div",{className:"bg-amber-50/80 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-700 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-amber-200/50 dark:border-amber-700/50 bg-amber-100/50 dark:bg-amber-800/20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),c.jsx("span",{className:"font-medium text-amber-800 dark:text-amber-200 text-sm",children:"Agent needs your input"})]}),e.length>1&&c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400","aria-label":`Question ${s+1} of ${e.length}`,children:[s+1," / ",e.length]})]}),e.length>1&&c.jsx("div",{className:"mt-2 h-1 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":s+1,"aria-valuemin":1,"aria-valuemax":e.length,"aria-label":"Question progress",children:c.jsx("div",{className:"h-full bg-amber-500 transition-all duration-300",style:{width:`${(s+1)/e.length*100}%`}})})]}),c.jsxs("div",{className:"p-4",children:[h.header&&c.jsx("span",{className:"inline-block px-2 py-0.5 bg-amber-500/20 text-amber-700 dark:text-amber-300 text-xs rounded-full font-medium mb-2",children:h.header}),c.jsx("p",{className:"font-medium text-foreground mb-4",children:h.question}),c.jsxs("div",{className:"space-y-2",children:[h.options.map((N,_)=>{const D=E.includes(N.label);return c.jsx("button",{ref:C=>{C?d.current.set(_,C):d.current.delete(_)},onClick:()=>v(N.label),onKeyDown:C=>T(C,_),tabIndex:u===_?0:-1,className:`w-full text-left p-3 rounded-lg border transition-all focus:outline-none focus:ring-2 focus:ring-amber-400/50 ${D?"border-amber-500 bg-amber-100/50 dark:bg-amber-800/30 scale-[1.02]":"border-amber-200 dark:border-amber-700/50 hover:border-amber-400 hover:bg-amber-50/50 dark:hover:bg-amber-800/20"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`mt-0.5 w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors ${D?"border-amber-500 bg-amber-500":"border-amber-400"}`,children:D&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm",children:N.label}),N.description&&c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:N.description})]})]})},_)}),c.jsx("div",{className:"pt-2",children:c.jsx("input",{type:"text",placeholder:"Or type a custom answer...","aria-label":"Custom answer",value:l[h.question]||"",onChange:N=>{o(_=>({..._,[h.question]:N.target.value})),N.target.value&&i(_=>({..._,[h.question]:[]}))},onKeyDown:w,className:"w-full px-3 py-2 text-sm border border-amber-200 dark:border-amber-700/50 rounded-lg bg-white/50 dark:bg-background/50 focus:outline-none focus:ring-2 focus:ring-amber-400/50"})})]})]}),c.jsxs("div",{className:"px-4 py-3 border-t border-amber-200/50 dark:border-amber-700/50 bg-amber-50/50 dark:bg-amber-800/10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[s>0&&c.jsxs("button",{onClick:y,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),c.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors",children:"Skip"})]}),c.jsxs("div",{children:[h.multiSelect&&!p&&c.jsxs("button",{onClick:x,disabled:!g,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:["Next",c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),p&&h.multiSelect&&g&&c.jsx("button",{onClick:m,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 transition-colors",children:"Submit"})]})]})]})})})}function py({notification:e,onNavigate:t}){return c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"max-w-[50%] flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 bg-purple-500",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:"spawned"})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function hy({notification:e,onNavigate:t}){const n=e.status==="done";e.status;const i=n?{bgColor:"bg-green-500",textColor:"text-green-600 dark:text-green-400",label:"completed",icon:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}:{bgColor:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"blocked",icon:c.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})})};return c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"max-w-[50%] flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 ${i.bgColor}`,children:i.icon}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:`text-xs ${i.textColor}`,children:i.label})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function my(e){if(!e)return"";const t=[/^\/Users\/[^/]+/,/^\/home\/[^/]+/,/^C:\\Users\\[^\\]+/i];for(const n of t)if(n.test(e))return e.replace(n,"~");return e}function ts(e){const t=e.indexOf(".mainthread/worktrees/");return t>0?e.substring(0,t-1):e}function gy({thread:e,parentThread:t,tokenInfo:n,onNavigateToParent:r,onClearThread:i,onArchiveThread:l,showMinimap:o,onToggleMinimap:s}){const[a,u]=j.useState(!1),f=j.useCallback(async()=>{if(!e.sessionId||!e.workDir)return;const m=`cd "${e.workDir}" && claude --resume ${e.sessionId}`;try{await navigator.clipboard.writeText(m),u(!0),setTimeout(()=>u(!1),2e3)}catch{}},[e.sessionId,e.workDir]),d=e.lastUsage,h=d==null?void 0:d.input_tokens,p=d==null?void 0:d.output_tokens,g=h!=null&&p!=null?h+p:(n==null?void 0:n.totalTokens)||0,v=!!d,b=e.lastCostUsd;return c.jsxs("div",{className:"border-b border-border px-4 py-2 flex items-center justify-between bg-muted/30 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{children:[t&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-0.5",children:[c.jsx("button",{onClick:r,className:"hover:text-foreground hover:underline transition-colors",children:t.title}),c.jsx("span",{children:"/"})]}),c.jsx("h2",{className:"font-semibold text-sm",children:e.title}),e.workDir&&c.jsx("p",{className:"text-xs text-muted-foreground",title:ts(e.workDir),children:my(ts(e.workDir))})]}),e.gitBranch&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-500/10 text-blue-600 text-xs",children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]}),e.gitBranch,e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 bg-blue-500/20 rounded",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"worktree"})]}),(d||n)&&g>0&&c.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs",children:[v&&h!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Input: ${h.toLocaleString()} tokens`,children:["i: ",h>=1e3?`${(h/1e3).toFixed(1)}K`:h]}),v&&p!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Output: ${p.toLocaleString()} tokens`,children:["o: ",p>=1e3?`${(p/1e3).toFixed(1)}K`:p]}),!v&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`~${g.toLocaleString()} estimated tokens`,children:["~",g>=1e3?`${(g/1e3).toFixed(1)}K`:g]}),b!=null&&b>0&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Cost: $${b.toFixed(6)}`,children:["$",b.toFixed(4)]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[s&&c.jsx("button",{onClick:s,className:`p-1.5 rounded border text-xs transition-colors ${o?"bg-primary/10 border-primary/30 text-primary":"border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground"}`,title:o?"Hide thread map":"Show thread map",children:c.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"12",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeWidth:2,d:"M6 8v6l6 4M18 8v6l-6 4"})]})}),e.sessionId&&e.workDir&&c.jsx("button",{onClick:f,className:"p-1.5 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground",title:a?"Copied!":`Resume in CLI: cd "${ts(e.workDir)}" && claude --resume ${e.sessionId}`,children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})}),c.jsx("button",{onClick:i,className:"p-1.5 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground",title:"Clear all messages",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),c.jsx("button",{onClick:l,className:"p-1.5 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground",title:"Archive thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]})]})}const xy=[{value:"claude-opus-4-6",label:"Opus 4.6"},{value:"claude-opus-4-5",label:"Opus 4.5"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5"},{value:"claude-haiku-4-5",label:"Haiku 4.5"}],yy=[{value:"plan",label:"Plan"},{value:"acceptEdits",label:"Accept"},{value:"default",label:"Normal"},{value:"bypassPermissions",label:"Bypass"}];function vy({thread:e,disabled:t,onSendMessage:n,onCreateThread:r,onModelChange:i,onPermissionModeChange:l,onThinkingToggle:o,onStopThread:s,onError:a}){const[u,f]=j.useState(""),d=j.useRef(null),h=j.useRef(null),[p,g]=j.useState([]),[v,b]=j.useState(!1),[m,x]=j.useState([]),[y,w]=j.useState(!1),[T,E]=j.useState(""),[N,_]=j.useState([]),[D,C]=j.useState(0),$=j.useRef(null),H=M=>new Promise((Q,re)=>{const se=new FileReader;se.onload=()=>{const Lt=se.result.split(",")[1];Q(Lt)},se.onerror=re,se.readAsDataURL(M)}),K=async M=>{if(!M.type.startsWith("image/")){a("Only image files are supported");return}if(p.length>=10){a("Maximum 10 images allowed");return}try{const Q=await H(M),re=`data:${M.type};base64,${Q}`,se={id:`img-${Date.now()}-${Math.random().toString(36).slice(2)}`,data:Q,media_type:M.type,preview:re,name:M.name};g(Be=>[...Be,se])}catch{a("Failed to process image")}},Z=M=>{M.preventDefault(),M.stopPropagation(),b(!0)},X=M=>{M.preventDefault(),M.stopPropagation(),M.currentTarget.contains(M.relatedTarget)||b(!1)},ce=M=>{M.preventDefault(),M.stopPropagation()},z=async M=>{M.preventDefault(),M.stopPropagation(),b(!1);const Q=Array.from(M.dataTransfer.files);for(const re of Q)re.type.startsWith("image/")&&await K(re)},A=async M=>{const Q=Array.from(M.clipboardData.items);for(const re of Q)if(re.type.startsWith("image/")){M.preventDefault();const se=re.getAsFile();se&&await K(se)}},B=async M=>{const Q=M.target.files;if(Q){for(const re of Array.from(Q))re.type.startsWith("image/")&&await K(re);M.target.value=""}},k=M=>{g(Q=>Q.filter(re=>re.id!==M))};j.useEffect(()=>{if(!y||!e.workDir){_([]);return}const Q=setTimeout(async()=>{try{const re=new URLSearchParams({limit:"20"});T&&re.set("query",T);const se=await fetch(`/api/threads/${e.id}/files?${re}`);if(se.ok){const Be=await se.json();_(Be),C(0)}}catch{_([])}},150);return()=>clearTimeout(Q)},[y,T,e.id,e.workDir]);const q=M=>{M.style.height="auto",M.style.height=Math.min(M.scrollHeight,200)+"px"},ne=M=>{const Q=M.target.value;f(Q),q(M.target);const re=M.target.selectionStart||0,Be=Q.slice(0,re).match(/@([^\s]*)$/);Be?(w(!0),E(Be[1])):(w(!1),E(""))},S=M=>{var Be,Lt;m.find(kt=>kt.path===M.path)||x(kt=>[...kt,M]);const Q=((Be=d.current)==null?void 0:Be.selectionStart)||0,se=u.slice(0,Q).match(/@([^\s]*)$/);if(se){const kt=u.slice(0,Q-se[0].length)+u.slice(Q);f(kt)}w(!1),E(""),(Lt=d.current)==null||Lt.focus()},O=M=>{x(Q=>Q.filter(re=>re.path!==M))},ke=M=>{if(!(!y||N.length===0))switch(M.key){case"ArrowDown":M.preventDefault(),C(Q=>Math.min(Q+1,N.length-1));break;case"ArrowUp":M.preventDefault(),C(Q=>Math.max(Q-1,0));break;case"Enter":N[D]&&(M.preventDefault(),S(N[D]));break;case"Escape":M.preventDefault(),w(!1);break;case"Tab":N[D]&&(M.preventDefault(),S(N[D]));break}},ie=j.useCallback(async()=>{const M=["plan","acceptEdits","default","bypassPermissions"],re=(M.indexOf(e.permissionMode)+1)%M.length;try{await l(M[re])}catch(se){a(se instanceof Error?se.message:"Failed to update permission mode")}},[e.permissionMode,l,a]);j.useEffect(()=>{const M=Q=>{Q.key==="Enter"&&Q.shiftKey&&Q.ctrlKey&&document.activeElement===d.current&&(Q.preventDefault(),Q.stopPropagation(),ie())};return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0})}},[ie]),j.useEffect(()=>{const M=Q=>{Q.key==="Escape"&&e.status==="pending"&&(Q.preventDefault(),s())};return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[e.status,s]);const ge=j.useCallback(async()=>{if(!u.trim()&&p.length===0)return;const M=u,Q=p.length>0?[...p]:void 0,re=m.length>0?m.map(se=>se.path):void 0;f(""),g([]),x([]),w(!1),d.current&&(d.current.style.height="auto");try{await n(M,Q,re)}catch(se){a(se instanceof Error?se.message:"Failed to send message")}},[u,p,m,n,a]),Ke=async M=>{M.preventDefault(),ge()},Pe=j.useCallback(M=>{if(M.key==="Enter"&&M.shiftKey&&M.ctrlKey){M.preventDefault(),M.stopPropagation(),ie();return}M.key==="Enter"&&M.shiftKey||M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),ge())},[ie,ge]),ze=async M=>{try{await i(M.target.value)}catch(Q){a(Q instanceof Error?Q.message:"Failed to update model")}},Re=async M=>{try{await l(M.target.value)}catch(Q){a(Q instanceof Error?Q.message:"Failed to update permission mode")}},vt=async M=>{try{await o(M)}catch(Q){a(Q instanceof Error?Q.message:"Failed to update thinking mode")}};return c.jsxs("div",{className:`border-t border-border p-4 flex-shrink-0 space-y-3 transition-colors ${v?"bg-primary/10 border-primary":""}`,onDragEnter:Z,onDragLeave:X,onDragOver:ce,onDrop:z,children:[v&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/5 border-2 border-dashed border-primary rounded-lg pointer-events-none z-10",children:c.jsx("p",{className:"text-primary font-medium",children:"Drop images here"})}),c.jsx("div",{className:"flex items-center gap-4 justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("select",{value:e.model,onChange:ze,className:"text-xs px-2 py-1.5 rounded border border-border bg-background focus:outline-none focus:ring-1 focus:ring-primary","aria-label":"Select model",children:xy.map(M=>c.jsx("option",{value:M.value,children:M.label},M.value))}),c.jsx("select",{value:e.permissionMode,onChange:Re,className:`text-xs px-2 py-1.5 rounded border focus:outline-none focus:ring-1 ${e.permissionMode==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,"aria-label":"Permission mode",children:yy.map(M=>c.jsx("option",{value:M.value,children:M.value==="bypassPermissions"?" "+M.label:M.label},M.value))}),c.jsx(Su,{enabled:e.extendedThinking,onChange:vt,label:"Thinking"})]})}),p.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:p.map(M=>c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:M.preview,alt:M.name,className:"w-16 h-16 object-cover rounded-lg border border-border"}),c.jsx("button",{type:"button",onClick:()=>k(M.id),className:`absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full
                           flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity`,children:""})]},M.id))}),m.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:m.map(M=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md border border-border",children:[c.jsx("svg",{className:"w-3 h-3 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"text-muted-foreground",children:M.name}),c.jsx("button",{type:"button",onClick:()=>O(M.path),className:"ml-1 text-muted-foreground hover:text-foreground",children:""})]},M.path))}),c.jsxs("form",{onSubmit:Ke,className:"flex gap-2 relative",children:[c.jsx("input",{ref:h,type:"file",accept:"image/*",multiple:!0,onChange:B,className:"hidden","aria-label":"Upload images"}),c.jsx("button",{type:"button",onClick:()=>{var M;return(M=h.current)==null?void 0:M.click()},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",title:"Attach images","aria-label":"Attach images",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("textarea",{ref:d,value:u,onChange:ne,onKeyDown:M=>{ke(M),y||Pe(M)},onPaste:A,placeholder:"Type a message... (@ for files)",disabled:t,"aria-label":"Message input",rows:1,className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                       focus:outline-none focus:ring-2 focus:ring-primary resize-none overflow-y-auto`,style:{maxHeight:"200px"}}),y&&N.length>0&&c.jsx("div",{ref:$,className:`absolute bottom-full left-0 mb-1 w-80 max-h-60 overflow-y-auto
                         bg-background border border-border rounded-lg shadow-lg z-20`,children:N.map((M,Q)=>c.jsxs("button",{type:"button",onClick:()=>S(M),onMouseEnter:()=>C(Q),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${Q===D?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"truncate",children:M.path})]},M.path))})]}),e.status==="pending"?c.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Stop running agent (Esc)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})}),"Stop"]}):c.jsx("button",{type:"submit",disabled:!u.trim()&&p.length===0||t,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Send"}),c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors","aria-label":"Create new sub-thread",children:"+ Thread"})]})]})}function ky(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wy=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,by=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sy={};function ud(e,t){return(Sy.jsx?by:wy).test(e)}const jy=/[ \t\n\f\r]/g;function Cy(e){return typeof e=="object"?e.type==="text"?cd(e.value):!1:cd(e)}function cd(e){return e.replace(jy,"")===""}class Mi{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Mi.prototype.normal={};Mi.prototype.property={};Mi.prototype.space=void 0;function Ah(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mi(n,r,t)}function ma(e){return e.toLowerCase()}class at{constructor(t,n){this.attribute=n,this.property=t}}at.prototype.attribute="";at.prototype.booleanish=!1;at.prototype.boolean=!1;at.prototype.commaOrSpaceSeparated=!1;at.prototype.commaSeparated=!1;at.prototype.defined=!1;at.prototype.mustUseProperty=!1;at.prototype.number=!1;at.prototype.overloadedBoolean=!1;at.prototype.property="";at.prototype.spaceSeparated=!1;at.prototype.space=void 0;let Ey=0;const te=Hn(),Te=Hn(),ga=Hn(),F=Hn(),he=Hn(),hr=Hn(),dt=Hn();function Hn(){return 2**++Ey}const xa=Object.freeze(Object.defineProperty({__proto__:null,boolean:te,booleanish:Te,commaOrSpaceSeparated:dt,commaSeparated:hr,number:F,overloadedBoolean:ga,spaceSeparated:he},Symbol.toStringTag,{value:"Module"})),ns=Object.keys(xa);class ju extends at{constructor(t,n,r,i){let l=-1;if(super(t,n),dd(this,"space",i),typeof r=="number")for(;++l<ns.length;){const o=ns[l];dd(this,ns[l],(r&xa[o])===xa[o])}}}ju.prototype.defined=!0;function dd(e,t,n){n&&(e[t]=n)}function Tr(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new ju(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[ma(r)]=r,n[ma(l.attribute)]=r}return new Mi(t,n,e.space)}const zh=Tr({properties:{ariaActiveDescendant:null,ariaAtomic:Te,ariaAutoComplete:null,ariaBusy:Te,ariaChecked:Te,ariaColCount:F,ariaColIndex:F,ariaColSpan:F,ariaControls:he,ariaCurrent:null,ariaDescribedBy:he,ariaDetails:null,ariaDisabled:Te,ariaDropEffect:he,ariaErrorMessage:null,ariaExpanded:Te,ariaFlowTo:he,ariaGrabbed:Te,ariaHasPopup:null,ariaHidden:Te,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:he,ariaLevel:F,ariaLive:null,ariaModal:Te,ariaMultiLine:Te,ariaMultiSelectable:Te,ariaOrientation:null,ariaOwns:he,ariaPlaceholder:null,ariaPosInSet:F,ariaPressed:Te,ariaReadOnly:Te,ariaRelevant:null,ariaRequired:Te,ariaRoleDescription:he,ariaRowCount:F,ariaRowIndex:F,ariaRowSpan:F,ariaSelected:Te,ariaSetSize:F,ariaSort:null,ariaValueMax:F,ariaValueMin:F,ariaValueNow:F,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Rh(e,t){return t in e?e[t]:t}function Bh(e,t){return Rh(e,t.toLowerCase())}const Ny=Tr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hr,acceptCharset:he,accessKey:he,action:null,allow:null,allowFullScreen:te,allowPaymentRequest:te,allowUserMedia:te,alt:null,as:null,async:te,autoCapitalize:null,autoComplete:he,autoFocus:te,autoPlay:te,blocking:he,capture:null,charSet:null,checked:te,cite:null,className:he,cols:F,colSpan:null,content:null,contentEditable:Te,controls:te,controlsList:he,coords:F|hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:te,defer:te,dir:null,dirName:null,disabled:te,download:ga,draggable:Te,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:te,formTarget:null,headers:he,height:F,hidden:ga,high:F,href:null,hrefLang:null,htmlFor:he,httpEquiv:he,id:null,imageSizes:null,imageSrcSet:null,inert:te,inputMode:null,integrity:null,is:null,isMap:te,itemId:null,itemProp:he,itemRef:he,itemScope:te,itemType:he,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:te,low:F,manifest:null,max:null,maxLength:F,media:null,method:null,min:null,minLength:F,multiple:te,muted:te,name:null,nonce:null,noModule:te,noValidate:te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:te,optimum:F,pattern:null,ping:he,placeholder:null,playsInline:te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:te,referrerPolicy:null,rel:he,required:te,reversed:te,rows:F,rowSpan:F,sandbox:he,scope:null,scoped:te,seamless:te,selected:te,shadowRootClonable:te,shadowRootDelegatesFocus:te,shadowRootMode:null,shape:null,size:F,sizes:null,slot:null,span:F,spellCheck:Te,src:null,srcDoc:null,srcLang:null,srcSet:null,start:F,step:null,style:null,tabIndex:F,target:null,title:null,translate:null,type:null,typeMustMatch:te,useMap:null,value:Te,width:F,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:he,axis:null,background:null,bgColor:null,border:F,borderColor:null,bottomMargin:F,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:te,declare:te,event:null,face:null,frame:null,frameBorder:null,hSpace:F,leftMargin:F,link:null,longDesc:null,lowSrc:null,marginHeight:F,marginWidth:F,noResize:te,noHref:te,noShade:te,noWrap:te,object:null,profile:null,prompt:null,rev:null,rightMargin:F,rules:null,scheme:null,scrolling:Te,standby:null,summary:null,text:null,topMargin:F,valueType:null,version:null,vAlign:null,vLink:null,vSpace:F,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:te,disableRemotePlayback:te,prefix:null,property:null,results:F,security:null,unselectable:null},space:"html",transform:Bh}),Ty=Tr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dt,accentHeight:F,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:F,amplitude:F,arabicForm:null,ascent:F,attributeName:null,attributeType:null,azimuth:F,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:F,by:null,calcMode:null,capHeight:F,className:he,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:F,diffuseConstant:F,direction:null,display:null,dur:null,divisor:F,dominantBaseline:null,download:te,dx:null,dy:null,edgeMode:null,editable:null,elevation:F,enableBackground:null,end:null,event:null,exponent:F,externalResourcesRequired:null,fill:null,fillOpacity:F,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hr,g2:hr,glyphName:hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:F,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:F,horizOriginX:F,horizOriginY:F,id:null,ideographic:F,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:F,k:F,k1:F,k2:F,k3:F,k4:F,kernelMatrix:dt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:F,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:F,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:F,overlineThickness:F,paintOrder:null,panose1:null,path:null,pathLength:F,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:he,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:F,pointsAtY:F,pointsAtZ:F,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dt,rev:dt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dt,requiredFeatures:dt,requiredFonts:dt,requiredFormats:dt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:F,specularExponent:F,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:F,strikethroughThickness:F,string:null,stroke:null,strokeDashArray:dt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:F,strokeOpacity:F,strokeWidth:null,style:null,surfaceScale:F,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dt,tabIndex:F,tableValues:null,target:null,targetX:F,targetY:F,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:F,underlineThickness:F,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:F,values:null,vAlphabetic:F,vMathematical:F,vectorEffect:null,vHanging:F,vIdeographic:F,version:null,vertAdvY:F,vertOriginX:F,vertOriginY:F,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:F,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Rh}),Fh=Tr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Oh=Tr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Bh}),$h=Tr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Ly={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Py=/[A-Z]/g,fd=/-[a-z]/g,_y=/^data[-\w.:]+$/i;function Iy(e,t){const n=ma(t);let r=t,i=at;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_y.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(fd,Dy);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!fd.test(l)){let o=l.replace(Py,My);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ju}return new i(r,t)}function My(e){return"-"+e.toLowerCase()}function Dy(e){return e.charAt(1).toUpperCase()}const Ay=Ah([zh,Ny,Fh,Oh,$h],"html"),Cu=Ah([zh,Ty,Fh,Oh,$h],"svg");function zy(e){return e.join(" ").trim()}var Eu={},pd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ry=/\n/g,By=/^\s*/,Fy=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Oy=/^:\s*/,$y=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Wy=/^[;\s]*/,Uy=/^\s+|\s+$/g,Hy=`
`,hd="/",md="*",Pn="",Vy="comment",Qy="declaration";function qy(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var v=g.match(Ry);v&&(n+=v.length);var b=g.lastIndexOf(Hy);r=~b?g.length-b:r+g.length}function l(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(g){var v=new Error(t.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function a(g){var v=g.exec(e);if(v){var b=v[0];return i(b),e=e.slice(b.length),v}}function u(){a(By)}function f(g){var v;for(g=g||[];v=d();)v!==!1&&g.push(v);return g}function d(){var g=l();if(!(hd!=e.charAt(0)||md!=e.charAt(1))){for(var v=2;Pn!=e.charAt(v)&&(md!=e.charAt(v)||hd!=e.charAt(v+1));)++v;if(v+=2,Pn===e.charAt(v-1))return s("End of comment missing");var b=e.slice(2,v-2);return r+=2,i(b),e=e.slice(v),r+=2,g({type:Vy,comment:b})}}function h(){var g=l(),v=a(Fy);if(v){if(d(),!a(Oy))return s("property missing ':'");var b=a($y),m=g({type:Qy,property:gd(v[0].replace(pd,Pn)),value:b?gd(b[0].replace(pd,Pn)):Pn});return a(Wy),m}}function p(){var g=[];f(g);for(var v;v=h();)v!==!1&&(g.push(v),f(g));return g}return u(),p()}function gd(e){return e?e.replace(Uy,Pn):Pn}var Ky=qy,Gy=kl&&kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.default=Yy;const Xy=Gy(Ky);function Yy(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Xy.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.camelCase=void 0;var Jy=/^--[a-zA-Z0-9_-]+$/,Zy=/-([a-z])/g,e1=/^[^-]+$/,t1=/^-(webkit|moz|ms|o|khtml)-/,n1=/^-(ms)-/,r1=function(e){return!e||e1.test(e)||Jy.test(e)},i1=function(e,t){return t.toUpperCase()},xd=function(e,t){return"".concat(t,"-")},l1=function(e,t){return t===void 0&&(t={}),r1(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(n1,xd):e=e.replace(t1,xd),e.replace(Zy,i1))};ho.camelCase=l1;var o1=kl&&kl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s1=o1(Eu),a1=ho;function ya(e,t){var n={};return!e||typeof e!="string"||(0,s1.default)(e,function(r,i){r&&i&&(n[(0,a1.camelCase)(r,t)]=i)}),n}ya.default=ya;var u1=ya;const c1=Gl(u1),Wh=Uh("end"),Nu=Uh("start");function Uh(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function d1(e){const t=Nu(e),n=Wh(e);if(t&&n)return{start:t,end:n}}function li(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?yd(e.position):"start"in e||"end"in e?yd(e):"line"in e||"column"in e?va(e):""}function va(e){return vd(e&&e.line)+":"+vd(e&&e.column)}function yd(e){return va(e&&e.start)+"-"+va(e&&e.end)}function vd(e){return e&&typeof e=="number"?e:1}class qe extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?l.ruleId=r:(l.source=r.slice(0,a),l.ruleId=r.slice(a+1))}if(!l.place&&l.ancestors&&l.ancestors){const a=l.ancestors[l.ancestors.length-1];a&&(l.place=a.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=li(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qe.prototype.file="";qe.prototype.name="";qe.prototype.reason="";qe.prototype.message="";qe.prototype.stack="";qe.prototype.column=void 0;qe.prototype.line=void 0;qe.prototype.ancestors=void 0;qe.prototype.cause=void 0;qe.prototype.fatal=void 0;qe.prototype.place=void 0;qe.prototype.ruleId=void 0;qe.prototype.source=void 0;const Tu={}.hasOwnProperty,f1=new Map,p1=/[A-Z]/g,h1=new Set(["table","tbody","thead","tfoot","tr"]),m1=new Set(["td","th"]),Hh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function g1(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=j1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=S1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Cu:Ay,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Vh(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function Vh(e,t,n){if(t.type==="element")return x1(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return y1(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return k1(e,t,n);if(t.type==="mdxjsEsm")return v1(e,t);if(t.type==="root")return w1(e,t,n);if(t.type==="text")return b1(e,t)}function x1(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Cu,e.schema=i),e.ancestors.push(t);const l=qh(e,t.tagName,!1),o=C1(e,t);let s=Pu(e,t);return h1.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!Cy(a):!0})),Qh(e,o,l,t),Lu(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function y1(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ei(e,t.position)}function v1(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ei(e,t.position)}function k1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Cu,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:qh(e,t.name,!0),o=E1(e,t),s=Pu(e,t);return Qh(e,o,l,t),Lu(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function w1(e,t,n){const r={};return Lu(r,Pu(e,t)),e.create(t,e.Fragment,r,n)}function b1(e,t){return t.value}function Qh(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Lu(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function S1(e,t,n){return r;function r(i,l,o,s){const u=Array.isArray(o.children)?n:t;return s?u(l,o,s):u(l,o)}}function j1(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),a=Nu(r);return t(i,l,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function C1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Tu.call(t.properties,i)){const l=N1(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&m1.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function E1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Ei(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else Ei(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function Pu(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:f1;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const a=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const s=Vh(e,l,o);s!==void 0&&n.push(s)}return n}function N1(e,t,n){const r=Iy(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ky(n):zy(n)),r.property==="style"){let i=typeof n=="object"?n:T1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=L1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Ly[r.property]||r.property:r.attribute,n]}}function T1(e,t){try{return c1(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new qe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Hh+"#cannot-parse-style-attribute",i}}function qh(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=ud(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=ud(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Tu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ei(e)}function Ei(e,t){const n=new qe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Hh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function L1(e){const t={};let n;for(n in e)Tu.call(e,n)&&(t[P1(n)]=e[n]);return t}function P1(e){let t=e.replace(p1,_1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _1(e){return"-"+e.toLowerCase()}const rs={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},I1={};function _u(e,t){const n=I1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kh(e,r,i)}function Kh(e,t,n){if(M1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return kd(e.children,t,n)}return Array.isArray(e)?kd(e,t,n):""}function kd(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Kh(e[i],t,n);return r.join("")}function M1(e){return!!(e&&typeof e=="object")}const wd=document.createElement("i");function Iu(e){const t="&"+e+";";wd.innerHTML=t;const n=wd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function mt(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function St(e,t){return e.length>0?(mt(e,e.length,0,t),e):t}const bd={}.hasOwnProperty;function Gh(e){const t={};let n=-1;for(;++n<e.length;)D1(t,e[n]);return t}function D1(e,t){let n;for(n in t){const i=(bd.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){bd.call(i,o)||(i[o]=[]);const s=l[o];A1(i[o],Array.isArray(s)?s:s?[s]:[])}}}function A1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);mt(e,0,0,r)}function Xh(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ye=Cn(/[A-Za-z]/),Ve=Cn(/[\dA-Za-z]/),z1=Cn(/[#-'*+\--9=?A-Z^-~]/);function Vl(e){return e!==null&&(e<32||e===127)}const ka=Cn(/\d/),R1=Cn(/[\dA-Fa-f]/),B1=Cn(/[!-/:-@[-`{-~]/);function G(e){return e!==null&&e<-2}function pe(e){return e!==null&&(e<0||e===32)}function le(e){return e===-2||e===-1||e===32}const mo=Cn(new RegExp("\\p{P}|\\p{S}","u")),$n=Cn(/\s/);function Cn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Lr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Ve(e.charCodeAt(n+1))&&Ve(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ae(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(a){return le(a)?(e.enter(n),s(a)):t(a)}function s(a){return le(a)&&l++<i?(e.consume(a),s):(e.exit(n),t(a))}}const F1={tokenize:O1};function O1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ae(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return G(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const $1={tokenize:W1},Sd={tokenize:U1};function W1(e){const t=this,n=[];let r=0,i,l,o;return s;function s(y){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,a,u)(y)}return u(y)}function a(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const w=t.events.length;let T=w,E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){E=t.events[T][1].end;break}m(r);let N=w;for(;N<t.events.length;)t.events[N][1].end={...E},N++;return mt(t.events,T+1,0,t.events.slice(w)),t.events.length=N,u(y)}return s(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Sd,f,d)(y)}function f(y){return i&&x(),m(r),h(y)}function d(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(y)}function h(y){return t.containerState={},e.attempt(Sd,p,g)(y)}function p(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function g(y){if(y===null){i&&x(),m(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),v(y)}function v(y){if(y===null){b(e.exit("chunkFlow"),!0),m(0),e.consume(y);return}return G(y)?(e.consume(y),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),v)}function b(y,w){const T=t.sliceStream(y);if(w&&T.push(null),y.previous=l,l&&(l.next=y),l=y,i.defineSkip(y.start),i.write(T),t.parser.lazy[y.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const N=t.events.length;let _=N,D,C;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(D){C=t.events[_][1].end;break}D=!0}for(m(r),E=N;E<t.events.length;)t.events[E][1].end={...C},E++;mt(t.events,_+1,0,t.events.slice(N)),t.events.length=E}}function m(y){let w=n.length;for(;w-- >y;){const T=n[w];t.containerState=T[1],T[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function U1(e,t,n){return ae(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Sr(e){if(e===null||pe(e)||$n(e))return 1;if(mo(e))return 2}function go(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const wa={name:"attention",resolveAll:H1,tokenize:V1};function H1(e,t){let n=-1,r,i,l,o,s,a,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};jd(d,-a),jd(h,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=St(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=St(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=St(u,go(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=St(u,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=St(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,mt(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function V1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Sr(r);let l;return o;function o(a){return l=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===l)return e.consume(a),s;const u=e.exit("attentionSequence"),f=Sr(a),d=!f||f===2&&i||n.includes(a),h=!i||i===2&&f||n.includes(r);return u._open=!!(l===42?d:d&&(i||!h)),u._close=!!(l===42?h:h&&(f||!d)),t(a)}}function jd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Q1={name:"autolink",tokenize:q1};function q1(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(p){return Ye(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Ve(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,a):(p===43||p===45||p===46||Ve(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function a(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Vl(p)?n(p):(e.consume(p),a)}function u(p){return p===64?(e.consume(p),f):z1(p)?(e.consume(p),u):n(p)}function f(p){return Ve(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Ve(p))&&r++<63){const g=p===45?h:d;return e.consume(p),g}return n(p)}}const Di={partial:!0,tokenize:K1};function K1(e,t,n){return r;function r(l){return le(l)?ae(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||G(l)?t(l):n(l)}}const Yh={continuation:{tokenize:X1},exit:Y1,name:"blockQuote",tokenize:G1};function G1(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return le(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function X1(e,t,n){const r=this;return i;function i(o){return le(o)?ae(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(Yh,t,n)(o)}}function Y1(e){e.exit("blockQuote")}const Jh={name:"characterEscape",tokenize:J1};function J1(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return B1(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Zh={name:"characterReference",tokenize:Z1};function Z1(e,t,n){const r=this;let i=0,l,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),a}function a(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=Ve,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=R1,f):(e.enter("characterReferenceValue"),l=7,o=ka,f(d))}function f(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===Ve&&!Iu(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<l?(e.consume(d),f):n(d)}}const Cd={partial:!0,tokenize:tv},Ed={concrete:!0,name:"codeFenced",tokenize:ev};function ev(e,t,n){const r=this,i={partial:!0,tokenize:T};let l=0,o=0,s;return a;function a(E){return u(E)}function u(E){const N=r.events[r.events.length-1];return l=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,s=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(E)}function f(E){return E===s?(o++,e.consume(E),f):o<3?n(E):(e.exit("codeFencedFenceSequence"),le(E)?ae(e,d,"whitespace")(E):d(E))}function d(E){return E===null||G(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(Cd,v,w)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||G(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(E)):le(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ae(e,p,"whitespace")(E)):E===96&&E===s?n(E):(e.consume(E),h)}function p(E){return E===null||G(E)?d(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||G(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(E)):E===96&&E===s?n(E):(e.consume(E),g)}function v(E){return e.attempt(i,w,b)(E)}function b(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),m}function m(E){return l>0&&le(E)?ae(e,x,"linePrefix",l+1)(E):x(E)}function x(E){return E===null||G(E)?e.check(Cd,v,w)(E):(e.enter("codeFlowValue"),y(E))}function y(E){return E===null||G(E)?(e.exit("codeFlowValue"),x(E)):(e.consume(E),y)}function w(E){return e.exit("codeFenced"),t(E)}function T(E,N,_){let D=0;return C;function C(X){return E.enter("lineEnding"),E.consume(X),E.exit("lineEnding"),$}function $(X){return E.enter("codeFencedFence"),le(X)?ae(E,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):H(X)}function H(X){return X===s?(E.enter("codeFencedFenceSequence"),K(X)):_(X)}function K(X){return X===s?(D++,E.consume(X),K):D>=o?(E.exit("codeFencedFenceSequence"),le(X)?ae(E,Z,"whitespace")(X):Z(X)):_(X)}function Z(X){return X===null||G(X)?(E.exit("codeFencedFence"),N(X)):_(X)}}}function tv(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const is={name:"codeIndented",tokenize:rv},nv={partial:!0,tokenize:iv};function rv(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),ae(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):G(u)?e.attempt(nv,o,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||G(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function iv(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):G(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ae(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):G(o)?i(o):n(o)}}const lv={name:"codeText",previous:sv,resolve:ov,tokenize:av};function ov(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function sv(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function av(e,t,n){let r=0,i,l;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),a(d))}function a(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),a):d===96?(l=e.enter("codeTextSequence"),i=0,f(d)):G(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||G(d)?(e.exit("codeTextData"),a(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(l.type="codeTextData",u(d))}}class uv{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Wr(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Wr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Wr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Wr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Wr(this.left,n.reverse())}}}function Wr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function em(e){const t={};let n=-1,r,i,l,o,s,a,u;const f=new uv(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,l=0,l<a.length&&a[l][1].type==="lineEndingBlank"&&(l+=2),l<a.length&&a[l][1].type==="content"))for(;++l<a.length&&a[l][1].type!=="content";)a[l][1].type==="chunkText"&&(a[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,cv(f,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=f.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return mt(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function cv(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,a=[],u={};let f,d,h=-1,p=n,g=0,v=0;const b=[v];for(;p;){for(;e.get(++i)[1]!==p;);l.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(v=h+1,b.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const m=s.slice(b[h],b[h+1]),x=l.pop();a.push([x,x+m.length-1]),e.splice(x,2,m)}for(a.reverse(),h=-1;++h<a.length;)u[g+a[h][0]]=g+a[h][1],g+=a[h][1]-a[h][0]-1;return u}const dv={resolve:pv,tokenize:hv},fv={partial:!0,tokenize:mv};function pv(e){return em(e),e}function hv(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):G(s)?e.check(fv,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function mv(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ae(e,l,"linePrefix")}function l(o){if(o===null||G(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function tm(e,t,n,r,i,l,o,s,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return d;function d(m){return m===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(m),e.exit(l),h):m===null||m===32||m===41||Vl(m)?n(m):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(m))}function h(m){return m===62?(e.enter(l),e.consume(m),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(e.exit("chunkString"),e.exit(s),h(m)):m===null||m===60||G(m)?n(m):(e.consume(m),m===92?g:p)}function g(m){return m===60||m===62||m===92?(e.consume(m),p):p(m)}function v(m){return!f&&(m===null||m===41||pe(m))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(m)):f<u&&m===40?(e.consume(m),f++,v):m===41?(e.consume(m),f--,v):m===null||m===32||m===40||Vl(m)?n(m):(e.consume(m),m===92?b:v)}function b(m){return m===40||m===41||m===92?(e.consume(m),v):v(m)}}function nm(e,t,n,r,i,l){const o=this;let s=0,a;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(l),f}function f(p){return s>999||p===null||p===91||p===93&&!a||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(l),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):G(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||G(p)||s++>999?(e.exit("chunkString"),f(p)):(e.consume(p),a||(a=!le(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function rm(e,t,n,r,i,l){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,a):n(h)}function a(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(l),u(h))}function u(h){return h===o?(e.exit(l),a(o)):h===null?n(h):G(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ae(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===o||h===null||G(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===o||h===92?(e.consume(h),f):f(h)}}function oi(e,t){let n;return r;function r(i){return G(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):le(i)?ae(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const gv={name:"definition",tokenize:yv},xv={partial:!0,tokenize:vv};function yv(e,t,n){const r=this;let i;return l;function l(p){return e.enter("definition"),o(p)}function o(p){return nm.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=zt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a):n(p)}function a(p){return pe(p)?oi(e,u)(p):u(p)}function u(p){return tm(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(xv,d,d)(p)}function d(p){return le(p)?ae(e,h,"whitespace")(p):h(p)}function h(p){return p===null||G(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function vv(e,t,n){return r;function r(s){return pe(s)?oi(e,i)(s):n(s)}function i(s){return rm(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return le(s)?ae(e,o,"whitespace")(s):o(s)}function o(s){return s===null||G(s)?t(s):n(s)}}const kv={name:"hardBreakEscape",tokenize:wv};function wv(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return G(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const bv={name:"headingAtx",resolve:Sv,tokenize:jv};function Sv(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},mt(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function jv(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),l(f)}function l(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||pe(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),a(f)):f===null||G(f)?(e.exit("atxHeading"),t(f)):le(f)?ae(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function a(f){return f===35?(e.consume(f),a):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||pe(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const Cv=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nd=["pre","script","style","textarea"],Ev={concrete:!0,name:"htmlFlow",resolveTo:Lv,tokenize:Pv},Nv={partial:!0,tokenize:Iv},Tv={partial:!0,tokenize:_v};function Lv(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Pv(e,t,n){const r=this;let i,l,o,s,a;return u;function u(S){return f(S)}function f(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),d}function d(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),l=!0,v):S===63?(e.consume(S),i=3,r.interrupt?t:k):Ye(S)?(e.consume(S),o=String.fromCharCode(S),b):n(S)}function h(S){return S===45?(e.consume(S),i=2,p):S===91?(e.consume(S),i=5,s=0,g):Ye(S)?(e.consume(S),i=4,r.interrupt?t:k):n(S)}function p(S){return S===45?(e.consume(S),r.interrupt?t:k):n(S)}function g(S){const O="CDATA[";return S===O.charCodeAt(s++)?(e.consume(S),s===O.length?r.interrupt?t:H:g):n(S)}function v(S){return Ye(S)?(e.consume(S),o=String.fromCharCode(S),b):n(S)}function b(S){if(S===null||S===47||S===62||pe(S)){const O=S===47,ke=o.toLowerCase();return!O&&!l&&Nd.includes(ke)?(i=1,r.interrupt?t(S):H(S)):Cv.includes(o.toLowerCase())?(i=6,O?(e.consume(S),m):r.interrupt?t(S):H(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):l?x(S):y(S))}return S===45||Ve(S)?(e.consume(S),o+=String.fromCharCode(S),b):n(S)}function m(S){return S===62?(e.consume(S),r.interrupt?t:H):n(S)}function x(S){return le(S)?(e.consume(S),x):C(S)}function y(S){return S===47?(e.consume(S),C):S===58||S===95||Ye(S)?(e.consume(S),w):le(S)?(e.consume(S),y):C(S)}function w(S){return S===45||S===46||S===58||S===95||Ve(S)?(e.consume(S),w):T(S)}function T(S){return S===61?(e.consume(S),E):le(S)?(e.consume(S),T):y(S)}function E(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),a=S,N):le(S)?(e.consume(S),E):_(S)}function N(S){return S===a?(e.consume(S),a=null,D):S===null||G(S)?n(S):(e.consume(S),N)}function _(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||pe(S)?T(S):(e.consume(S),_)}function D(S){return S===47||S===62||le(S)?y(S):n(S)}function C(S){return S===62?(e.consume(S),$):n(S)}function $(S){return S===null||G(S)?H(S):le(S)?(e.consume(S),$):n(S)}function H(S){return S===45&&i===2?(e.consume(S),ce):S===60&&i===1?(e.consume(S),z):S===62&&i===4?(e.consume(S),q):S===63&&i===3?(e.consume(S),k):S===93&&i===5?(e.consume(S),B):G(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Nv,ne,K)(S)):S===null||G(S)?(e.exit("htmlFlowData"),K(S)):(e.consume(S),H)}function K(S){return e.check(Tv,Z,ne)(S)}function Z(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),X}function X(S){return S===null||G(S)?K(S):(e.enter("htmlFlowData"),H(S))}function ce(S){return S===45?(e.consume(S),k):H(S)}function z(S){return S===47?(e.consume(S),o="",A):H(S)}function A(S){if(S===62){const O=o.toLowerCase();return Nd.includes(O)?(e.consume(S),q):H(S)}return Ye(S)&&o.length<8?(e.consume(S),o+=String.fromCharCode(S),A):H(S)}function B(S){return S===93?(e.consume(S),k):H(S)}function k(S){return S===62?(e.consume(S),q):S===45&&i===2?(e.consume(S),k):H(S)}function q(S){return S===null||G(S)?(e.exit("htmlFlowData"),ne(S)):(e.consume(S),q)}function ne(S){return e.exit("htmlFlow"),t(S)}}function _v(e,t,n){const r=this;return i;function i(o){return G(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Iv(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Di,t,n)}}const Mv={name:"htmlText",tokenize:Dv};function Dv(e,t,n){const r=this;let i,l,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),T):k===63?(e.consume(k),y):Ye(k)?(e.consume(k),_):n(k)}function u(k){return k===45?(e.consume(k),f):k===91?(e.consume(k),l=0,g):Ye(k)?(e.consume(k),x):n(k)}function f(k){return k===45?(e.consume(k),p):n(k)}function d(k){return k===null?n(k):k===45?(e.consume(k),h):G(k)?(o=d,z(k)):(e.consume(k),d)}function h(k){return k===45?(e.consume(k),p):d(k)}function p(k){return k===62?ce(k):k===45?h(k):d(k)}function g(k){const q="CDATA[";return k===q.charCodeAt(l++)?(e.consume(k),l===q.length?v:g):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),b):G(k)?(o=v,z(k)):(e.consume(k),v)}function b(k){return k===93?(e.consume(k),m):v(k)}function m(k){return k===62?ce(k):k===93?(e.consume(k),m):v(k)}function x(k){return k===null||k===62?ce(k):G(k)?(o=x,z(k)):(e.consume(k),x)}function y(k){return k===null?n(k):k===63?(e.consume(k),w):G(k)?(o=y,z(k)):(e.consume(k),y)}function w(k){return k===62?ce(k):y(k)}function T(k){return Ye(k)?(e.consume(k),E):n(k)}function E(k){return k===45||Ve(k)?(e.consume(k),E):N(k)}function N(k){return G(k)?(o=N,z(k)):le(k)?(e.consume(k),N):ce(k)}function _(k){return k===45||Ve(k)?(e.consume(k),_):k===47||k===62||pe(k)?D(k):n(k)}function D(k){return k===47?(e.consume(k),ce):k===58||k===95||Ye(k)?(e.consume(k),C):G(k)?(o=D,z(k)):le(k)?(e.consume(k),D):ce(k)}function C(k){return k===45||k===46||k===58||k===95||Ve(k)?(e.consume(k),C):$(k)}function $(k){return k===61?(e.consume(k),H):G(k)?(o=$,z(k)):le(k)?(e.consume(k),$):D(k)}function H(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,K):G(k)?(o=H,z(k)):le(k)?(e.consume(k),H):(e.consume(k),Z)}function K(k){return k===i?(e.consume(k),i=void 0,X):k===null?n(k):G(k)?(o=K,z(k)):(e.consume(k),K)}function Z(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||pe(k)?D(k):(e.consume(k),Z)}function X(k){return k===47||k===62||pe(k)?D(k):n(k)}function ce(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function z(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),A}function A(k){return le(k)?ae(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):B(k)}function B(k){return e.enter("htmlTextData"),o(k)}}const Mu={name:"labelEnd",resolveAll:Bv,resolveTo:Fv,tokenize:Ov},Av={tokenize:$v},zv={tokenize:Wv},Rv={tokenize:Uv};function Bv(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&mt(e,0,e.length,n),e}function Fv(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=St(s,e.slice(l+1,l+r+3)),s=St(s,[["enter",f,t]]),s=St(s,go(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=St(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=St(s,e.slice(o+1)),s=St(s,[["exit",a,t]]),mt(e,l,e.length,s),e}function Ov(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(h){return l?l._inactive?d(h):(o=r.parser.defined.includes(zt(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(Av,f,o?f:d)(h):h===91?e.attempt(zv,f,o?u:d)(h):o?f(h):d(h)}function u(h){return e.attempt(Rv,f,d)(h)}function f(h){return t(h)}function d(h){return l._balanced=!0,n(h)}}function $v(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return pe(d)?oi(e,l)(d):l(d)}function l(d){return d===41?f(d):tm(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return pe(d)?oi(e,a)(d):f(d)}function s(d){return n(d)}function a(d){return d===34||d===39||d===40?rm(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return pe(d)?oi(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Wv(e,t,n){const r=this;return i;function i(s){return nm.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(zt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Uv(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Hv={name:"labelStartImage",resolveAll:Mu.resolveAll,tokenize:Vv};function Vv(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Qv={name:"labelStartLink",resolveAll:Mu.resolveAll,tokenize:qv};function qv(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ls={name:"lineEnding",tokenize:Kv};function Kv(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ae(e,t,"linePrefix")}}const yl={name:"thematicBreak",tokenize:Gv};function Gv(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||G(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),le(u)?ae(e,s,"whitespace")(u):s(u))}}const tt={continuation:{tokenize:Zv},exit:tk,name:"list",tokenize:Jv},Xv={partial:!0,tokenize:nk},Yv={partial:!0,tokenize:ek};function Jv(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:ka(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(yl,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(p)}return n(p)}function a(p){return ka(p)&&++o<10?(e.consume(p),a):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Di,r.interrupt?n:f,e.attempt(Xv,h,d))}function f(p){return r.containerState.initialBlankLine=!0,l++,h(p)}function d(p){return le(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Zv(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Di,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ae(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!le(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Yv,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,ae(e,e.attempt(tt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function ek(e,t,n){const r=this;return ae(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function tk(e){e.exit(this.containerState.type)}function nk(e,t,n){const r=this;return ae(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!le(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Td={name:"setextUnderline",resolveTo:rk,tokenize:ik};function rk(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function ik(e,t,n){const r=this;let i;return l;function l(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),le(u)?ae(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||G(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const lk={tokenize:ok};function ok(e){const t=this,n=e.attempt(Di,r,e.attempt(this.parser.constructs.flowInitial,i,ae(e,e.attempt(this.parser.constructs.flow,i,e.attempt(dv,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const sk={resolveAll:lm()},ak=im("string"),uk=im("text");function im(e){return{resolveAll:lm(e==="text"?ck:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(f){return u(f)?l(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return u(f)?(n.exit("data"),l(f)):(n.consume(f),a)}function u(f){if(f===null)return!0;const d=i[f];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function lm(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function ck(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,a;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)a=!0,s++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const dk={42:tt,43:tt,45:tt,48:tt,49:tt,50:tt,51:tt,52:tt,53:tt,54:tt,55:tt,56:tt,57:tt,62:Yh},fk={91:gv},pk={[-2]:is,[-1]:is,32:is},hk={35:bv,42:yl,45:[Td,yl],60:Ev,61:Td,95:yl,96:Ed,126:Ed},mk={38:Zh,92:Jh},gk={[-5]:ls,[-4]:ls,[-3]:ls,33:Hv,38:Zh,42:wa,60:[Q1,Mv],91:Qv,92:[kv,Jh],93:Mu,95:wa,96:lv},xk={null:[wa,sk]},yk={null:[42,95]},vk={null:[]},kk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yk,contentInitial:fk,disable:vk,document:dk,flow:hk,flowInitial:pk,insideSpan:xk,string:mk,text:gk},Symbol.toStringTag,{value:"Module"}));function wk(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const a={attempt:N(T),check:N(E),consume:x,enter:y,exit:w,interrupt:N(E,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let f=t.tokenize.call(u,a);return t.resolveAll&&l.push(t),u;function d($){return o=St(o,$),b(),o[o.length-1]!==null?[]:(_(t,0),u.events=go(l,u.events,u),u.events)}function h($,H){return Sk(p($),H)}function p($){return bk(o,$)}function g(){const{_bufferIndex:$,_index:H,line:K,column:Z,offset:X}=r;return{_bufferIndex:$,_index:H,line:K,column:Z,offset:X}}function v($){i[$.line]=$.column,C()}function b(){let $;for(;r._index<o.length;){const H=o[r._index];if(typeof H=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<H.length;)m(H.charCodeAt(r._bufferIndex));else m(H)}}function m($){f=f($)}function x($){G($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,C()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=$}function y($,H){const K=H||{};return K.type=$,K.start=g(),u.events.push(["enter",K,u]),s.push(K),K}function w($){const H=s.pop();return H.end=g(),u.events.push(["exit",H,u]),H}function T($,H){_($,H.from)}function E($,H){H.restore()}function N($,H){return K;function K(Z,X,ce){let z,A,B,k;return Array.isArray(Z)?ne(Z):"tokenize"in Z?ne([Z]):q(Z);function q(ie){return ge;function ge(Ke){const Pe=Ke!==null&&ie[Ke],ze=Ke!==null&&ie.null,Re=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return ne(Re)(Ke)}}function ne(ie){return z=ie,A=0,ie.length===0?ce:S(ie[A])}function S(ie){return ge;function ge(Ke){return k=D(),B=ie,ie.partial||(u.currentConstruct=ie),ie.name&&u.parser.constructs.disable.null.includes(ie.name)?ke():ie.tokenize.call(H?Object.assign(Object.create(u),H):u,a,O,ke)(Ke)}}function O(ie){return $(B,k),X}function ke(ie){return k.restore(),++A<z.length?S(z[A]):ce}}}function _($,H){$.resolveAll&&!l.includes($)&&l.push($),$.resolve&&mt(u.events,H,u.events.length-H,$.resolve(u.events.slice(H),u)),$.resolveTo&&(u.events=$.resolveTo(u.events,u))}function D(){const $=g(),H=u.previous,K=u.currentConstruct,Z=u.events.length,X=Array.from(s);return{from:Z,restore:ce};function ce(){r=$,u.previous=H,u.currentConstruct=K,u.events.length=Z,s=X,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function bk(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function Sk(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function jk(e){const r={constructs:Gh([kk,...(e||{}).extensions||[]]),content:i(F1),defined:[],document:i($1),flow:i(lk),lazy:{},string:i(ak),text:i(uk)};return r;function i(l){return o;function o(s){return wk(r,l,s)}}}function Ck(e){for(;!em(e););return e}const Ld=/[\0\t\n\r]/g;function Ek(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const a=[];let u,f,d,h,p;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),d=0,t="",n&&(l.charCodeAt(0)===65279&&d++,n=void 0);d<l.length;){if(Ld.lastIndex=d,u=Ld.exec(l),h=u&&u.index!==void 0?u.index:l.length,p=l.charCodeAt(h),!u){t=l.slice(d);break}if(p===10&&d===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),d<h&&(a.push(l.slice(d,h)),e+=h-d),p){case 0:{a.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,a.push(-2);e++<f;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const Nk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tk(e){return e.replace(Nk,Lk)}function Lk(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return Xh(n.slice(l?2:1),l?16:10)}return Iu(n)||e}const om={}.hasOwnProperty;function Pk(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_k(n)(Ck(jk(n).document().write(Ek()(e,t,!0))))}function _k(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(kt),autolinkProtocol:D,autolinkEmail:D,atxHeading:l(re),blockQuote:l(ze),characterEscape:D,characterReference:D,codeFenced:l(Re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(Re,o),codeText:l(vt,o),codeTextData:D,data:D,codeFlowValue:D,definition:l(M),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(Q),hardBreakEscape:l(se),hardBreakTrailing:l(se),htmlFlow:l(Be,o),htmlFlowData:D,htmlText:l(Be,o),htmlTextData:D,image:l(Lt),label:o,link:l(kt),listItem:l(Pr),listItemValue:h,listOrdered:l(En,d),listUnordered:l(En),paragraph:l(_r),reference:S,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(re),strong:l(Vn),thematicBreak:l(Mr)},exit:{atxHeading:a(),atxHeadingSequence:T,autolink:a(),autolinkEmail:Pe,autolinkProtocol:Ke,blockQuote:a(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:ie,characterReference:ge,codeFenced:a(b),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:C,codeIndented:a(m),codeText:a(X),codeTextData:C,data:C,definition:a(),definitionDestinationString:w,definitionLabelString:x,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(H),hardBreakTrailing:a(H),htmlFlow:a(K),htmlFlowData:C,htmlText:a(Z),htmlTextData:C,image:a(z),label:B,labelText:A,lineEnding:$,link:a(ce),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:O,resourceDestinationString:k,resourceTitleString:q,resource:ne,setextHeading:a(_),setextHeadingLineSequence:N,setextHeadingText:E,strong:a(),thematicBreak:a()}};sm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(I){let W={type:"root",children:[]};const P={stack:[W],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:n},U=[];let J=-1;for(;++J<I.length;)if(I[J][1].type==="listOrdered"||I[J][1].type==="listUnordered")if(I[J][0]==="enter")U.push(J);else{const L=U.pop();J=i(I,L,J)}for(J=-1;++J<I.length;){const L=t[I[J][0]];om.call(L,I[J][1].type)&&L[I[J][1].type].call(Object.assign({sliceSerialize:I[J][2].sliceSerialize},P),I[J][1])}if(P.tokenStack.length>0){const L=P.tokenStack[P.tokenStack.length-1];(L[1]||Pd).call(P,void 0,L[0])}for(W.position={start:ln(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:ln(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},J=-1;++J<t.transforms.length;)W=t.transforms[J](W)||W;return W}function i(I,W,P){let U=W-1,J=-1,L=!1,ee,de,je,ut;for(;++U<=P;){const ct=I[U];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?J++:J--,ut=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(ee&&!ut&&!J&&!je&&(je=U),ut=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ut=void 0}if(!J&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||J===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(ee){let Qn=U;for(de=void 0;Qn--;){const Vt=I[Qn];if(Vt[1].type==="lineEnding"||Vt[1].type==="lineEndingBlank"){if(Vt[0]==="exit")continue;de&&(I[de][1].type="lineEndingBlank",L=!0),Vt[1].type="lineEnding",de=Qn}else if(!(Vt[1].type==="linePrefix"||Vt[1].type==="blockQuotePrefix"||Vt[1].type==="blockQuotePrefixWhitespace"||Vt[1].type==="blockQuoteMarker"||Vt[1].type==="listItemIndent"))break}je&&(!de||je<de)&&(ee._spread=!0),ee.end=Object.assign({},de?I[de][1].start:ct[1].end),I.splice(de||U,0,["exit",ee,ct[2]]),U++,P++}if(ct[1].type==="listItemPrefix"){const Qn={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};ee=Qn,I.splice(U,0,["enter",Qn,ct[2]]),U++,P++,je=void 0,ut=!0}}}return I[W][1]._spread=L,P}function l(I,W){return P;function P(U){s.call(this,I(U),U),W&&W.call(this,U)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(I,W,P){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([W,P||void 0]),I.position={start:ln(W.start),end:void 0}}function a(I){return W;function W(P){I&&I.call(this,P),u.call(this,P)}}function u(I,W){const P=this.stack.pop(),U=this.tokenStack.pop();if(U)U[0].type!==I.type&&(W?W.call(this,I,U[0]):(U[1]||Pd).call(this,I,U[0]));else throw new Error("Cannot close `"+I.type+"` ("+li({start:I.start,end:I.end})+"): its not open");P.position.end=ln(I.end)}function f(){return _u(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(I){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function p(){const I=this.resume(),W=this.stack[this.stack.length-1];W.lang=I}function g(){const I=this.resume(),W=this.stack[this.stack.length-1];W.meta=I}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const I=this.resume(),W=this.stack[this.stack.length-1];W.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const I=this.resume(),W=this.stack[this.stack.length-1];W.value=I.replace(/(\r?\n|\r)$/g,"")}function x(I){const W=this.resume(),P=this.stack[this.stack.length-1];P.label=W,P.identifier=zt(this.sliceSerialize(I)).toLowerCase()}function y(){const I=this.resume(),W=this.stack[this.stack.length-1];W.title=I}function w(){const I=this.resume(),W=this.stack[this.stack.length-1];W.url=I}function T(I){const W=this.stack[this.stack.length-1];if(!W.depth){const P=this.sliceSerialize(I).length;W.depth=P}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function N(I){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function D(I){const P=this.stack[this.stack.length-1].children;let U=P[P.length-1];(!U||U.type!=="text")&&(U=Ir(),U.position={start:ln(I.start),end:void 0},P.push(U)),this.stack.push(U)}function C(I){const W=this.stack.pop();W.value+=this.sliceSerialize(I),W.position.end=ln(I.end)}function $(I){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const P=W.children[W.children.length-1];P.position.end=ln(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(W.type)&&(D.call(this,I),C.call(this,I))}function H(){this.data.atHardBreak=!0}function K(){const I=this.resume(),W=this.stack[this.stack.length-1];W.value=I}function Z(){const I=this.resume(),W=this.stack[this.stack.length-1];W.value=I}function X(){const I=this.resume(),W=this.stack[this.stack.length-1];W.value=I}function ce(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=W,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function z(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=W,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function A(I){const W=this.sliceSerialize(I),P=this.stack[this.stack.length-2];P.label=Tk(W),P.identifier=zt(W).toLowerCase()}function B(){const I=this.stack[this.stack.length-1],W=this.resume(),P=this.stack[this.stack.length-1];if(this.data.inReference=!0,P.type==="link"){const U=I.children;P.children=U}else P.alt=W}function k(){const I=this.resume(),W=this.stack[this.stack.length-1];W.url=I}function q(){const I=this.resume(),W=this.stack[this.stack.length-1];W.title=I}function ne(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function O(I){const W=this.resume(),P=this.stack[this.stack.length-1];P.label=W,P.identifier=zt(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function ke(I){this.data.characterReferenceType=I.type}function ie(I){const W=this.sliceSerialize(I),P=this.data.characterReferenceType;let U;P?(U=Xh(W,P==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):U=Iu(W);const J=this.stack[this.stack.length-1];J.value+=U}function ge(I){const W=this.stack.pop();W.position.end=ln(I.end)}function Ke(I){C.call(this,I);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(I)}function Pe(I){C.call(this,I);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(I)}function ze(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function vt(){return{type:"inlineCode",value:""}}function M(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function se(){return{type:"break"}}function Be(){return{type:"html",value:""}}function Lt(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function En(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function Pr(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function _r(){return{type:"paragraph",children:[]}}function Vn(){return{type:"strong",children:[]}}function Ir(){return{type:"text",value:""}}function Mr(){return{type:"thematicBreak"}}}function ln(e){return{line:e.line,column:e.column,offset:e.offset}}function sm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?sm(e,r):Ik(e,r)}}function Ik(e,t){let n;for(n in t)if(om.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Pd(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+li({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+li({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+li({start:t.start,end:t.end})+") is still open")}function Mk(e){const t=this;t.parser=n;function n(r){return Pk(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Dk(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Ak(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function zk(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function Rk(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bk(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fk(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Lr(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function Ok(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $k(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function am(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Wk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return am(e,t);const i={src:Lr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function Uk(e,t){const n={src:Lr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Hk(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Vk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return am(e,t);const i={href:Lr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Qk(e,t){const n={href:Lr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qk(e,t,n){const r=e.all(t),i=n?Kk(n):um(t),l={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function Kk(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=um(n[r])}return t}function um(e){const t=e.spread;return t??e.children.length>1}function Gk(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Xk(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Yk(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Jk(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Zk(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Nu(t.children[1]),a=Wh(t.children[t.children.length-1]);s&&a&&(o.position={start:s,end:a}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function ew(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const d=t.children[a],h={},p=o?o[a]:void 0;p&&(h.align=p);let g={type:"element",tagName:l,properties:h,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function tw(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const _d=9,Id=32;function nw(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(Md(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(Md(t.slice(i),i>0,!1)),l.join("")}function Md(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===_d||l===Id;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===_d||l===Id;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function rw(e,t){const n={type:"text",value:nw(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function iw(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const lw={blockquote:Dk,break:Ak,code:zk,delete:Rk,emphasis:Bk,footnoteReference:Fk,heading:Ok,html:$k,imageReference:Wk,image:Uk,inlineCode:Hk,linkReference:Vk,link:Qk,listItem:qk,list:Gk,paragraph:Xk,root:Yk,strong:Jk,table:Zk,tableCell:tw,tableRow:ew,text:rw,thematicBreak:iw,toml:el,yaml:el,definition:el,footnoteDefinition:el};function el(){}const cm=-1,xo=0,si=1,Ql=2,Du=3,Au=4,zu=5,Ru=6,dm=7,fm=8,Dd=typeof self=="object"?self:globalThis,ow=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case xo:case cm:return n(o,i);case si:{const s=n([],i);for(const a of o)s.push(r(a));return s}case Ql:{const s=n({},i);for(const[a,u]of o)s[r(a)]=r(u);return s}case Du:return n(new Date(o),i);case Au:{const{source:s,flags:a}=o;return n(new RegExp(s,a),i)}case zu:{const s=n(new Map,i);for(const[a,u]of o)s.set(r(a),r(u));return s}case Ru:{const s=n(new Set,i);for(const a of o)s.add(r(a));return s}case dm:{const{name:s,message:a}=o;return n(new Dd[s](a),i)}case fm:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new Dd[l](o),i)};return r},Ad=e=>ow(new Map,e)(0),Kn="",{toString:sw}={},{keys:aw}=Object,Ur=e=>{const t=typeof e;if(t!=="object"||!e)return[xo,t];const n=sw.call(e).slice(8,-1);switch(n){case"Array":return[si,Kn];case"Object":return[Ql,Kn];case"Date":return[Du,Kn];case"RegExp":return[Au,Kn];case"Map":return[zu,Kn];case"Set":return[Ru,Kn];case"DataView":return[si,n]}return n.includes("Array")?[si,n]:n.includes("Error")?[dm,n]:[Ql,n]},tl=([e,t])=>e===xo&&(t==="function"||t==="symbol"),uw=(e,t,n,r)=>{const i=(o,s)=>{const a=r.push(o)-1;return n.set(s,a),a},l=o=>{if(n.has(o))return n.get(o);let[s,a]=Ur(o);switch(s){case xo:{let f=o;switch(a){case"bigint":s=fm,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([cm],o)}return i([s,f],o)}case si:{if(a){let h=o;return a==="DataView"?h=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(o)),i([a,[...h]],o)}const f=[],d=i([s,f],o);for(const h of o)f.push(l(h));return d}case Ql:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const f=[],d=i([s,f],o);for(const h of aw(o))(e||!tl(Ur(o[h])))&&f.push([l(h),l(o[h])]);return d}case Du:return i([s,o.toISOString()],o);case Au:{const{source:f,flags:d}=o;return i([s,{source:f,flags:d}],o)}case zu:{const f=[],d=i([s,f],o);for(const[h,p]of o)(e||!(tl(Ur(h))||tl(Ur(p))))&&f.push([l(h),l(p)]);return d}case Ru:{const f=[],d=i([s,f],o);for(const h of o)(e||!tl(Ur(h)))&&f.push(l(h));return d}}const{message:u}=o;return i([s,{name:a,message:u}],o)};return l},zd=(e,{json:t,lossy:n}={})=>{const r=[];return uw(!(t||n),!!t,new Map,r)(e),r},ql=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ad(zd(e,t)):structuredClone(e):(e,t)=>Ad(zd(e,t));function cw(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function dw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function fw(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||cw,r=e.options.footnoteBackLabel||dw,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=Lr(d.toLowerCase());let p=0;const g=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++p<=v;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...g)}else f.push(...g);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,m),s.push(m)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...ql(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const yo=function(e){if(e==null)return gw;if(typeof e=="function")return vo(e);if(typeof e=="object")return Array.isArray(e)?pw(e):hw(e);if(typeof e=="string")return mw(e);throw new Error("Expected function, string, or object as test")};function pw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=yo(e[n]);return vo(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function hw(e){const t=e;return vo(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function mw(e){return vo(t);function t(n){return n&&n.type===e}}function vo(e){return t;function t(n,r,i){return!!(xw(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function gw(){return!0}function xw(e){return e!==null&&typeof e=="object"&&"type"in e}const pm=[],yw=!0,ba=!1,vw="skip";function hm(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=yo(i),o=r?-1:1;s(e,void 0,[])();function s(a,u,f){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=pm,g,v,b;if((!t||l(a,u,f[f.length-1]||void 0))&&(p=kw(n(a,f)),p[0]===ba))return p;if("children"in a&&a.children){const m=a;if(m.children&&p[0]!==vw)for(v=(r?m.children.length:-1)+o,b=f.concat(m);v>-1&&v<m.children.length;){const x=m.children[v];if(g=s(x,v,b)(),g[0]===ba)return g;v=typeof g[1]=="number"?g[1]:v+o}}return p}}}function kw(e){return Array.isArray(e)?e:typeof e=="number"?[yw,e]:e==null?pm:[e]}function Bu(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),hm(e,l,s,i);function s(a,u){const f=u[u.length-1],d=f?f.children.indexOf(a):void 0;return o(a,d,f)}}const Sa={}.hasOwnProperty,ww={};function bw(e,t){const n=t||ww,r=new Map,i=new Map,l=new Map,o={...lw,...n.handlers},s={all:u,applyData:jw,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:a,options:n,patch:Sw,wrap:Ew};return Bu(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),s;function a(f,d){const h=f.type,p=s.handlers[h];if(Sa.call(s.handlers,h)&&p)return p(s,f,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:v,...b}=f,m=ql(b);return m.children=s.all(f),m}return ql(f)}return(s.options.unknownHandler||Cw)(s,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const g=s.one(h[p],f);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Rd(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=Rd(v.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function Sw(e,t){e.position&&(t.position=d1(e))}function jw(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,ql(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Cw(e,t){const n=t.data||{},r="value"in t&&!(Sa.call(n,"hProperties")||Sa.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ew(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Rd(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Bd(e,t){const n=bw(e,t),r=n.one(e,void 0),i=fw(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function Nw(e,t){return e&&"run"in e?async function(n,r){const i=Bd(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Bd(n,{file:r,...e||t})}}function Fd(e){if(e)throw e}var vl=Object.prototype.hasOwnProperty,mm=Object.prototype.toString,Od=Object.defineProperty,$d=Object.getOwnPropertyDescriptor,Wd=function(t){return typeof Array.isArray=="function"?Array.isArray(t):mm.call(t)==="[object Array]"},Ud=function(t){if(!t||mm.call(t)!=="[object Object]")return!1;var n=vl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&vl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||vl.call(t,i)},Hd=function(t,n){Od&&n.name==="__proto__"?Od(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Vd=function(t,n){if(n==="__proto__")if(vl.call(t,n)){if($d)return $d(t,n).value}else return;return t[n]},Tw=function e(){var t,n,r,i,l,o,s=arguments[0],a=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Vd(s,n),i=Vd(t,n),s!==i&&(f&&i&&(Ud(i)||(l=Wd(i)))?(l?(l=!1,o=r&&Wd(r)?r:[]):o=r&&Ud(r)?r:{},Hd(s,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&Hd(s,{name:n,newValue:i}));return s};const os=Gl(Tw);function ja(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Lw(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(a,...u){const f=e[++l];let d=-1;if(a){o(a);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?Pw(f,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Pw(e,t){let n;return r;function r(...o){const s=e.length>o.length;let a;s&&o.push(i);try{a=e.apply(this,o)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(a&&a.then&&typeof a.then=="function"?a.then(l,i):a instanceof Error?i(a):l(a))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const Ot={basename:_w,dirname:Iw,extname:Mw,join:Dw,sep:"/"};function _w(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ai(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Iw(e){if(Ai(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Mw(e){Ai(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Dw(...e){let t=-1,n;for(;++t<e.length;)Ai(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Aw(n)}function Aw(e){Ai(e);const t=e.codePointAt(0)===47;let n=zw(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function zw(e,t){let n="",r=0,i=-1,l=0,o=-1,s,a;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function Ai(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Rw={cwd:Bw};function Bw(){return"/"}function Ca(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Fw(e){if(typeof e=="string")e=new URL(e);else if(!Ca(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Ow(e)}function Ow(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ss=["history","path","basename","stem","extname","dirname"];class gm{constructor(t){let n;t?Ca(t)?n={path:t}:typeof t=="string"||$w(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Rw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ss.length;){const l=ss[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)ss.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ot.basename(this.path):void 0}set basename(t){us(t,"basename"),as(t,"basename"),this.path=Ot.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ot.dirname(this.path):void 0}set dirname(t){Qd(this.basename,"dirname"),this.path=Ot.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ot.extname(this.path):void 0}set extname(t){if(as(t,"extname"),Qd(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ot.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ca(t)&&(t=Fw(t)),us(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ot.basename(this.path,this.extname):void 0}set stem(t){us(t,"stem"),as(t,"stem"),this.path=Ot.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new qe(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function as(e,t){if(e&&e.includes(Ot.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ot.sep+"`")}function us(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Qd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $w(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ww=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},Uw={}.hasOwnProperty;class Fu extends Ww{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Lw()}copy(){const t=new Fu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(os(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(fs("data",this.frozen),this.namespace[t]=n,this):Uw.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fs("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=nl(t),r=this.parser||this.Parser;return cs("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),cs("process",this.parser||this.Parser),ds("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=nl(t),a=r.parse(s);r.run(a,s,function(f,d,h){if(f||!d||!h)return u(f);const p=d,g=r.stringify(p,h);Qw(g)?h.value=g:h.result=g,u(f,h)});function u(f,d){f||!d?o(f):l?l(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),cs("processSync",this.parser||this.Parser),ds("processSync",this.compiler||this.Compiler),this.process(t,i),Kd("processSync","process",n),r;function i(l,o){n=!0,Fd(l),r=o}}run(t,n,r){qd(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const a=nl(n);i.run(t,a,u);function u(f,d,h){const p=d||t;f?s(f):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),Kd("runSync","run",r),i;function l(o,s){Fd(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=nl(n),i=this.compiler||this.Compiler;return ds("stringify",i),qd(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(fs("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;a(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=os(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];l(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...g]=f;const v=r[h][1];ja(v)&&ja(p)&&(p=os(!0,v,p)),r[h]=[u,p,...g]}}}}const Hw=new Fu().freeze();function cs(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ds(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function fs(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qd(e){if(!ja(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Kd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nl(e){return Vw(e)?e:new gm(e)}function Vw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Qw(e){return typeof e=="string"||qw(e)}function qw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Kw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gd=[],Xd={allowDangerousHtml:!0},Gw=/^(https?|ircs?|mailto|xmpp)$/i,Xw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ko(e){const t=Yw(e),n=Jw(e);return Zw(t.runSync(t.parse(n),n),e)}function Yw(e){const t=e.rehypePlugins||Gd,n=e.remarkPlugins||Gd,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Xd}:Xd;return Hw().use(Mk).use(n).use(Nw,r).use(t)}function Jw(e){const t=e.children||"",n=new gm;return typeof t=="string"&&(n.value=t),n}function Zw(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||e2;for(const f of Xw)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Kw+f.id,void 0);return Bu(e,u),g1(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let p;for(p in rs)if(Object.hasOwn(rs,p)&&Object.hasOwn(f.properties,p)){const g=f.properties[p],v=rs[p];(v===null||v.includes(f.tagName))&&(f.properties[p]=a(String(g||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):l?l.includes(f.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(f,d,h)),p&&h&&typeof d=="number")return s&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function e2(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Gw.test(e.slice(0,t))?e:""}function Yd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function t2(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function xm(e,t,n){const i=yo((n||{}).ignore||[]),l=n2(t);let o=-1;for(;++o<l.length;)hm(e,"text",s);function s(u,f){let d=-1,h;for(;++d<f.length;){const p=f[d],g=h?h.children:void 0;if(i(p,g?g.indexOf(p):void 0,h))return;h=p}if(h)return a(u,f)}function a(u,f){const d=f[f.length-1],h=l[o][0],p=l[o][1];let g=0;const b=d.children.indexOf(u);let m=!1,x=[];h.lastIndex=0;let y=h.exec(u.value);for(;y;){const w=y.index,T={index:y.index,input:y.input,stack:[...f,u]};let E=p(...y,T);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?h.lastIndex=w+1:(g!==w&&x.push({type:"text",value:u.value.slice(g,w)}),Array.isArray(E)?x.push(...E):E&&x.push(E),g=w+y[0].length,m=!0),!h.global)break;y=h.exec(u.value)}return m?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),d.children.splice(b,1,...x)):x=[u],b+x.length}}function n2(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([r2(i[0]),i2(i[1])])}return t}function r2(e){return typeof e=="string"?new RegExp(t2(e),"g"):e}function i2(e){return typeof e=="function"?e:function(){return e}}const ps="phrasing",hs=["autolink","link","image","label"];function l2(){return{transforms:[f2],enter:{literalAutolink:s2,literalAutolinkEmail:ms,literalAutolinkHttp:ms,literalAutolinkWww:ms},exit:{literalAutolink:d2,literalAutolinkEmail:c2,literalAutolinkHttp:a2,literalAutolinkWww:u2}}}function o2(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ps,notInConstruct:hs},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ps,notInConstruct:hs},{character:":",before:"[ps]",after:"\\/",inConstruct:ps,notInConstruct:hs}]}}function s2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ms(e){this.config.enter.autolinkProtocol.call(this,e)}function a2(e){this.config.exit.autolinkProtocol.call(this,e)}function u2(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function c2(e){this.config.exit.autolinkEmail.call(this,e)}function d2(e){this.exit(e)}function f2(e){xm(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,p2],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),h2]],{ignore:["link","linkReference"]})}function p2(e,t,n,r,i){let l="";if(!ym(i)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!m2(n)))return!1;const o=g2(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:l+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function h2(e,t,n,r){return!ym(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function m2(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function g2(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Yd(e,"(");let l=Yd(e,")");for(;r!==-1&&i>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function ym(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||$n(n)||mo(n))&&(!t||n!==47)}vm.peek=C2;function x2(){this.buffer()}function y2(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function v2(){this.buffer()}function k2(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function w2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function b2(e){this.exit(e)}function S2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function j2(e){this.exit(e)}function C2(){return"["}function vm(e,t,n,r){const i=n.createTracker(r);let l=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return l+=i.move(n.safe(n.associationId(e),{after:"]",before:l})),s(),o(),l+=i.move("]"),l}function E2(){return{enter:{gfmFootnoteCallString:x2,gfmFootnoteCall:y2,gfmFootnoteDefinitionLabelString:v2,gfmFootnoteDefinition:k2},exit:{gfmFootnoteCallString:w2,gfmFootnoteCall:b2,gfmFootnoteDefinitionLabelString:S2,gfmFootnoteDefinition:j2}}}function N2(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:vm},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,l,o){const s=l.createTracker(o);let a=s.move("[^");const u=l.enter("footnoteDefinition"),f=l.enter("label");return a+=s.move(l.safe(l.associationId(r),{before:a,after:"]"})),f(),a+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),a+=s.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,s.current()),t?km:T2))),u(),a}}function T2(e,t,n){return t===0?e:km(e,t,n)}function km(e,t,n){return(n?"":"    ")+e}const L2=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wm.peek=D2;function P2(){return{canContainEols:["delete"],enter:{strikethrough:I2},exit:{strikethrough:M2}}}function _2(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:L2}],handlers:{delete:wm}}}function I2(e){this.enter({type:"delete",children:[]},e)}function M2(e){this.exit(e)}function wm(e,t,n,r){const i=n.createTracker(r),l=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),l(),o}function D2(){return"~"}function A2(e){return e.length}function z2(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||A2,l=[],o=[],s=[],a=[];let u=0,f=-1;for(;++f<e.length;){const v=[],b=[];let m=-1;for(e[f].length>u&&(u=e[f].length);++m<e[f].length;){const x=R2(e[f][m]);if(n.alignDelimiters!==!1){const y=i(x);b[m]=y,(a[m]===void 0||y>a[m])&&(a[m]=y)}v.push(x)}o[f]=v,s[f]=b}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)l[d]=Jd(r[d]);else{const v=Jd(r);for(;++d<u;)l[d]=v}d=-1;const h=[],p=[];for(;++d<u;){const v=l[d];let b="",m="";v===99?(b=":",m=":"):v===108?b=":":v===114&&(m=":");let x=n.alignDelimiters===!1?1:Math.max(1,a[d]-b.length-m.length);const y=b+"-".repeat(x)+m;n.alignDelimiters!==!1&&(x=b.length+x+m.length,x>a[d]&&(a[d]=x),p[d]=x),h[d]=y}o.splice(1,0,h),s.splice(1,0,p),f=-1;const g=[];for(;++f<o.length;){const v=o[f],b=s[f];d=-1;const m=[];for(;++d<u;){const x=v[d]||"";let y="",w="";if(n.alignDelimiters!==!1){const T=a[d]-(b[d]||0),E=l[d];E===114?y=" ".repeat(T):E===99?T%2?(y=" ".repeat(T/2+.5),w=" ".repeat(T/2-.5)):(y=" ".repeat(T/2),w=y):w=" ".repeat(T)}n.delimiterStart!==!1&&!d&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&m.push(" "),n.alignDelimiters!==!1&&m.push(y),m.push(x),n.alignDelimiters!==!1&&m.push(w),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&m.push("|")}g.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return g.join(`
`)}function R2(e){return e==null?"":String(e)}function Jd(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function B2(e,t,n,r){const i=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const o=n.indentLines(n.containerFlow(e,l.current()),F2);return i(),o}function F2(e,t,n){return">"+(n?"":" ")+e}function O2(e,t){return Zd(e,t.inConstruct,!0)&&!Zd(e,t.notInConstruct,!1)}function Zd(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ef(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&O2(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $2(e,t){const n=String(e);let r=n.indexOf(t),i=r,l=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++l>o&&(o=l):l=1,i=r+t.length,r=n.indexOf(t,i);return o}function W2(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function U2(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function H2(e,t,n,r){const i=U2(n),l=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(W2(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(l,V2);return d(),h}const s=n.createTracker(r),a=i.repeat(Math.max($2(l,i)+1,3)),u=n.enter("codeFenced");let f=s.move(a);if(e.lang){const d=n.enter(`codeFencedLang${o}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),d()}return f+=s.move(`
`),l&&(f+=s.move(l+`
`)),f+=s.move(a),u(),f}function V2(e,t,n){return(n?"":"    ")+e}function Ou(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Q2(e,t,n,r){const i=Ou(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),o(),u}function q2(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ni(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Kl(e,t,n){const r=Sr(e),i=Sr(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}bm.peek=K2;function bm(e,t,n,r){const i=q2(n),l=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Kl(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ni(u)+a.slice(1));const d=a.charCodeAt(a.length-1),h=Kl(r.after.charCodeAt(0),d,i);h.inside&&(a=a.slice(0,-1)+Ni(d));const p=o.move(i);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function K2(e,t,n){return n.options.emphasis||"*"}function G2(e,t){let n=!1;return Bu(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ba}),!!((!e.depth||e.depth<3)&&_u(e)&&(t.options.setext||n))}function X2(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(G2(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");l.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(u)&&(u=Ni(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),s(),u}Sm.peek=Y2;function Sm(e){return e.value||""}function Y2(){return"<"}jm.peek=J2;function jm(e,t,n,r){const i=Ou(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),o(),u}function J2(){return"!"}Cm.peek=Z2;function Cm(e,t,n,r){const i=e.referenceType,l=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function Z2(){return"!"}Em.peek=eb;function Em(e,t,n){let r=e.value||"",i="`",l=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const o=n.unsafe[l],s=n.compilePattern(o);let a;if(o.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function eb(){return"`"}function Nm(e,t){const n=_u(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Tm.peek=tb;function Tm(e,t,n,r){const i=Ou(n),l=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,a;if(Nm(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=f,d}s=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),a(),e.title&&(a=n.enter(`title${l}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),s(),u}function tb(e,t,n){return Nm(e,n)?"<":"["}Lm.peek=nb;function Lm(e,t,n,r){const i=e.referenceType,l=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function nb(){return"["}function $u(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rb(e){const t=$u(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ib(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Pm(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function lb(e,t,n,r){const i=n.enter("list"),l=n.bulletCurrent;let o=e.ordered?ib(n):$u(n);const s=e.ordered?o==="."?")":".":rb(n);let a=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),Pm(n)===o&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=l,i(),u}function ob(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function sb(e,t,n,r){const i=ob(n);let l=n.bulletCurrent||$u(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let o=l.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(l+" ".repeat(o-l.length)),s.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return a(),u;function f(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?l:l+" ".repeat(o-l.length))+d}}function ab(e,t,n,r){const i=n.enter("paragraph"),l=n.enter("phrasing"),o=n.containerPhrasing(e,r);return l(),i(),o}const ub=yo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cb(e,t,n,r){return(e.children.some(function(o){return ub(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function db(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}_m.peek=fb;function _m(e,t,n,r){const i=db(n),l=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Kl(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ni(u)+a.slice(1));const d=a.charCodeAt(a.length-1),h=Kl(r.after.charCodeAt(0),d,i);h.inside&&(a=a.slice(0,-1)+Ni(d));const p=o.move(i+i);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function fb(e,t,n){return n.options.strong||"*"}function pb(e,t,n,r){return n.safe(e.value,r)}function hb(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mb(e,t,n){const r=(Pm(n)+(n.options.ruleSpaces?" ":"")).repeat(hb(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Im={blockquote:B2,break:ef,code:H2,definition:Q2,emphasis:bm,hardBreak:ef,heading:X2,html:Sm,image:jm,imageReference:Cm,inlineCode:Em,link:Tm,linkReference:Lm,list:lb,listItem:sb,paragraph:ab,root:cb,strong:_m,text:pb,thematicBreak:mb};function gb(){return{enter:{table:xb,tableData:tf,tableHeader:tf,tableRow:vb},exit:{codeText:kb,table:yb,tableData:gs,tableHeader:gs,tableRow:gs}}}function xb(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yb(e){this.exit(e),this.data.inTable=void 0}function vb(e){this.enter({type:"tableRow",children:[]},e)}function gs(e){this.exit(e)}function tf(e){this.enter({type:"tableCell",children:[]},e)}function kb(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,wb));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function wb(e,t){return t==="|"?t:e}function bb(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:a,tableRow:s}};function o(p,g,v,b){return u(f(p,v,b),p.align)}function s(p,g,v,b){const m=d(p,v,b),x=u([m]);return x.slice(0,x.indexOf(`
`))}function a(p,g,v,b){const m=v.enter("tableCell"),x=v.enter("phrasing"),y=v.containerPhrasing(p,{...b,before:l,after:l});return x(),m(),y}function u(p,g){return z2(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function f(p,g,v){const b=p.children;let m=-1;const x=[],y=g.enter("table");for(;++m<b.length;)x[m]=d(b[m],g,v);return y(),x}function d(p,g,v){const b=p.children;let m=-1;const x=[],y=g.enter("tableRow");for(;++m<b.length;)x[m]=a(b[m],p,g,v);return y(),x}function h(p,g,v){let b=Im.inlineCode(p,g,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Sb(){return{exit:{taskListCheckValueChecked:nf,taskListCheckValueUnchecked:nf,paragraph:Cb}}}function jb(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Eb}}}function nf(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Cb(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let l=-1,o;for(;++l<i.length;){const s=i[l];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Eb(e,t,n,r){const i=e.children[0],l=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);l&&s.move(o);let a=Im.listItem(e,t,n,{...r,...s.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+o}}function Nb(){return[l2(),E2(),P2(),gb(),Sb()]}function Tb(e){return{extensions:[o2(),N2(e),_2(),bb(e),jb()]}}const Lb={tokenize:Ab,partial:!0},Mm={tokenize:zb,partial:!0},Dm={tokenize:Rb,partial:!0},Am={tokenize:Bb,partial:!0},Pb={tokenize:Fb,partial:!0},zm={name:"wwwAutolink",tokenize:Mb,previous:Bm},Rm={name:"protocolAutolink",tokenize:Db,previous:Fm},nn={name:"emailAutolink",tokenize:Ib,previous:Om},Ht={};function _b(){return{text:Ht}}let Nn=48;for(;Nn<123;)Ht[Nn]=nn,Nn++,Nn===58?Nn=65:Nn===91&&(Nn=97);Ht[43]=nn;Ht[45]=nn;Ht[46]=nn;Ht[95]=nn;Ht[72]=[nn,Rm];Ht[104]=[nn,Rm];Ht[87]=[nn,zm];Ht[119]=[nn,zm];function Ib(e,t,n){const r=this;let i,l;return o;function o(d){return!Ea(d)||!Om.call(r,r.previous)||Wu(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return Ea(d)?(e.consume(d),s):d===64?(e.consume(d),a):n(d)}function a(d){return d===46?e.check(Pb,f,u)(d):d===45||d===95||Ve(d)?(l=!0,e.consume(d),a):f(d)}function u(d){return e.consume(d),i=!0,a}function f(d){return l&&i&&Ye(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Mb(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Bm.call(r,r.previous)||Wu(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Lb,e.attempt(Mm,e.attempt(Dm,l),n),n)(o))}function l(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Db(e,t,n){const r=this;let i="",l=!1;return o;function o(d){return(d===72||d===104)&&Fm.call(r,r.previous)&&!Wu(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(Ye(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),a}return n(d)}function a(d){return d===47?(e.consume(d),l?u:(l=!0,a)):n(d)}function u(d){return d===null||Vl(d)||pe(d)||$n(d)||mo(d)?n(d):e.attempt(Mm,e.attempt(Dm,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Ab(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),l):n(o)}function l(o){return o===null?n(o):t(o)}}function zb(e,t,n){let r,i,l;return o;function o(u){return u===46||u===95?e.check(Am,a,s)(u):u===null||pe(u)||$n(u)||u!==45&&mo(u)?a(u):(l=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function a(u){return i||r||!l?n(u):t(u)}}function Rb(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?l(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Am,t,l)(o):o===null||pe(o)||$n(o)?t(o):(e.consume(o),i)}function l(o){return o===41&&r++,e.consume(o),i}}function Bb(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),l):s===93?(e.consume(s),i):s===60||s===null||pe(s)||$n(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||pe(s)||$n(s)?t(s):r(s)}function l(s){return Ye(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ye(s)?(e.consume(s),o):n(s)}}function Fb(e,t,n){return r;function r(l){return e.consume(l),i}function i(l){return Ve(l)?n(l):t(l)}}function Bm(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||pe(e)}function Fm(e){return!Ye(e)}function Om(e){return!(e===47||Ea(e))}function Ea(e){return e===43||e===45||e===46||e===95||Ve(e)}function Wu(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ob={tokenize:Kb,partial:!0};function $b(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Vb,continuation:{tokenize:Qb},exit:qb}},text:{91:{name:"gfmFootnoteCall",tokenize:Hb},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Wb,resolveTo:Ub}}}}function Wb(e,t,n){const r=this;let i=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!o||!o._balanced)return n(a);const u=zt(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function Ub(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Hb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),a}function a(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(l>999||d===93&&!o||d===null||d===91||pe(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(zt(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return pe(d)||(o=!0),l++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),l++,u):u(d)}}function Vb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,o=0,s;return a;function a(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(g)}function f(g){if(o>999||g===93&&!s||g===null||g===91||pe(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return l=zt(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return pe(g)||(s=!0),o++,e.consume(g),g===92?d:f}function d(g){return g===91||g===92||g===93?(e.consume(g),o++,f):f(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(l)||i.push(l),ae(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function Qb(e,t,n){return e.check(Di,t,e.attempt(Ob,t,n))}function qb(e){e.exit("gfmFootnoteDefinition")}function Kb(e,t,n){const r=this;return ae(e,i,"gfmFootnoteDefinitionIndent",5);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(l):n(l)}}function Gb(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},h=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&mt(h,h.length,0,go(p,o.slice(u+1,a),s)),mt(h,h.length,0,[["exit",d,s],["enter",o[a][1],s],["exit",o[a][1],s],["exit",f,s]]),mt(o,u-1,a-u+3,h),a=u+h.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function l(o,s,a){const u=this.previous,f=this.events;let d=0;return h;function h(g){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const v=Sr(u);if(g===126)return d>1?a(g):(o.consume(g),d++,p);if(d<2&&!n)return a(g);const b=o.exit("strikethroughSequenceTemporary"),m=Sr(g);return b._open=!m||m===2&&!!v,b._close=!v||v===2&&!!m,s(g)}}}class Xb{constructor(){this.map=[]}add(t,n,r){Yb(this,t,n,r)}consume(t){if(this.map.sort(function(l,o){return l[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const l of i)t.push(l);i=r.pop()}this.map.length=0}}function Yb(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Jb(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Zb(){return{flow:{null:{name:"table",tokenize:eS,resolveAll:tS}}}}function eS(e,t,n){const r=this;let i=0,l=0,o;return s;function s(C){let $=r.events.length-1;for(;$>-1;){const Z=r.events[$][1].type;if(Z==="lineEnding"||Z==="linePrefix")$--;else break}const H=$>-1?r.events[$][1].type:null,K=H==="tableHead"||H==="tableRow"?E:a;return K===E&&r.parser.lazy[r.now().line]?n(C):K(C)}function a(C){return e.enter("tableHead"),e.enter("tableRow"),u(C)}function u(C){return C===124||(o=!0,l+=1),f(C)}function f(C){return C===null?n(C):G(C)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),p):n(C):le(C)?ae(e,f,"whitespace")(C):(l+=1,o&&(o=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),d(C)))}function d(C){return C===null||C===124||pe(C)?(e.exit("data"),f(C)):(e.consume(C),C===92?h:d)}function h(C){return C===92||C===124?(e.consume(C),d):d(C)}function p(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(e.enter("tableDelimiterRow"),o=!1,le(C)?ae(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):g(C))}function g(C){return C===45||C===58?b(C):C===124?(o=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),v):T(C)}function v(C){return le(C)?ae(e,b,"whitespace")(C):b(C)}function b(C){return C===58?(l+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),m):C===45?(l+=1,m(C)):C===null||G(C)?w(C):T(C)}function m(C){return C===45?(e.enter("tableDelimiterFiller"),x(C)):T(C)}function x(C){return C===45?(e.consume(C),x):C===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(C))}function y(C){return le(C)?ae(e,w,"whitespace")(C):w(C)}function w(C){return C===124?g(C):C===null||G(C)?!o||i!==l?T(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):T(C)}function T(C){return n(C)}function E(C){return e.enter("tableRow"),N(C)}function N(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),N):C===null||G(C)?(e.exit("tableRow"),t(C)):le(C)?ae(e,N,"whitespace")(C):(e.enter("data"),_(C))}function _(C){return C===null||C===124||pe(C)?(e.exit("data"),N(C)):(e.consume(C),C===92?D:_)}function D(C){return C===92||C===124?(e.consume(C),_):_(C)}}function tS(e,t){let n=-1,r=!0,i=0,l=[0,0,0,0],o=[0,0,0,0],s=!1,a=0,u,f,d;const h=new Xb;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(s=!1,a!==0&&(rf(h,t,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,l=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",f,t]])),i=g.type==="tableDelimiterRow"?2:f?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(l[1]!==0&&(o[0]=o[1],d=rl(h,t,l,i,void 0,d),l=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(o[0]=o[1],d=rl(h,t,l,i,void 0,d)),l=o,o=[l[1],n,0,0])):g.type==="tableHead"?(s=!0,a=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(a=n,l[1]!==0?(o[0]=o[1],d=rl(h,t,l,i,n,d)):o[1]!==0&&(d=rl(h,t,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&rf(h,t,a,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Jb(t.events,n))}return e}function rl(e,t,n,r,i,l){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(l.end=Object.assign({},Gn(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const a=Gn(t.events,n[1]);if(l={type:o,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const u=Gn(t.events,n[2]),f=Gn(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,v=n[3]-n[2]-1;e.add(g,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(l.end=Object.assign({},Gn(t.events,i)),e.add(i,0,[["exit",l,t]]),l=void 0),l}function rf(e,t,n,r,i){const l=[],o=Gn(t.events,n);i&&(i.end=Object.assign({},o),l.push(["exit",i,t])),r.end=Object.assign({},o),l.push(["exit",r,t]),e.add(n+1,0,l)}function Gn(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nS={name:"tasklistCheck",tokenize:iS};function rS(){return{text:{91:nS}}}function iS(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),l)}function l(a){return pe(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(a)}function s(a){return G(a)?t(a):le(a)?e.check({tokenize:lS},t,n)(a):n(a)}}function lS(e,t,n){return ae(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function oS(e){return Gh([_b(),$b(),Gb(e),Zb(),rS()])}const sS={};function wo(e){const t=this,n=e||sS,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(oS(n)),l.push(Nb()),o.push(Tb(n))}function aS(e){xm(e,[/\r?\n|\r/g,uS])}function uS(){return{type:"break"}}function Uu(){return function(e){aS(e)}}const cS=200;function dS(e,t=cS){return e.length<=t?e:e.slice(0,t)+"..."}function bo(e){if(!e)return"";const t=e.match(/^mcp__[^_]+__(.+)$/);return t?t[1]:e}function il(e,t){const n=e.split(`
`);return n.length<=t?e:n.slice(0,t).join(`
`)+`
...`}function lf(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function $m(e,t){if(!t)return{summary:""};switch(e){case"Write":{const n=String(t.file_path||""),r=t.content?String(t.content):void 0;let i;return r&&(i=il(r,10)),{summary:n,details:i}}case"Edit":{const n=String(t.file_path||""),r=[];return t.old_string&&r.push("old: "+il(String(t.old_string),5)),t.new_string&&r.push("new: "+il(String(t.new_string),5)),{summary:n,details:r.join(`

`)||void 0}}case"Bash":return{summary:"",details:t.command?String(t.command):""};case"Read":{const n=String(t.file_path||""),r=[];return t.offset&&r.push(`offset: ${t.offset}`),t.limit&&r.push(`limit: ${t.limit}`),{summary:n,details:r.length>0?r.join(", "):void 0}}case"SpawnThread":{const n=t.title?String(t.title):"",r=t.model?String(t.model):void 0,i=t.permission_mode?String(t.permission_mode):void 0,l=t.instructions?String(t.instructions):void 0,o=[];r&&o.push(`Model: ${r}`),i&&o.push(`Mode: ${i}`);let s;if(o.length>0||l){const a=[];o.length>0&&a.push(o.join("  |  ")),l&&a.push(il(l,8)),s=a.join(`

`)}return{summary:n,details:s}}case"Task":{const n=t.description?String(t.description):"",r=t.prompt?String(t.prompt):"";return{summary:"",details:lf(n||r,500)||void 0}}case"Glob":{const n=t.pattern?String(t.pattern):"",r=t.path?String(t.path):void 0;return{summary:n,details:r?`in ${r}`:void 0}}case"Grep":{const n=t.pattern?String(t.pattern):"",r=t.path?String(t.path):void 0,i=t.glob?String(t.glob):void 0,l=[];return r&&l.push(`path: ${r}`),i&&l.push(`glob: ${i}`),{summary:n,details:l.length>0?l.join(`
`):void 0}}default:{const n=JSON.stringify(t,null,2);return{summary:"",details:lf(n,500)}}}}function nt(e,t){return e?e.length>t?e.slice(0,t-3)+"...":e:null}function Hr(e){if(!e)return null;const t=e.split("/");return t[t.length-1]||null}function fS(e){if(!e)return null;try{return new URL(e).hostname}catch{return nt(e,30)}}function Wm(e,t,n){var l,o;if(!t)return null;const r=bo(e),i=(n==null?void 0:n.maxLength)??40;switch(r){case"Bash":{const s=t.command;return nt(s,i)}case"Glob":{const s=t.pattern;return nt(s,i)}case"Grep":{const s=t.pattern,a=t.path;if(!s)return null;const u=a?` in ${Hr(a)||a}`:"";return nt(`"${s}"${u}`,i)}case"Read":{const s=t.file_path||t.path;return Hr(s)||nt(s,i)}case"Write":{const s=t.file_path||t.path;return Hr(s)||nt(s,i)}case"Edit":{const s=t.file_path||t.path;return Hr(s)||nt(s,i)}case"NotebookEdit":{const s=t.notebook_path;return Hr(s)||nt(s,i)}case"WebFetch":{const s=t.url;return fS(s)}case"WebSearch":{const s=t.query;return s?nt(`"${s}"`,i):null}case"Task":{const s=t.description||t.prompt;return nt(s,i)}case"SpawnThread":{const s=t.title;return nt(s,i)}case"ReadThread":case"ArchiveThread":case"SendToThread":{const s=t.thread_id;return s?((l=n==null?void 0:n.getThreadTitle)==null?void 0:l.call(n,s))||nt(s,8)+"...":null}case"AskUserQuestion":{const s=t.questions,a=(o=s==null?void 0:s[0])==null?void 0:o.question;return nt(a,i)}case"EnterPlanMode":return"Planning...";case"ExitPlanMode":return"Plan ready";default:{const s=["command","query","path","file_path","url","message","content","title","name","description"];for(const a of s){const u=t[a];if(typeof u=="string"&&u.length>0)return nt(u,i)}return null}}}function Um({tools:e,onNavigateToThread:t}){const n=e.every(m=>m.name==="SpawnThread"),[r,i]=j.useState(n),l=Y(m=>m.threads),o=m=>{const x=l.find(y=>y.title===m);return(x==null?void 0:x.id)||null},s=m=>{const x=l.find(y=>y.id===m);return(x==null?void 0:x.title)||null},a=e.every(m=>m.isComplete),u=j.useRef(!a);if(j.useEffect(()=>{if(a&&u.current&&r&&!n){const m=setTimeout(()=>i(!1),_h);return u.current=!1,()=>clearTimeout(m)}a&&(u.current=!1)},[a,r]),e.length===0)return null;const f=e[e.length-1],d=e.length,h=n?e.filter(m=>{var w;const x=(w=m.input)!=null&&w.title?String(m.input.title):null;if(!x)return!1;const y=l.find(T=>T.title===x);return(y==null?void 0:y.status)==="done"}).length:0,p=n?h:e.filter(m=>m.isComplete).length,g=n?p<d:e.some(m=>!m.isComplete),v=Wm(f.name,f.input,{maxLength:35,getThreadTitle:s}),b=d-1;return c.jsx(Nr,{children:c.jsxs("div",{className:"tool-history-block bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg my-2 overflow-hidden",children:[c.jsxs("button",{onClick:()=>i(!r),className:"w-full flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors","aria-expanded":r,children:[c.jsx("span",{className:"w-5 h-5 bg-gray-500 dark:bg-gray-400 rounded-full flex items-center justify-center text-white dark:text-gray-900 text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsxs("span",{className:"flex-1 text-left text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs",children:bo(f.name)}),v&&c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:v}),b>0&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" +",b," more"]}),g?c.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 ml-auto",children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p,"/",d]}):c.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 ml-auto",children:[" ",p,"/",d]})]}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 animate-slide-down",children:e.map((m,x)=>c.jsx(pS,{tool:m,getThreadTitle:s,findThreadByTitle:o,onNavigateToThread:t},m.id||x))})]})})}function pS({tool:e,getThreadTitle:t,findThreadByTitle:n,onNavigateToThread:r}){var m;const[i,l]=j.useState(!1),s=e.input&&Object.keys(e.input).length>0&&JSON.stringify(e.input)!=="{}",a=Wm(e.name,e.input,{maxLength:45,getThreadTitle:t}),u=j.useMemo(()=>!e.name||!e.input?null:$m(e.name,e.input),[e.name,e.input]),f=e.name==="SpawnThread",d=f&&((m=e.input)!=null&&m.title)?String(e.input.title):null,h=d?n(d):null,p=Y(x=>x.threads),g=h?p.find(x=>x.id===h):null,v=g&&g.status!=="pending",b=x=>{x.stopPropagation(),h&&r&&r(h)};return c.jsxs("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50 last:border-b-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{onClick:()=>s&&l(!i),className:`flex-1 flex items-center gap-2 px-4 py-1.5 text-sm ${s?"cursor-pointer hover:bg-gray-200/30 dark:hover:bg-gray-700/30":"cursor-default"}`,disabled:!s,children:[e.isComplete?c.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs w-4 flex-shrink-0",children:""}):c.jsxs("svg",{className:"w-3 h-3 text-gray-500 animate-spin flex-shrink-0",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 flex-shrink-0",children:bo(e.name)}),a&&c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate flex-1 text-left font-mono",children:a}),s&&!f&&c.jsx("svg",{className:`w-3 h-3 text-gray-400 flex-shrink-0 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&h&&v&&r&&c.jsx("button",{onClick:b,className:"px-2 py-1 mr-2 text-xs text-primary hover:bg-primary/10 rounded transition-colors flex items-center gap-1",title:"Jump to thread",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i&&s&&u&&c.jsxs("div",{className:"px-4 pb-2 text-xs text-gray-500 dark:text-gray-500 overflow-hidden max-w-full",children:[u.summary&&c.jsx("div",{className:"font-mono text-gray-600 dark:text-gray-400 mb-1",children:u.summary}),u.details&&c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono leading-relaxed bg-gray-200/50 dark:bg-gray-900/50 p-2 rounded",children:u.details})]})]})}function hS(e,t){if(!e||!t)return"";let n="";switch(e){case"Bash":n=t.command?String(t.command):"";break;case"Read":case"Write":case"Edit":n=t.file_path?String(t.file_path):"";break;case"Glob":case"Grep":n=t.pattern?String(t.pattern):"";break;case"Task":n=t.description?String(t.description):"";break;case"WebFetch":n=t.url?String(t.url):"";break;case"SpawnThread":n=t.title?String(t.title):"";break;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":n="";break;default:n=""}return dS(n,100)}function of(e,t){if(!t)return!1;const n=Object.keys(t);if(n.length===0)return!1;switch(e){case"Write":return!1;case"Read":return!1;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":case"ReadThread":case"ListThreads":case"ArchiveThread":case"SendToThread":case"SignalStatus":return!1}return n.some(r=>{const i=t[r];return i!=null&&i!==""&&!(typeof i=="object"&&Object.keys(i).length===0)})}function Na({name:e,input:t,isComplete:n,isCollapsed:r,isError:i,startCollapsed:l,onNavigateToThread:o}){var m;const s=of(e,t),[a,u]=j.useState(()=>l?!1:!r&&s),f=hS(e,t),d=j.useRef(!n),h=Y(x=>x.threads),p=e==="SpawnThread",g=p&&(t!=null&&t.title)?String(t.title):null,v=g&&((m=h.find(x=>x.title===g))==null?void 0:m.id)||null;j.useEffect(()=>{r&&u(!1)},[r]),j.useEffect(()=>{if(n&&d.current&&a){const x=setTimeout(()=>u(!1),_h);return d.current=!1,()=>clearTimeout(x)}n&&(d.current=!1)},[n,a]);const b=j.useMemo(()=>!e||!t?null:$m(e,t),[e,t]);return c.jsx(Nr,{children:c.jsxs("div",{className:"my-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("button",{onClick:()=>s&&u(!a),className:`flex-1 flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground rounded-lg transition-colors text-left ${i?"bg-red-500/10 hover:bg-red-500/20 border border-red-500/50":"bg-muted/30 hover:bg-muted/50"} ${s?"":"cursor-default"}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n?c.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):c.jsxs("svg",{className:"w-4 h-4 animate-spin flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:`font-medium ${i?"text-red-600":""}`,children:bo(e)}),f&&c.jsx("span",{className:"text-xs opacity-70 truncate flex-1 font-mono",children:f}),s&&c.jsx("svg",{className:`w-4 h-4 transition-transform flex-shrink-0 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&v&&o&&c.jsx("button",{onClick:()=>o(v),className:"px-2 py-1.5 text-xs text-primary hover:bg-primary/10 rounded transition-colors flex-shrink-0",title:"Jump to thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a&&t&&of(e,t)&&b&&c.jsxs("div",{className:"mt-1 ml-6 p-2 bg-muted/20 rounded text-xs overflow-hidden max-w-full",children:[b.summary&&c.jsx("div",{className:"font-mono text-muted-foreground mb-1",children:b.summary}),b.details&&c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono leading-relaxed",children:b.details})]})]})})}function mS(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"?n.push(r):(n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n})),t}function gS({block:e,isLastToolBlock:t,onNavigateToThread:n}){switch(e.type){case"text":return e.content?c.jsx(Nr,{children:c.jsx("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(ko,{remarkPlugins:[wo,Uu],children:e.content})})})}):null;case"thinking":return e.content?c.jsx(Dh,{content:e.content,isStreaming:!1}):null;case"tool_use":return c.jsx(Na,{name:e.name,input:e.input,isComplete:e.isComplete??!0,startCollapsed:!t||e.name==="ReadThread",onNavigateToThread:n});default:return null}}function xS({group:e,isLastToolGroup:t,onNavigateToThread:n}){if(e.type==="single"){const i=t&&e.block.type==="tool_use";return c.jsx(gS,{block:e.block,isLastToolBlock:i,onNavigateToThread:n})}const r=e.blocks.map(i=>({name:i.name||"unknown",input:i.input,id:i.id,isComplete:i.isComplete??!0}));return c.jsx(Um,{tools:r,onNavigateToThread:n})}const yS=j.memo(function({message:t,skipContentBlocks:n=!1,onNavigateToThread:r}){const i=t.role==="user",l=t.role==="system",o=j.useMemo(()=>{if(i||!t.content_blocks)return null;try{return JSON.parse(t.content_blocks)}catch{return null}},[i,t.content_blocks]);if(l)return c.jsx("div",{className:"flex justify-center animate-fade-in my-1",children:c.jsx("div",{className:"max-w-[60%] px-3 py-1.5 text-xs text-muted-foreground italic text-center",children:t.content})});if(i&&t.content.startsWith("[notification]"))return null;if(!i&&o&&o.length>0&&!n){const a=mS(o);let u=-1;for(let f=a.length-1;f>=0;f--){const d=a[f];if(d.type==="tools"||d.type==="single"&&d.block.type==="tool_use"){u=f;break}}return c.jsxs("div",{className:"animate-fade-in space-y-2",children:[a.map((f,d)=>c.jsx(xS,{group:f,isLastToolGroup:d===u,onNavigateToThread:r},`${t.id}-group-${d}`)),c.jsx("p",{className:"text-xs opacity-70 px-4",children:new Date(t.timestamp).toLocaleTimeString()})]})}return c.jsx("div",{className:`flex ${i?"justify-end":"justify-start"} animate-fade-in`,children:c.jsxs("div",{className:`message-bubble max-w-[60%] px-4 py-2 rounded-lg ${i?"message-bubble-user text-primary-foreground":"message-bubble-assistant text-foreground"}`,children:[i?c.jsx("p",{className:"whitespace-pre-wrap",children:t.content}):c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(ko,{remarkPlugins:[wo,Uu],children:t.content})}),c.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(t.timestamp).toLocaleTimeString()})]})})});function vS({content:e,isStreaming:t=!0}){return c.jsx(Nr,{className:"animate-fade-in","aria-live":"polite",children:c.jsxs("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:[c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(ko,{remarkPlugins:[wo,Uu],children:e})}),t&&c.jsx(Mh,{})]})})}function kS({name:e,input:t,isComplete:n,isCollapsed:r,isError:i,submittedAnswers:l}){if(e==="AskUserQuestion"){const o=l?Object.entries(l).map(([,s])=>s).join(", "):null;return c.jsx(Na,{name:e,input:o?{"Your answers":o}:void 0,isComplete:n||!!l,isCollapsed:l?r:!0,isError:i})}return c.jsx(Na,{name:e,input:t,isComplete:n,isCollapsed:r,isError:i})}function wS({planFilePath:e,planContent:t,threadId:n,onProceed:r,onModify:i,onCompact:l}){const[o,s]=j.useState(!0),[a,u]=j.useState(!1),[f,d]=j.useState(!1),h=async p=>{d(!0);try{await r(p)}finally{d(!1)}};return j.useEffect(()=>{const p=g=>{if(!f&&!(g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement))switch(g.key){case"1":g.preventDefault(),h("default");break;case"2":g.preventDefault(),h("acceptEdits");break;case"3":g.preventDefault(),h("bypassPermissions");break;case"m":case"M":g.preventDefault(),i();break;case"c":case"C":!g.metaKey&&!g.ctrlKey&&(g.preventDefault(),l());break}};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[f,i,l]),c.jsxs("div",{className:`flex justify-start my-4 ${a?"fixed inset-4 z-50":""}`,children:[a&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>u(!1)}),c.jsxs("div",{className:`rounded-xl overflow-hidden shadow-lg border-2 border-blue-500/40 dark:border-blue-400/30 ${a?"fixed inset-8 z-50 flex flex-col bg-background":"max-w-[85%] w-full"}`,children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-blue-600 to-blue-500 dark:from-blue-700 dark:to-blue-600",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:["Plan Ready for Review",c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-white/20 text-white",children:"Waiting"})]}),c.jsx("p",{className:"text-xs text-blue-100 truncate max-w-md mt-0.5",children:"Review and approve before execution"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(!a),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":a?"Exit fullscreen":"Fullscreen",title:a?"Exit fullscreen":"Expand for easier reading",children:a?c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),c.jsx("button",{onClick:()=>s(!o),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":o?"Collapse plan":"Expand plan",children:c.jsx("svg",{className:`w-5 h-5 text-white transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o&&c.jsx("div",{className:`px-5 py-4 bg-slate-50 dark:bg-slate-900/50 overflow-y-auto ${a?"max-h-[70vh]":"max-h-96"}`,children:c.jsx("div",{className:"prose prose-sm max-w-none text-foreground prose-p:my-2 prose-p:text-foreground prose-headings:text-foreground prose-headings:font-semibold prose-h1:text-lg prose-h2:text-base prose-h3:text-sm prose-strong:text-foreground prose-code:text-foreground prose-code:bg-slate-200 dark:prose-code:bg-slate-700 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none prose-ul:my-2 prose-ol:my-2 prose-li:my-0.5 prose-table:text-sm prose-th:bg-slate-100 dark:prose-th:bg-slate-800 prose-th:px-3 prose-th:py-1.5 prose-td:px-3 prose-td:py-1.5 prose-td:border-slate-200 dark:prose-td:border-slate-700",children:c.jsx(ko,{remarkPlugins:[wo],children:t||"Plan content not available"})})}),c.jsxs("div",{className:"px-5 py-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("button",{onClick:()=>h("default"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg
                         hover:bg-blue-700 active:bg-blue-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Proceed",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-blue-500 rounded font-mono",children:"1"})]}),c.jsxs("button",{onClick:()=>h("acceptEdits"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-emerald-600 text-white rounded-lg
                         hover:bg-emerald-700 active:bg-emerald-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Auto-accept file changes",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Accept Edits",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-emerald-500 rounded font-mono",children:"2"})]}),c.jsxs("button",{onClick:()=>h("bypassPermissions"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg
                         hover:bg-red-700 active:bg-red-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Skip all permission prompts (use with caution)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bypass",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-red-500 rounded font-mono",children:"3"})]}),c.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600 mx-1"}),c.jsxs("button",{onClick:i,disabled:f,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Request changes to the plan",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Modify",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"m"})]}),c.jsxs("button",{onClick:l,disabled:f,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Summarize conversation to free up context",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Compact",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"c"})]})]}),c.jsxs("p",{className:"mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:["Keyboard: ",c.jsx("span",{className:"font-medium",children:"1-3"})," proceed  ",c.jsx("span",{className:"font-medium",children:"m"})," modify  ",c.jsx("span",{className:"font-medium",children:"c"})," compact"]})]})]})]})}function bS({message:e}){return c.jsx(Nr,{children:c.jsx("div",{className:"processing-block bg-zinc-50/60 dark:bg-zinc-800/30 border border-zinc-200 dark:border-zinc-700 rounded-lg px-3 py-2",children:c.jsxs("div",{className:"flex items-center gap-2 text-zinc-600 dark:text-zinc-400",children:[c.jsx("span",{className:"w-5 h-5 bg-zinc-400 dark:bg-zinc-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),c.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[e||"Connecting to Claude...",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-zinc-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-zinc-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-zinc-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})})}const SS=5,jS=7,CS=28,Hm=24,Me=16,ES={active:"#22c55e",pending:"#f59e0b",running:"#3b82f6",done:"#9ca3af",needs_attention:"#f59e0b",new_message:"#3b82f6"};function NS(e){return ES[e]||"#9ca3af"}function TS(e){const t=e.filter(i=>!i.archivedAt),n=new Map;for(const i of t){const l=i.parentId??null;n.has(l)||n.set(l,[]),n.get(l).push(i)}function r(i){return(n.get(i)||[]).map(l=>({thread:l,children:r(l.id)}))}return r(null)}function LS(e){let t=0;function n(a,u){const f=u*Hm;if(a.children.length===0){const p=t;return t+=CS,{id:a.thread.id,thread:a.thread,x:p,y:f,children:[]}}const d=a.children.map(p=>n(p,u+1)),h=(d[0].x+d[d.length-1].x)/2;return{id:a.thread.id,thread:a.thread,x:h,y:f,children:d}}const r=e.map(a=>n(a,0)),i=[];function l(a){i.push(a),a.children.forEach(l)}r.forEach(l);const o=i.reduce((a,u)=>Math.max(a,u.x),0),s=i.reduce((a,u)=>Math.max(a,u.y),0);return{nodes:r,w:o+Me*2,h:s+Me*2}}function Vm({node:e,activeThreadId:t,onNavigate:n,tooltip:r,setTooltip:i}){const l=e.id===t,o=NS(e.thread.status),s=l?jS:SS;return c.jsxs(c.Fragment,{children:[e.children.map(a=>c.jsx("line",{x1:e.x+Me,y1:e.y+Me,x2:a.x+Me,y2:a.y+Me,stroke:"#525252",strokeWidth:1.5,strokeDasharray:a.thread.status==="done"?"3,2":void 0},`e-${e.id}-${a.id}`)),l&&c.jsx("circle",{cx:e.x+Me,cy:e.y+Me,r:s+4,fill:"none",stroke:"#f97316",strokeWidth:1.5,opacity:.4}),c.jsx("circle",{cx:e.x+Me,cy:e.y+Me,r:12,fill:"transparent",className:"cursor-pointer",onClick:()=>n(e.id),onMouseEnter:()=>i(e.id),onMouseLeave:()=>i(null)}),c.jsx("circle",{cx:e.x+Me,cy:e.y+Me,r:s,fill:o,stroke:l?"#f97316":"none",strokeWidth:l?2:0,className:"cursor-pointer transition-transform pointer-events-none",onClick:()=>n(e.id),onMouseEnter:()=>i(e.id),onMouseLeave:()=>i(null)}),r===e.id&&(()=>{const a=e.y<Hm,u=a?e.y+Me+s+14:e.y+Me-s-10,f=a?e.y+Me+s+5:e.y+Me-s-22,d=e.thread.title.length>18?e.thread.title.slice(0,17)+"":e.thread.title,h=Math.max(d.length*6.5+12,50);return c.jsxs("g",{children:[c.jsx("rect",{x:e.x+Me-h/2,y:f,width:h,height:18,rx:4,fill:"rgba(0,0,0,0.85)"}),c.jsx("text",{x:e.x+Me,y:u,textAnchor:"middle",dominantBaseline:"middle",fontSize:10,fill:"#fff",className:"select-none pointer-events-none",children:d})]})})(),e.children.map(a=>c.jsx(Vm,{node:a,activeThreadId:t,onNavigate:n,tooltip:r,setTooltip:i},a.id))]})}function PS({threads:e,activeThreadId:t,onNavigate:n}){const[r,i]=j.useState(null),l=j.useMemo(()=>TS(e),[e]),{nodes:o,w:s,h:a}=j.useMemo(()=>LS(l),[l]);if(o.length===0)return null;const u=Math.max(s,60),f=Math.max(a,40);return c.jsx("div",{className:"fixed bottom-4 right-4 z-20 bg-background/90 backdrop-blur-sm border border-border rounded-lg shadow-lg",style:{maxWidth:260,maxHeight:200,overflow:"visible"},children:c.jsx("svg",{width:u,height:f,viewBox:`0 0 ${u} ${f}`,className:"text-foreground",style:{overflow:"visible"},children:o.map(d=>c.jsx(Vm,{node:d,activeThreadId:t,onNavigate:n,tooltip:r,setTooltip:i},d.id))})})}function _S(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"?n.push(r):(n.length>0&&(t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),t}function IS(e){const[t,n]=j.useState(null),[r,i]=j.useState(!1);return j.useEffect(()=>{if(!e){n(null);return}let l=!1;const o=async()=>{i(!0);try{const a=await fetch(`/api/threads/${e}/tokens`);if(a.ok&&!l){const u=await a.json();n(u)}}catch{}finally{l||i(!1)}};o();const s=setInterval(o,6e4);return()=>{l=!0,clearInterval(s)}},[e]),{tokenInfo:t,isLoading:r}}function MS({block:e,threadId:t,expandedBlockId:n,onToggleExpanded:r}){const i=e.type==="thinking"?`thinking-${e.timestamp}`:e.id,l=!e.isFinalized;switch(e.type){case"text":return e.content?c.jsx(vS,{content:e.content,isStreaming:l}):null;case"thinking":return e.content?c.jsx(Dh,{content:e.content,isStreaming:l,blockId:i,isExpanded:n===i,onToggle:()=>r(i)}):null;case"tool_use":return c.jsx(kS,{name:e.name,input:e.input,isComplete:e.isComplete,toolUseId:e.id,isCollapsed:e.isCollapsed,isError:e.isError,submittedAnswers:e.submittedAnswers});default:return null}}function DS(){const e=Y(L=>L.threads),t=Y(L=>L.activeThreadId),n=Y(L=>L.streamingBlocks),r=Y(L=>L.expandedStreamingBlockId),i=Y(L=>L.pendingQuestion),l=Y(L=>L.pendingPlanApproval),o=Y(L=>L.handlePlanAction),s=Y(L=>L.threadNotifications),a=Y(L=>L.spawnedThreadIds),u=Y(L=>L.error),f=Y(L=>L.queueWaiting),d=Y(L=>L.sendMessage),h=Y(L=>L.createThread),p=Y(L=>L.setActiveThread),g=Y(L=>L.setExpandedStreamingBlockId),v=Y(L=>L.clearPendingQuestion),b=Y(L=>L.answerQuestion),m=Y(L=>L.updateThreadConfig),x=Y(L=>L.clearThreadMessages),y=Y(L=>L.archiveThread),w=Y(L=>L.stopThread),T=Y(L=>L.childPendingQuestions),[E,N]=j.useState(!1),[_,D]=j.useState(!1),[C,$]=j.useState(!1),[H,K]=j.useState(null),[Z,X]=j.useState(!1),[ce,z]=j.useState(!1),A=j.useRef(!1),B=j.useRef(null),k=j.useRef(null),{ref:q,inView:ne}=Cx({threshold:1}),{tokenInfo:S}=IS(t),O=j.useMemo(()=>e.find(L=>L.id===t),[e,t]),ke=j.useMemo(()=>O!=null&&O.parentId?e.find(L=>L.id===O.parentId):null,[e,O]),ie=(O==null?void 0:O.messages)||[],ge=j.useMemo(()=>t?n[t]||[]:[],[t,n]),Ke=j.useMemo(()=>t?i[t]:void 0,[t,i]),Pe=j.useMemo(()=>t?l[t]:void 0,[t,l]),ze=j.useMemo(()=>t?s[t]||[]:[],[t,s]),Re=j.useMemo(()=>t&&r[t]||null,[t,r]),vt=j.useMemo(()=>!t||!T?[]:T[t]||[],[t,T]),M=(O==null?void 0:O.isReadOnly)===!0||(O==null?void 0:O.isEphemeral)===!0,Q=j.useMemo(()=>e.some(L=>L.parentId&&!L.archivedAt&&L.status!=="done"),[e]);j.useMemo(()=>e.some(L=>L.parentId&&!L.archivedAt),[e]);const re=j.useRef(null);j.useEffect(()=>(Q&&!ce&&!A.current?(re.current&&clearTimeout(re.current),z(!0)):!Q&&ce&&!A.current&&(re.current=setTimeout(()=>{A.current||z(!1)},3e3)),()=>{re.current&&clearTimeout(re.current)}),[Q]);const se=((O==null?void 0:O.status)==="pending"||(O==null?void 0:O.status)==="running")&&ge.length===0;j.useEffect(()=>(se?(X(!0),B.current&&(clearTimeout(B.current),B.current=null)):Z&&(B.current=setTimeout(()=>{X(!1),B.current=null},400)),()=>{B.current&&clearTimeout(B.current)}),[se,Z]);const Be=j.useCallback(L=>{if(!t)return;g(t,Re===L?null:L)},[t,Re,g]),Lt=j.useMemo(()=>new Set(Object.values(a||{})),[a]),kt=j.useMemo(()=>{const L=ze.filter(de=>de.status?!0:!Lt.has(de.threadId));return[...ie.map(de=>({type:"message",data:de,timestamp:de.timestamp})),...L.map(de=>({type:"notification",data:de,timestamp:de.timestamp}))].sort((de,je)=>new Date(de.timestamp).getTime()-new Date(je.timestamp).getTime())},[ie,ze,Lt]);j.useEffect(()=>{var L;ne&&ge.length>0&&((L=k.current)==null||L.scrollIntoView({behavior:"smooth"}))},[ge,ne]);const En=j.useRef(null);j.useEffect(()=>{var ee;const L=En.current!==t;En.current=t,(L||ne)&&((ee=k.current)==null||ee.scrollIntoView({behavior:"smooth"}))},[ie.length,t,ne]),j.useEffect(()=>{if(H){const L=setTimeout(()=>K(null),3e4);return()=>clearTimeout(L)}},[H]);const Pr=j.useCallback(async(L,ee,de)=>{if(!t)return;K(null);const je=ee==null?void 0:ee.map(ut=>({data:ut.data,media_type:ut.media_type}));await d(t,L,{images:je,fileRefs:de})},[t,d]),_r=async L=>{$(!1),K(null);try{N(!0);const ee=await h(L);p(ee.id)}catch(ee){K(ee instanceof Error?ee.message:"Failed to create thread")}finally{N(!1)}},Vn=async L=>{D(!1),K(null);try{const ee=await h({title:L.title,parentId:t||void 0,model:L.model,permissionMode:L.permissionMode});p(ee.id)}catch(ee){K(ee instanceof Error?ee.message:"Failed to create thread")}},Ir=j.useCallback(async L=>{t&&await m(t,{model:L})},[t,m]),Mr=j.useCallback(async L=>{O&&await m(O.id,{extendedThinking:L})},[O,m]),I=j.useCallback(async L=>{O&&await m(O.id,{permissionMode:L})},[O,m]),W=j.useCallback(async()=>{if(t&&confirm("Clear all messages in this thread? This cannot be undone."))try{await x(t)}catch(L){K(L instanceof Error?L.message:"Failed to clear thread")}},[t,x]),P=j.useCallback(async()=>{if(t)try{await y(t)}catch(L){K(L instanceof Error?L.message:"Failed to archive thread")}},[t,y]),U=j.useCallback(async()=>{if(t)try{await w(t)}catch(L){K(L instanceof Error?L.message:"Failed to stop thread")}},[t,w]),J=H||u;return c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[J&&c.jsxs("div",{className:"bg-red-500/10 border-b border-red-500/30 px-4 py-3 flex items-start gap-3",children:[c.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),c.jsx("p",{className:"text-red-600/80 text-sm font-mono mt-0.5",children:J})]}),c.jsx("button",{onClick:()=>K(null),className:"text-red-500 hover:text-red-700 p-1","aria-label":"Dismiss error",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),O&&c.jsxs("div",{className:"relative",children:[c.jsx(gy,{thread:O,parentThread:ke||void 0,tokenInfo:S,onNavigateToParent:()=>ke&&p(ke.id),onClearThread:W,onArchiveThread:P,showMinimap:ce,onToggleMinimap:()=>{z(L=>(L?A.current=!0:A.current=!1,!L))}}),M&&c.jsxs("span",{className:"absolute top-2 right-32 inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-500/10 text-gray-500 text-xs border border-gray-500/20",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Read-only"]})]}),vt.length>0&&c.jsx("div",{className:"flex-shrink-0",children:vt.map(L=>c.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-4 py-2 flex items-center gap-3",children:[c.jsx("svg",{className:"w-4 h-4 text-amber-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{className:"text-sm text-amber-700 dark:text-amber-400 flex-1",children:["Sub-thread ",L.childTitle," needs your input"]}),c.jsx("button",{onClick:()=>p(L.childThreadId),className:"text-xs px-2 py-1 rounded bg-amber-500/20 text-amber-700 dark:text-amber-400 hover:bg-amber-500/30 transition-colors border border-amber-500/30",children:"Go to thread"})]},L.childThreadId))}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 relative",children:[ie.length===0&&ze.length===0&&ge.length===0&&(O==null?void 0:O.status)!=="pending"&&(O==null?void 0:O.status)!=="running"&&c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx("p",{className:"text-lg",children:"Start a conversation"}),c.jsx("p",{className:"text-sm",children:"Type a message below to begin"})]}),kt.map((L,ee)=>{const de=L.type==="message"&&L.data.role==="assistant"&&L.data.content==="[streaming...]";return L.type==="message"?c.jsx(yS,{message:L.data,skipContentBlocks:de},L.data.id):L.data.status?c.jsx(hy,{notification:L.data,onNavigate:je=>p(je)},`completion-${L.data.threadId}-${L.timestamp}`):c.jsx(py,{notification:L.data,onNavigate:je=>p(je)},`created-${L.data.threadId}`)}),t&&_S(ge).map(L=>{if(L.type==="single"){const ee=L.block,de=ee.id||`block-${ee.timestamp}`;return c.jsx(MS,{block:ee,threadId:t,expandedBlockId:Re,onToggleExpanded:Be},de)}else{const ee=L.blocks[0],de=`tool-group-${ee.id||ee.timestamp}`,je=L.blocks.map(ut=>({name:ut.name||"unknown",input:ut.input,id:ut.id,isComplete:ut.isComplete??!1}));return c.jsx(Um,{tools:je,onNavigateToThread:p},de)}}),Z&&c.jsx(bS,{message:f!=null&&f[(O==null?void 0:O.id)||""]?"Waiting for available slot...":void 0}),Ke&&t&&c.jsx(fy,{questions:Ke,onAnswer:async L=>{try{await b(t,L)}catch(ee){K(ee instanceof Error?ee.message:"Failed to submit answer")}},onCancel:()=>{t&&v(t)}}),Pe&&t&&c.jsx(wS,{planFilePath:Pe.planFilePath,planContent:Pe.planContent,threadId:t,onProceed:async L=>{try{await o(t,"proceed",L)}catch(ee){K(ee instanceof Error?ee.message:"Failed to proceed with plan")}},onModify:async()=>{try{await o(t,"modify")}catch(L){K(L instanceof Error?L.message:"Failed to modify plan")}},onCompact:async()=>{try{await o(t,"compact")}catch(L){K(L instanceof Error?L.message:"Failed to compact context")}}}),c.jsx("div",{ref:q,className:"h-1"}),c.jsx("div",{ref:k})]}),ce&&c.jsx(PS,{threads:e,activeThreadId:t,onNavigate:p}),O&&!O.parentId&&O.allowNestedSubthreads&&c.jsx("div",{className:"mx-6 mb-2",children:c.jsxs("div",{className:"border border-dashed border-muted-foreground/30 rounded-lg px-3 py-2 bg-muted/20 text-muted-foreground text-xs flex items-center gap-2",children:[c.jsx("span",{children:""}),c.jsxs("span",{children:[c.jsx("span",{className:"font-medium",children:"Experimental: Nesting"})," "," Sub-threads can nest up to ",O.maxThreadDepth??1," level",(O.maxThreadDepth??1)!==1?"s":""," deep"]})]})}),O&&!M&&c.jsx(vy,{thread:O,disabled:E,onSendMessage:Pr,onCreateThread:()=>D(!0),onModelChange:Ir,onPermissionModeChange:I,onThinkingToggle:Mr,onStopThread:U,onError:K}),c.jsx(Zx,{isOpen:_,parentModel:(O==null?void 0:O.model)||"claude-opus-4-5",parentPermissionMode:(O==null?void 0:O.permissionMode)||"acceptEdits",onSubmit:Vn,onCancel:()=>D(!1)}),c.jsx(Ih,{isOpen:C,onSubmit:_r,onCancel:()=>$(!1)})]})}function sf({value:e,max:t=100,colorThresholds:n={warning:50,critical:80}}){const r=Math.min(e/t*100,100),i=e>n.critical?"bg-red-500":e>n.warning?"bg-yellow-500":"bg-green-500";return c.jsx("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${i} transition-all duration-300`,style:{width:`${r}%`}})})}function AS(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[i,l]=j.useState(null);return j.useEffect(()=>{const o=async()=>{try{const a=await fetch("/api/stats");a.ok?(t(await a.json()),l(null)):l("Failed to fetch stats")}catch{l("Stats unavailable")}};o();const s=setInterval(o,5e3);return()=>clearInterval(s)},[]),i?c.jsx("div",{className:"text-xs text-muted-foreground px-3 py-2 border-t border-border",children:i}):e?c.jsxs("div",{className:"border-t border-border",children:[c.jsxs("button",{onClick:()=>r(!n),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[c.jsxs("span",{className:e.cpu_percent>80?"text-red-500":e.cpu_percent>50?"text-yellow-500":"text-green-500",children:["CPU ",e.cpu_percent.toFixed(0),"%"]}),c.jsxs("span",{className:e.memory_percent>80?"text-red-500":e.memory_percent>50?"text-yellow-500":"text-green-500",children:["RAM ",e.memory_percent.toFixed(0),"%"]}),c.jsxs("span",{children:["Processes: ",e.claude_process_count]})]}),c.jsx("svg",{className:`w-4 h-4 text-muted-foreground transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&c.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"CPU"}),c.jsxs("span",{children:[e.cpu_percent.toFixed(1),"%"]})]}),c.jsx(sf,{value:e.cpu_percent})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"Memory"}),c.jsxs("span",{children:[e.memory_used_gb,"GB / ",e.memory_total_gb,"GB"]})]}),c.jsx(sf,{value:e.memory_percent})]}),e.claude_process_count>0&&c.jsxs("div",{className:"text-xs",children:[c.jsxs("div",{className:"text-muted-foreground mb-1",children:["Claude Processes on Machine (",e.claude_process_count,")"]}),c.jsx("div",{className:"text-muted-foreground/70",children:"All claude processes running on this machine (includes CLI sessions)"})]})]})]}):c.jsx("div",{className:"text-xs text-muted-foreground px-3 py-2 border-t border-border animate-pulse",children:"Loading stats..."})}const Hu={needs_attention:{bg:"bg-amber-500",label:"Needs attention"},pending:{bg:"bg-orange-500",label:"Processing"},running:{bg:"bg-blue-500",label:"Running"},active:{bg:"bg-green-500",label:"Active"},done:{bg:"bg-gray-400",label:"Done"},new_message:{bg:"bg-red-500",label:"New message"}};function Qm({status:e}){const t=Hu[e],n=e==="pending"||e==="running";return c.jsx("span",{className:`w-2 h-2 rounded-full ${t.bg} flex-shrink-0 ${n?"animate-neon-blink":""}`,title:t.label,"aria-label":`Thread status: ${t.label}`,role:"status"})}function qm({mode:e}){return e==="plan"?c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-blue-500/20 text-blue-600 dark:text-blue-400",title:"Plan mode - requires approval before execution",children:"Plan"}):e==="bypassPermissions"?c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-red-500/20 text-red-600",title:"Bypass mode - no permission prompts",children:"Bypass"}):null}const Vu={"claude-opus-4-6":{short:"Opus 4.6",full:"Opus 4.6",color:"bg-muted text-muted-foreground"},"claude-sonnet-4-5":{short:"Sonnet",full:"Sonnet 4.5",color:"bg-muted text-muted-foreground"},"claude-opus-4-5":{short:"Opus",full:"Opus 4.5",color:"bg-muted text-muted-foreground"},"claude-haiku-4-5":{short:"Haiku",full:"Haiku 4.5",color:"bg-muted text-muted-foreground"}},Qu={short:"?",full:"Unknown",color:"bg-muted text-muted-foreground"};function zS(){const e=Y(z=>z.threads),t=Y(z=>z.activeThreadId),n=Y(z=>z.showArchived),r=Y(z=>z.setActiveThread),i=Y(z=>z.createThread),l=Y(z=>z.archiveThread),o=Y(z=>z.unarchiveThread),s=Y(z=>z.resetAllThreads),a=Y(z=>z.setShowArchived),u=Y(z=>z.stopThread);Y(z=>z.sendMessage);const f=Y(z=>z.updateThreadTitle),d=Et(z=>z.isCreateThreadModalOpen),h=Et(z=>z.openCreateThreadModal),p=Et(z=>z.closeCreateThreadModal),[g,v]=j.useState(!1),[b,m]=j.useState(null),[x,y]=j.useState(new Set),w=j.useRef(new Map),{mainThreads:T,archivedMainThreads:E,archivedSubThreads:N,subThreadsByParent:_,totalArchivedCount:D}=j.useMemo(()=>{const z=e.filter(q=>!q.parentId&&!q.archivedAt),A=e.filter(q=>!q.parentId&&q.archivedAt),B=e.filter(q=>q.parentId&&q.archivedAt),k=new Map;return e.filter(q=>q.parentId&&!q.archivedAt).forEach(q=>{const ne=k.get(q.parentId)||[];k.set(q.parentId,[...ne,q])}),{mainThreads:z,archivedMainThreads:A,archivedSubThreads:B,subThreadsByParent:k,totalArchivedCount:A.length+B.length}},[e]);j.useEffect(()=>{const z=new Set;_.forEach((B,k)=>{const q=w.current.get(k)||0,ne=B.length;q===0&&ne>0&&z.add(k)}),z.size>0&&y(B=>{const k=new Set(B);return z.forEach(q=>k.add(q)),k});const A=new Map;_.forEach((B,k)=>{A.set(k,B.length)}),w.current=A},[_]);const C=async z=>{p(),m(null);try{const A=await i(z);r(A.id)}catch(A){const B=A instanceof Error?A.message:"Failed to create thread";m(B)}},$=async z=>{m(null);try{await l(z)}catch(A){const B=A instanceof Error?A.message:"Failed to archive thread";m(B)}},H=z=>{y(A=>{const B=new Set(A);return B.has(z)?B.delete(z):B.add(z),B})},K=async z=>{m(null);try{await o(z)}catch(A){const B=A instanceof Error?A.message:"Failed to unarchive thread";m(B)}},Z=async z=>{m(null);try{await u(z)}catch(A){const B=A instanceof Error?A.message:"Failed to stop thread";m(B)}},X=async()=>{v(!1),m(null);try{await s()}catch(z){const A=z instanceof Error?z.message:"Failed to reset threads";m(A)}},ce=async(z,A)=>{m(null);try{await f(z,A)}catch(B){const k=B instanceof Error?B.message:"Failed to rename thread";throw m(k),B}};return c.jsxs("aside",{className:"w-full h-full border-l border-border bg-muted/30 flex flex-col",children:[c.jsxs("div",{className:"px-4 py-4 border-b border-border flex items-center justify-between flex-shrink-0",children:[c.jsx("h2",{className:"font-semibold",children:"Threads"}),c.jsx("button",{onClick:h,className:"text-sm px-2 py-1 rounded hover:bg-muted","aria-label":"Create new thread",title:"Create new thread (N)",children:"+ New"})]}),b&&c.jsx("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-500/10",children:b}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[e.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No threads yet"}),T.map(z=>c.jsx(RS,{thread:z,subThreads:_.get(z.id)||[],isActive:z.id===t,onSelect:()=>r(z.id),activeThreadId:t,onSelectSub:r,onArchive:$,onStop:Z,onRename:ce,isExpanded:x.has(z.id),onToggleExpand:H},z.id)),n&&D>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[c.jsx("p",{className:"text-xs text-muted-foreground px-2 mb-2 uppercase tracking-wide",children:"Archived"}),E.map(z=>c.jsx(uf,{thread:z,onUnarchive:K,onSelect:()=>r(z.id),isActive:z.id===t},z.id)),N.map(z=>c.jsx(uf,{thread:z,onUnarchive:K,onSelect:()=>r(z.id),isActive:z.id===t,isSubThread:!0},z.id))]})]}),c.jsx(AS,{}),c.jsxs("div",{className:"px-4 py-3 border-t border-border space-y-2 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Su,{enabled:n,onChange:a,label:"Show archived"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[D," archived"]})]}),c.jsx("button",{onClick:()=>v(!0),className:"w-full text-xs px-2 py-1.5 rounded border border-red-500/30 text-red-600 hover:bg-red-500/10",children:"Reset All Threads"})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 max-w-sm mx-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Reset All Threads?"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will permanently delete all threads and messages. This action cannot be undone."}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1.5 text-sm rounded border border-border hover:bg-muted",children:"Cancel"}),c.jsx("button",{onClick:X,className:"px-3 py-1.5 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Reset All"})]})]})}),c.jsx(Ih,{isOpen:d,onSubmit:C,onCancel:p})]})}function RS({thread:e,subThreads:t,isActive:n,onSelect:r,activeThreadId:i,onSelectSub:l,onArchive:o,onStop:s,onRename:a,isExpanded:u,onToggleExpand:f}){const d=Hu[e.status],h=Vu[e.model]||Qu,p=t.length>0,[g,v]=j.useState(!1),[b,m]=j.useState(e.title),x=j.useRef(null),y=t.some(D=>D.id===i),w=u||y,T=D=>{D.stopPropagation(),f(e.id)},E=D=>{D.stopPropagation(),m(e.title),v(!0)},N=async()=>{const D=b.trim();if(D&&D!==e.title)try{await a(e.id,D)}catch{m(e.title)}else m(e.title);v(!1)},_=D=>{D.key==="Enter"?(D.preventDefault(),N()):D.key==="Escape"&&(D.preventDefault(),m(e.title),v(!1))};return j.useEffect(()=>{g&&x.current&&(x.current.focus(),x.current.select())},[g]),c.jsxs("div",{className:"mb-1 group",children:[c.jsxs("div",{className:"flex items-center",children:[p?c.jsx("button",{onClick:T,className:"w-5 h-5 flex items-center justify-center text-muted-foreground hover:text-foreground flex-shrink-0","aria-label":u?"Collapse sub-threads":"Expand sub-threads",children:c.jsx("svg",{className:`w-3 h-3 transition-transform ${w?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:r,onDoubleClick:E,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2
                      ${n?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select thread: ${e.title}, status: ${d.label}`,children:[c.jsx(Qm,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0",children:[g?c.jsx("input",{ref:x,type:"text",value:b,onChange:D=>m(D.target.value),onBlur:N,onKeyDown:_,onClick:D=>D.stopPropagation(),className:"w-full text-sm bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-sm",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${h.color}`,title:h.full,children:h.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,title:e.extendedThinking?"Extended thinking enabled":"Extended thinking disabled",children:"Thinking"}),c.jsx(qm,{mode:e.permissionMode}),p&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:t.length}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[60px]",title:e.gitBranch,children:e.gitBranch})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),(e.status==="pending"||e.status==="running")&&c.jsx("button",{onClick:D=>{D.stopPropagation(),s(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),c.jsx("button",{onClick:D=>{D.stopPropagation(),o(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]}),w&&t.length>0&&c.jsx(BS,{subThreads:t,activeThreadId:i,onSelectSub:l,onStop:s,onArchive:o,onRename:a})]})}const af=5,xs=52;function BS({subThreads:e,activeThreadId:t,onSelectSub:n,onStop:r,onArchive:i,onRename:l}){const o=j.useRef(null),[s,a]=j.useState(!1),[u,f]=j.useState(!1),d=e.length>af,h=af*xs,p=()=>{const g=o.current;g&&(a(g.scrollTop>0),f(g.scrollTop<g.scrollHeight-g.clientHeight-1))};return j.useEffect(()=>{p()},[e.length]),j.useEffect(()=>{if(!t||!o.current)return;const g=e.findIndex(v=>v.id===t);if(g>=0){const v=g*xs;o.current.scrollTo({top:v-xs,behavior:"smooth"})}},[t,e]),c.jsxs("div",{className:"ml-5 mt-1 relative",children:[d&&s&&c.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-background to-transparent z-10 pointer-events-none flex items-start justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsx("div",{ref:o,onScroll:p,className:"space-y-1 border-l-2 border-muted pl-1 overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",style:d?{maxHeight:`${h}px`}:void 0,children:e.map(g=>c.jsx(FS,{sub:g,isActive:g.id===t,onSelect:()=>n(g.id),onStop:r,onArchive:i,onRename:l},g.id))}),d&&u&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-background to-transparent z-10 pointer-events-none flex items-end justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),d&&c.jsxs("div",{className:"text-[10px] text-muted-foreground text-center mt-1",children:[e.length," sub-threads"]})]})}function FS({sub:e,isActive:t,onSelect:n,onStop:r,onArchive:i,onRename:l}){const o=Hu[e.status],s=Vu[e.model]||Qu,[a,u]=j.useState(!1),[f,d]=j.useState(e.title),h=j.useRef(null),p=b=>{b.stopPropagation(),d(e.title),u(!0)},g=async()=>{const b=f.trim();if(b&&b!==e.title)try{await l(e.id,b)}catch{d(e.title)}else d(e.title);u(!1)},v=b=>{b.key==="Enter"?(b.preventDefault(),g()):b.key==="Escape"&&(b.preventDefault(),d(e.title),u(!1))};return j.useEffect(()=>{a&&h.current&&(h.current.focus(),h.current.select())},[a]),c.jsxs("div",{className:"flex items-center group",children:[c.jsxs("button",{onClick:n,onDoubleClick:p,className:`flex-1 min-w-0 text-left px-2 py-1.5 rounded flex items-center gap-1.5
                    ${t?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select sub-thread: ${e.title}, status: ${o.label}`,children:[c.jsx(Qm,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[a?c.jsx("input",{ref:h,type:"text",value:f,onChange:b=>d(b.target.value),onBlur:g,onKeyDown:v,onClick:b=>b.stopPropagation(),className:"w-full text-xs bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-xs",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${s.color}`,title:s.full,children:s.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,title:e.extendedThinking?"Extended thinking enabled":"Extended thinking disabled",children:"Thinking"}),c.jsx(qm,{mode:e.permissionMode}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[50px]",title:e.gitBranch,children:e.gitBranch}),e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"WT"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),(e.status==="pending"||e.status==="running")&&c.jsx("button",{onClick:b=>{b.stopPropagation(),r(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),c.jsx("button",{onClick:b=>{b.stopPropagation(),i(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]})}function uf({thread:e,onUnarchive:t,onSelect:n,isActive:r,isSubThread:i}){const l=Vu[e.model]||Qu;return c.jsxs("div",{className:`mb-1 group flex items-center ${i?"ml-4":""}`,children:[c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:n,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2 opacity-60 hover:opacity-100
                    ${r?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select archived ${i?"sub-":""}thread: ${e.title}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}):c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[c.jsx("span",{className:"block truncate text-sm max-w-[160px]",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${l.color}`,title:l.full,children:l.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,children:"Thinking"}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[50px]",title:e.gitBranch,children:e.gitBranch}),i&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:"Sub"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),c.jsx("button",{onClick:o=>{o.stopPropagation(),t(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Restore thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})}const OS=[{value:"claude-opus-4-6",label:"Opus 4.6",desc:"Most intelligent"},{value:"claude-opus-4-5",label:"Opus 4.5",desc:"Highly capable"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5",desc:"Fast & capable"},{value:"claude-haiku-4-5",label:"Haiku 4.5",desc:"Quick & light"}],$S=[{value:"plan",label:"Plan Mode",desc:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-accept file changes"},{value:"default",label:"Normal",desc:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass All",desc:"Skip permission prompts",warning:!0}];function WS(){const{isSettingsOpen:e,closeSettings:t,defaultModel:n,defaultPermissionMode:r,defaultExtendedThinking:i,defaultAutoReact:l,showArchivedByDefault:o,experimentalAllowNestedSubthreads:s,experimentalMaxThreadDepth:a,updateSettings:u,resetToDefaults:f}=Et(),d=j.useRef(null),[h,p]=j.useState(!1);return j.useEffect(()=>{e&&(p(!0),requestAnimationFrame(()=>p(!1)))},[e]),j.useEffect(()=>{if(!e)return;const g=v=>v.key==="Escape"&&t();return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e,t]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:g=>g.target===g.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),c.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-label":"Settings",className:`
          relative bg-background/95 backdrop-blur-xl border border-border/50
          rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden
          transform transition-all duration-200 ease-out
          ${h?"scale-95 opacity-0":"scale-100 opacity-100"}
        `,children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Settings"}),c.jsxs("kbd",{className:`hidden sm:inline-flex items-center gap-1 px-2 py-0.5
                           text-[10px] font-medium text-muted-foreground
                           bg-muted/50 rounded-md border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),","]})]}),c.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-muted-foreground hover:text-foreground
                       hover:bg-muted/50 transition-colors`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"px-6 py-5 space-y-6 max-h-[60vh] overflow-y-auto",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Thread Defaults"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 space-y-4 border border-border/30",children:[c.jsx(ys,{label:"Default Model",description:"For new threads",children:c.jsx(cf,{value:n,options:OS,onChange:g=>u({defaultModel:g})})}),c.jsx(ys,{label:"Permission Mode",description:"How Claude asks for approval",children:c.jsx(cf,{value:r,options:$S,onChange:g=>u({defaultPermissionMode:g}),warning:r==="bypassPermissions"})}),c.jsxs("div",{className:"border-t border-border/30 pt-4 space-y-3",children:[c.jsx(ll,{label:"Extended Thinking",description:"Enable deep reasoning",enabled:i,onChange:g=>u({defaultExtendedThinking:g})}),c.jsx(ll,{label:"Auto-React",description:"Respond to sub-thread completions",enabled:l,onChange:g=>u({defaultAutoReact:g})})]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Display"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(US,{}),c.jsx("div",{className:"border-t border-border/30 pt-4",children:c.jsx(ll,{label:"Show Archived",description:"Display archived threads by default",enabled:o,onChange:g=>u({showArchivedByDefault:g})})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Keyboard Shortcuts"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 border border-border/30 space-y-2",children:[c.jsx(Vr,{keys:["&#8984;","K"],description:"Command palette"}),c.jsx(Vr,{keys:["&#8984;",","],description:"Open settings"}),c.jsx(Vr,{keys:["Shift","Enter"],description:"Cycle permission mode"}),c.jsx(Vr,{keys:["Esc"],description:"Stop running thread"}),c.jsx(Vr,{keys:["Esc"],description:"Close modals/settings"})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Experimental"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(ll,{label:"Nested Sub-threads",description:"Allow sub-threads to spawn their own sub-threads",enabled:s,onChange:g=>u({experimentalAllowNestedSubthreads:g})}),s&&c.jsx(ys,{label:"Max Depth",description:"Maximum nesting level (2-5)",children:c.jsx("input",{type:"number",min:2,max:5,value:a,onChange:g=>u({experimentalMaxThreadDepth:Math.min(5,Math.max(2,parseInt(g.target.value)||3))}),className:`w-16 px-2 py-1 rounded border border-border bg-background text-sm
                               focus:outline-none focus:ring-2 focus:ring-primary`})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Info"}),c.jsx("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:"Worktrees"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Sub-threads use isolated git worktrees"})]}),c.jsx("code",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:".mainthread/worktrees/"})]})})]})]}),c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border/50 bg-muted/20",children:[c.jsx("button",{onClick:f,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Reset to Defaults"}),c.jsx("button",{onClick:t,className:`px-4 py-2 bg-primary text-primary-foreground text-sm font-medium
                       rounded-lg hover:bg-primary/90 transition-colors`,children:"Done"})]})]})]}):null}function ys({label:e,description:t,children:n}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),n]})}function ll({label:e,description:t,enabled:n,onChange:r}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),c.jsx("button",{role:"switch","aria-checked":n,onClick:()=>r(!n),className:`
          relative w-11 h-6 rounded-full transition-colors duration-200
          ${n?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
          absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm
          transition-transform duration-200 ${n?"translate-x-5":""}
        `})})]})}function Vr({keys:e,description:t}){return c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:t}),c.jsx("div",{className:"flex items-center gap-1",children:e.map((n,r)=>c.jsxs("span",{children:[c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-background border border-border/50 rounded",dangerouslySetInnerHTML:{__html:n}}),r<e.length-1&&c.jsx("span",{className:"text-muted-foreground mx-0.5",children:"+"})]},r))})]})}function US(){const e=Et(r=>r.theme),t=Et(r=>r.updateSettings),n=[{value:"light",label:"Light",icon:""},{value:"dark",label:"Dark",icon:""},{value:"system",label:"System",icon:""}];return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:"Theme"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Light, dark, or system"})]}),c.jsx("div",{className:"flex gap-1 bg-background/50 rounded-lg p-1 border border-border/30",children:n.map(r=>c.jsx("button",{onClick:()=>t({theme:r.value}),className:`
              px-3 py-1.5 text-sm rounded-md transition-colors
              ${e===r.value?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
            `,children:r.label},r.value))})]})}function cf({value:e,options:t,onChange:n,warning:r}){const[i,l]=j.useState(!1),o=t.find(s=>s.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>l(!i),className:`
          flex items-center justify-between gap-2 w-40 px-3 py-1.5 text-sm
          rounded-lg border transition-colors text-left
          ${r?"border-red-500/50 bg-red-500/10 text-red-400":"border-border/50 bg-background/50 hover:bg-muted/50"}
        `,children:[c.jsx("span",{className:"truncate",children:o==null?void 0:o.label}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),c.jsx("div",{className:`absolute right-0 mt-1 w-56 bg-background border border-border
                          rounded-lg shadow-lg z-20 py-1 overflow-hidden`,children:t.map(s=>c.jsxs("button",{onClick:()=>{n(s.value),l(!1)},className:`
                  w-full px-3 py-2 text-left hover:bg-muted/50 transition-colors
                  ${s.value===e?"bg-muted/30":""}
                  ${s.warning?"text-red-400":""}
                `,children:[c.jsx("div",{className:"text-sm font-medium",children:s.label}),c.jsx("div",{className:"text-xs text-muted-foreground",children:s.desc})]},s.value))})]})]})}function HS(){const{isCommandPaletteOpen:e,closeCommandPalette:t,openSettings:n,openCreateThreadModal:r}=Et(),i=Y(w=>w.activeThreadId),l=Y(w=>w.threads),o=Y(w=>w.stopThread),s=Y(w=>w.clearThreadMessages),[a,u]=j.useState(""),[f,d]=j.useState(0),h=j.useRef(null),p=j.useRef(null),g=l.find(w=>w.id===i),v=(g==null?void 0:g.status)==="pending",b=l.filter(w=>w.parentId&&w.status==="pending"),m=b.length>0,x=j.useMemo(()=>[{id:"new-thread",label:"New Thread",shortcut:"N",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})}),action:()=>{t(),r()}},{id:"settings",label:"Settings",shortcut:",",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),action:()=>{t(),n()}},{id:"stop-thread",label:v?"Stop Thread":"Stop Thread (not running)",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),action:()=>{i&&v&&o(i),t()}},{id:"clear-messages",label:"Clear Messages",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:()=>{i&&s(i),t()}},{id:"stop-all-subthreads",label:m?`Stop All Subthreads (${b.length} running)`:"Stop All Subthreads (none running)",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),danger:!0,action:async()=>{m&&await Promise.all(b.map(w=>o(w.id))),t()}}],[i,v,m,b,t,n,r,o,s]),y=j.useMemo(()=>{if(!a.trim())return x;const w=a.toLowerCase();return x.filter(T=>T.label.toLowerCase().includes(w)||T.id.toLowerCase().includes(w))},[x,a]);return j.useEffect(()=>{d(0)},[a]),j.useEffect(()=>{e&&(u(""),d(0),setTimeout(()=>{var w;return(w=h.current)==null?void 0:w.focus()},0))},[e]),j.useEffect(()=>{if(!e)return;const w=T=>{switch(T.key){case"ArrowDown":T.preventDefault(),d(E=>Math.min(E+1,y.length-1));break;case"ArrowUp":T.preventDefault(),d(E=>Math.max(E-1,0));break;case"Enter":T.preventDefault(),y[f]&&y[f].action();break;case"Escape":T.preventDefault(),t();break}};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[e,f,y,t]),j.useEffect(()=>{var T;if(!p.current)return;(T=p.current.querySelectorAll("[data-command]")[f])==null||T.scrollIntoView({block:"nearest"})},[f]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh]",onClick:w=>w.target===w.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs("div",{className:`relative bg-background/95 backdrop-blur-xl border border-border/50
                      rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden`,children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border/50",children:[c.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{ref:h,type:"text",value:a,onChange:w=>u(w.target.value),placeholder:"Type a command...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground"}),c.jsx("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                          bg-muted/50 rounded border border-border/50`,children:"esc"})]}),c.jsx("div",{ref:p,className:"max-h-[300px] overflow-y-auto py-2",children:y.length===0?c.jsx("div",{className:"px-4 py-6 text-center text-sm text-muted-foreground",children:"No commands found"}):y.map((w,T)=>c.jsxs("button",{"data-command":w.id,onClick:w.action,onMouseEnter:()=>d(T),className:`
                  w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors
                  ${T===f?"bg-muted/50":"hover:bg-muted/30"}
                  ${w.id==="stop-thread"&&!v?"opacity-50":""}
                  ${w.id==="stop-all-subthreads"&&!m?"opacity-50":""}
                  ${w.danger?"text-red-400":""}
                `,children:[c.jsx("span",{className:"text-muted-foreground",children:w.icon}),c.jsx("span",{className:"flex-1 text-sm",children:w.label}),w.shortcut&&c.jsxs("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                                  bg-muted/50 rounded border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),w.shortcut]})]},w.id))}),c.jsx("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/20",children:c.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"navigate"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"select"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:"esc"}),"close"]})]})})]})]}):null}const df="mainthread_welcome_shown";function VS(){const[e,t]=j.useState(!1);j.useEffect(()=>{try{localStorage.getItem(df)||t(!0)}catch{t(!0)}},[]);const n=j.useCallback(()=>{try{localStorage.setItem(df,"true")}catch{}t(!1)},[]);return j.useEffect(()=>{if(!e)return;const r=i=>{i.key==="Escape"&&n()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,n]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-title",children:c.jsxs("div",{className:"bg-background border border-border rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[c.jsxs("div",{className:"relative px-8 pt-10 pb-6 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 text-white",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2220%22 height=%2220%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath d=%22M0 0h20v20H0z%22 fill=%22none%22/%3E%3Ccircle cx=%221%22 cy=%221%22 r=%221%22 fill=%22rgba(255,255,255,0.1)%22/%3E%3C/svg%3E')] opacity-50"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("h1",{id:"welcome-title",className:"text-2xl font-bold",children:"Welcome to MainThread"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Multi-threaded AI conversations"})]})]}),c.jsxs("div",{className:"px-8 py-6 space-y-4",children:[c.jsx("p",{className:"text-foreground leading-relaxed",children:"MainThread helps you manage all your Claude agent conversations in one place."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Spawn Parallel Agents"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Agents can spawn other agents to work on tasks in parallel"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Visual Thread Management"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Jump into any conversation at any time with an intuitive interface"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsxs("svg",{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Full Visibility"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"See agent thinking, tool usage, and real-time progress"})]})]})]})]}),c.jsx("div",{className:"px-8 pb-8",children:c.jsx("button",{onClick:n,autoFocus:!0,className:`w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700
                       text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`,children:"Get Started"})})]})}):null}function QS(){const e=Et(t=>t.theme);j.useEffect(()=>{const t=()=>{const n=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(t(),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",t),()=>n.removeEventListener("change",t)}},[e])}const vs=200,ks=500,qS=288,ff="mainthread-sidebar-width";function KS(){const e=Y(l=>l.activeThreadId),t=Y(l=>l.threads),n=Y(l=>l.setActiveThread),r=j.useRef(!1),i=j.useRef(!1);j.useEffect(()=>{if(i.current||t.length===0)return;i.current=!0;const l=window.location.pathname.slice(1)||null;l&&(t.some(s=>s.id===l)?(r.current=!0,n(l)):window.history.replaceState({},"","/"))},[t,n]),j.useEffect(()=>{if(r.current){r.current=!1;return}const l=window.location.pathname.slice(1)||null;if(e!==l){const o=e?`/${e}`:"/";window.history.pushState({},"",o)}},[e]),j.useEffect(()=>{const l=()=>{const o=window.location.pathname.slice(1)||null,s=Y.getState().threads;if(o)s.some(u=>u.id===o)&&(r.current=!0,n(o));else{const a=s.find(u=>!u.parentId)||s[0];a&&(r.current=!0,n(a.id))}};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[n])}function GS(){const e=Y(m=>m.fetchThreads),t=Y(m=>m.activeThreadId),n=Y(m=>m.createThread),r=Y(m=>m.setActiveThread),i=Y(m=>m.setShowArchived),l=Et(m=>m.toggleSettings),o=Et(m=>m.showArchivedByDefault),s=Et(m=>m.toggleCommandPalette);QS(),KS();const a=j.useRef(!1),u=j.useRef(0),[f,d]=j.useState(()=>{const m=localStorage.getItem(ff);return m?Math.min(Math.max(parseInt(m,10),vs),ks):qS}),[h,p]=j.useState(!1),g=j.useRef(null),v=j.useCallback(m=>{m.preventDefault(),p(!0),g.current={startX:m.clientX,startWidth:f}},[f]);j.useEffect(()=>{if(!h)return;const m=y=>{if(!g.current)return;const w=g.current.startX-y.clientX,T=Math.min(Math.max(g.current.startWidth+w,vs),ks);d(T)},x=y=>{if(g.current){const w=g.current.startX-y.clientX,T=Math.min(Math.max(g.current.startWidth+w,vs),ks);localStorage.setItem(ff,String(T))}p(!1),g.current=null};return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[h]);const b=j.useCallback(m=>{const x=Date.now();x-u.current<5e3||(u.current=x,e(m))},[e]);return j.useEffect(()=>{if(a.current)return;a.current=!0,(async()=>{u.current=Date.now(),await e(!0);const x=Y.getState(),y=x.threads;if(y.length===0)try{const w=await n({title:"Main Thread",workDir:void 0});r(w.id)}catch(w){console.error("Failed to create default thread:",w)}else if(!x.activeThreadId){const w=y.find(T=>!T.parentId)||y[0];r(w.id)}})()},[]),j.useEffect(()=>{const m=()=>{document.visibilityState==="visible"&&b(!0)};return document.addEventListener("visibilitychange",m),()=>document.removeEventListener("visibilitychange",m)},[b]),j.useEffect(()=>{const m=setInterval(()=>{document.visibilityState==="visible"&&b(!0)},6e4);return()=>clearInterval(m)},[b]),j.useEffect(()=>{i(o)},[]),j.useEffect(()=>{const m=x=>{(x.metaKey||x.ctrlKey)&&x.key===","?(x.preventDefault(),l()):(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),s())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[l,s]),c.jsxs("div",{className:`flex h-screen bg-background overflow-hidden ${h?"select-none":""}`,children:[c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[c.jsxs("header",{className:"border-b border-border px-6 py-4 flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-semibold",children:"MainThread"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t?`Thread: ${t}`:"Main conversation"})]}),c.jsx(DS,{})]}),c.jsx("div",{className:`w-1 cursor-col-resize hover:bg-primary/30 transition-colors flex-shrink-0 ${h?"bg-primary/50":"bg-transparent"}`,onMouseDown:v,role:"separator","aria-orientation":"vertical","aria-label":"Resize sidebar"}),c.jsx("div",{style:{width:f},className:"flex-shrink-0",children:c.jsx(zS,{})}),c.jsx(WS,{}),c.jsx(HS,{}),c.jsx(VS,{})]})}class XS extends Ia.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){var t;return this.state.hasError?c.jsx("div",{className:"flex items-center justify-center h-screen bg-zinc-900",children:c.jsxs("div",{className:"max-w-md w-full mx-4 p-8 rounded-lg bg-zinc-800 border border-zinc-700 text-center",children:[c.jsx("h1",{className:"text-xl font-semibold text-zinc-100 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-sm text-zinc-400 mb-6",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-md bg-zinc-600 text-zinc-100 hover:bg-zinc-500 transition-colors text-sm font-medium",children:"Reload"})]})}):this.props.children}}ws.createRoot(document.getElementById("root")).render(c.jsx(Ia.StrictMode,{children:c.jsx(XS,{children:c.jsx(GS,{})})}));
