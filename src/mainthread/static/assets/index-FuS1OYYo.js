(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var af={exports:{}},ql={},uf={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),Om=Symbol.for("react.portal"),$m=Symbol.for("react.fragment"),Um=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),qm=Symbol.for("react.memo"),Gm=Symbol.for("react.lazy"),Wu=Symbol.iterator;function Xm(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var cf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},df=Object.assign,ff={};function Cr(e,t,n){this.props=e,this.context=t,this.refs=ff,this.updater=n||cf}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pf(){}pf.prototype=Cr.prototype;function ja(e,t,n){this.props=e,this.context=t,this.refs=ff,this.updater=n||cf}var Ea=ja.prototype=new pf;Ea.constructor=ja;df(Ea,Cr.prototype);Ea.isPureReactComponent=!0;var Vu=Array.isArray,hf=Object.prototype.hasOwnProperty,Na={current:null},mf={key:!0,ref:!0,__self:!0,__source:!0};function gf(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)hf.call(t,r)&&!mf.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ni,type:e,key:l,ref:o,props:i,_owner:Na.current}}function Ym(e,t){return{$$typeof:Ni,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ta(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ni}function Jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qu=/\/+/g;function wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jm(""+e.key):t.toString(36)}function il(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ni:case Om:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+wo(o,0):r,Vu(i)?(n="",e!=null&&(n=e.replace(Qu,"$&/")+"/"),il(i,t,n,"",function(u){return u})):i!=null&&(Ta(i)&&(i=Ym(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Vu(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+wo(l,s);o+=il(l,t,n,a,i)}else if(a=Xm(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+wo(l,s++),o+=il(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ai(e,t,n){if(e==null)return e;var r=[],i=0;return il(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Zm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},ll={transition:null},eg={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:ll,ReactCurrentOwner:Na};function xf(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Ai,forEach:function(e,t,n){Ai(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ai(e,function(){t++}),t},toArray:function(e){return Ai(e,function(t){return t})||[]},only:function(e){if(!Ta(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Cr;ne.Fragment=$m;ne.Profiler=Hm;ne.PureComponent=ja;ne.StrictMode=Um;ne.Suspense=Km;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;ne.act=xf;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=df({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Na.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)hf.call(t,a)&&!mf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ni,type:e.type,key:i,ref:l,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:Vm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wm,_context:e},e.Consumer=e};ne.createElement=gf;ne.createFactory=function(e){var t=gf.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Qm,render:e}};ne.isValidElement=Ta;ne.lazy=function(e){return{$$typeof:Gm,_payload:{_status:-1,_result:e},_init:Zm}};ne.memo=function(e,t){return{$$typeof:qm,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ll.transition;ll.transition={};try{e()}finally{ll.transition=t}};ne.unstable_act=xf;ne.useCallback=function(e,t){return Xe.current.useCallback(e,t)};ne.useContext=function(e){return Xe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Xe.current.useEffect(e,t)};ne.useId=function(){return Xe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Xe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};ne.useRef=function(e){return Xe.current.useRef(e)};ne.useState=function(e){return Xe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Xe.current.useTransition()};ne.version="18.3.1";uf.exports=ne;var N=uf.exports;const yf=Kl(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=N,ng=Symbol.for("react.element"),rg=Symbol.for("react.fragment"),ig=Object.prototype.hasOwnProperty,lg=tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,og={key:!0,ref:!0,__self:!0,__source:!0};function vf(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ig.call(t,r)&&!og.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ng,type:e,key:l,ref:o,props:i,_owner:lg.current}}ql.Fragment=rg;ql.jsx=vf;ql.jsxs=vf;af.exports=ql;var c=af.exports,ys={},kf={exports:{}},mt={},wf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var k=P.length;P.push(D);e:for(;0<k;){var H=k-1>>>1,W=P[H];if(0<i(W,D))P[H]=D,P[k]=W,k=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var D=P[0],k=P.pop();if(k!==D){P[0]=k;e:for(var H=0,W=P.length,S=W>>>1;H<S;){var de=2*(H+1)-1,me=P[de],le=de+1,be=P[le];if(0>i(me,k))le<W&&0>i(be,me)?(P[H]=be,P[le]=k,H=le):(P[H]=me,P[de]=k,H=de);else if(le<W&&0>i(be,k))P[H]=be,P[le]=k,H=le;else break e}}return D}function i(P,D){var k=P.sortIndex-D.sortIndex;return k!==0?k:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=P)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function C(P){if(v=!1,y(P),!g)if(n(a)!==null)g=!0,se(T);else{var D=n(u);D!==null&&R(C,D.startTime-P)}}function T(P,D){g=!1,v&&(v=!1,m(_),_=-1),p=!0;var k=h;try{for(y(D),d=n(a);d!==null&&(!(d.expirationTime>D)||P&&!F());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var W=H(d.expirationTime<=D);D=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(a)&&r(a),y(D)}else r(a);d=n(a)}if(d!==null)var S=!0;else{var de=n(u);de!==null&&R(C,de.startTime-D),S=!1}return S}finally{d=null,h=k,p=!1}}var j=!1,L=null,_=-1,I=5,E=-1;function F(){return!(e.unstable_now()-E<I)}function $(){if(L!==null){var P=e.unstable_now();E=P;var D=!0;try{D=L(!0,P)}finally{D?K():(j=!1,L=null)}}else j=!1}var K;if(typeof x=="function")K=function(){x($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=$,K=function(){X.postMessage(null)}}else K=function(){w($,0)};function se(P){L=P,j||(j=!0,K())}function R(P,D){_=w(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,se(T))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var k=h;h=D;try{return P()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=h;h=P;try{return D()}finally{h=k}},e.unstable_scheduleCallback=function(P,D,k){var H=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?H+k:H):k=H,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=k+W,P={id:f++,callback:D,priorityLevel:P,startTime:k,expirationTime:W,sortIndex:-1},k>H?(P.sortIndex=k,t(u,P),n(a)===null&&P===n(u)&&(v?(m(_),_=-1):v=!0,R(C,k-H))):(P.sortIndex=W,t(a,P),g||p||(g=!0,se(T))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var D=h;return function(){var k=h;h=D;try{return P.apply(this,arguments)}finally{h=k}}}})(bf);wf.exports=bf;var sg=wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=N,ht=sg;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sf=new Set,si={};function $n(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(si[e]=t,e=0;e<t.length;e++)Sf.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=Object.prototype.hasOwnProperty,ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},qu={};function cg(e){return vs.call(qu,e)?!0:vs.call(Ku,e)?!1:ug.test(e)?qu[e]=!0:(Ku[e]=!0,!1)}function dg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fg(e,t,n,r){if(t===null||typeof t>"u"||dg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var La=/[\-:]([a-z])/g;function Pa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(La,Pa);Fe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(La,Pa);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(La,Pa);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function _a(e,t,n,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fg(t,n,i,r)&&(n=null),r||i===null?cg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),Ma=Symbol.for("react.strict_mode"),ks=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Ia=Symbol.for("react.forward_ref"),ws=Symbol.for("react.suspense"),bs=Symbol.for("react.suspense_list"),Da=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Ef=Symbol.for("react.offscreen"),Gu=Symbol.iterator;function Ir(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,bo;function Vr(e){if(bo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bo=t&&t[1]||""}return`
`+bo+e}var So=!1;function Co(e,t){if(!e||So)return"";So=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{So=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vr(e):""}function pg(e){switch(e.tag){case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return e=Co(e.type,!1),e;case 11:return e=Co(e.type.render,!1),e;case 1:return e=Co(e.type,!0),e;default:return""}}function Ss(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yn:return"Fragment";case Xn:return"Portal";case ks:return"Profiler";case Ma:return"StrictMode";case ws:return"Suspense";case bs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jf:return(e.displayName||"Context")+".Consumer";case Cf:return(e._context.displayName||"Context")+".Provider";case Ia:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Da:return t=e.displayName||null,t!==null?t:Ss(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return Ss(e(t))}catch{}}return null}function hg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ss(t);case 8:return t===Ma?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mg(e){var t=Nf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ri(e){e._valueTracker||(e._valueTracker=mg(e))}function Tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cs(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lf(e,t){t=t.checked,t!=null&&_a(e,"checked",t,!1)}function js(e,t){Lf(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Es(e,t.type,n):t.hasOwnProperty("defaultValue")&&Es(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Es(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qr=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ns(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ju(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Qr(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function Pf(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _f(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ts(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_f(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fi,Mf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gg=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){gg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gr[t]=Gr[e]})});function If(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+t).trim():t+"px"}function Df(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=If(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xg=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ls(e,t){if(t){if(xg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Ps(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function Aa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ms=null,ur=null,cr=null;function ec(e){if(e=Pi(e)){if(typeof Ms!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Zl(t),Ms(e.stateNode,e.type,t))}}function Af(e){ur?cr?cr.push(e):cr=[e]:ur=e}function zf(){if(ur){var e=ur,t=cr;if(cr=ur=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function Rf(e,t){return e(t)}function Ff(){}var jo=!1;function Bf(e,t,n){if(jo)return e(t,n);jo=!0;try{return Rf(e,t,n)}finally{jo=!1,(ur!==null||cr!==null)&&(Ff(),zf())}}function ui(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Is=!1;if(Xt)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Is=!1}function yg(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Xr=!1,kl=null,wl=!1,Ds=null,vg={onError:function(e){Xr=!0,kl=e}};function kg(e,t,n,r,i,l,o,s,a){Xr=!1,kl=null,yg.apply(vg,arguments)}function wg(e,t,n,r,i,l,o,s,a){if(kg.apply(this,arguments),Xr){if(Xr){var u=kl;Xr=!1,kl=null}else throw Error(B(198));wl||(wl=!0,Ds=u)}}function Un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Of(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Un(e)!==e)throw Error(B(188))}function bg(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return tc(i),e;if(l===r)return tc(i),t;l=l.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function $f(e){return e=bg(e),e!==null?Uf(e):null}function Uf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uf(e);if(t!==null)return t;e=e.sibling}return null}var Hf=ht.unstable_scheduleCallback,nc=ht.unstable_cancelCallback,Sg=ht.unstable_shouldYield,Cg=ht.unstable_requestPaint,Ee=ht.unstable_now,jg=ht.unstable_getCurrentPriorityLevel,za=ht.unstable_ImmediatePriority,Wf=ht.unstable_UserBlockingPriority,bl=ht.unstable_NormalPriority,Eg=ht.unstable_LowPriority,Vf=ht.unstable_IdlePriority,Gl=null,Bt=null;function Ng(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Pg,Tg=Math.log,Lg=Math.LN2;function Pg(e){return e>>>=0,e===0?32:31-(Tg(e)/Lg|0)|0}var Bi=64,Oi=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Kr(s):(l&=o,l!==0&&(r=Kr(l)))}else o=n&~i,o!==0?r=Kr(o):l!==0&&(r=Kr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),i=1<<n,r|=e[n],t&=~i;return r}function _g(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Pt(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=_g(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function As(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qf(){var e=Bi;return Bi<<=1,!(Bi&4194240)&&(Bi=64),e}function Eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ti(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Ig(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Ra(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ce=0;function Kf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qf,Fa,Gf,Xf,Yf,zs=!1,$i=[],dn=null,fn=null,pn=null,ci=new Map,di=new Map,sn=[],Dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(t.pointerId)}}function Ar(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Pi(t),t!==null&&Fa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ag(e,t,n,r,i){switch(t){case"focusin":return dn=Ar(dn,e,t,n,r,i),!0;case"dragenter":return fn=Ar(fn,e,t,n,r,i),!0;case"mouseover":return pn=Ar(pn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return ci.set(l,Ar(ci.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,di.set(l,Ar(di.get(l)||null,e,t,n,r,i)),!0}return!1}function Jf(e){var t=Pn(e.target);if(t!==null){var n=Un(t);if(n!==null){if(t=n.tag,t===13){if(t=Of(n),t!==null){e.blockedOn=t,Yf(e.priority,function(){Gf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_s=r,n.target.dispatchEvent(r),_s=null}else return t=Pi(n),t!==null&&Fa(t),e.blockedOn=n,!1;t.shift()}return!0}function ic(e,t,n){ol(e)&&n.delete(t)}function zg(){zs=!1,dn!==null&&ol(dn)&&(dn=null),fn!==null&&ol(fn)&&(fn=null),pn!==null&&ol(pn)&&(pn=null),ci.forEach(ic),di.forEach(ic)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,zs||(zs=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,zg)))}function fi(e){function t(i){return zr(i,e)}if(0<$i.length){zr($i[0],e);for(var n=1;n<$i.length;n++){var r=$i[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&zr(dn,e),fn!==null&&zr(fn,e),pn!==null&&zr(pn,e),ci.forEach(t),di.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Jf(n),n.blockedOn===null&&sn.shift()}var dr=en.ReactCurrentBatchConfig,Cl=!0;function Rg(e,t,n,r){var i=ce,l=dr.transition;dr.transition=null;try{ce=1,Ba(e,t,n,r)}finally{ce=i,dr.transition=l}}function Fg(e,t,n,r){var i=ce,l=dr.transition;dr.transition=null;try{ce=4,Ba(e,t,n,r)}finally{ce=i,dr.transition=l}}function Ba(e,t,n,r){if(Cl){var i=Rs(e,t,n,r);if(i===null)zo(e,t,r,jl,n),rc(e,r);else if(Ag(i,e,t,n,r))r.stopPropagation();else if(rc(e,r),t&4&&-1<Dg.indexOf(e)){for(;i!==null;){var l=Pi(i);if(l!==null&&qf(l),l=Rs(e,t,n,r),l===null&&zo(e,t,r,jl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else zo(e,t,r,null,n)}}var jl=null;function Rs(e,t,n,r){if(jl=null,e=Aa(r),e=Pn(e),e!==null)if(t=Un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Of(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function Zf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jg()){case za:return 1;case Wf:return 4;case bl:case Eg:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var un=null,Oa=null,sl=null;function ep(){if(sl)return sl;var e,t=Oa,n=t.length,r,i="value"in un?un.value:un.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return sl=i.slice(e,1<r?1-r:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function lc(){return!1}function gt(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ui:lc,this.isPropagationStopped=lc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=gt(jr),Li=we({},jr,{view:0,detail:0}),Bg=gt(Li),No,To,Rr,Xl=we({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(No=e.screenX-Rr.screenX,To=e.screenY-Rr.screenY):To=No=0,Rr=e),No)},movementY:function(e){return"movementY"in e?e.movementY:To}}),oc=gt(Xl),Og=we({},Xl,{dataTransfer:0}),$g=gt(Og),Ug=we({},Li,{relatedTarget:0}),Lo=gt(Ug),Hg=we({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=gt(Hg),Vg=we({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qg=gt(Vg),Kg=we({},jr,{data:0}),sc=gt(Kg),qg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xg[e])?!!t[e]:!1}function Ua(){return Yg}var Jg=we({},Li,{key:function(e){if(e.key){var t=qg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zg=gt(Jg),e0=we({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=gt(e0),t0=we({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),n0=gt(t0),r0=we({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=gt(r0),l0=we({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=gt(l0),s0=[9,13,27,32],Ha=Xt&&"CompositionEvent"in window,Yr=null;Xt&&"documentMode"in document&&(Yr=document.documentMode);var a0=Xt&&"TextEvent"in window&&!Yr,tp=Xt&&(!Ha||Yr&&8<Yr&&11>=Yr),uc=" ",cc=!1;function np(e,t){switch(e){case"keyup":return s0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function u0(e,t){switch(e){case"compositionend":return rp(t);case"keypress":return t.which!==32?null:(cc=!0,uc);case"textInput":return e=t.data,e===uc&&cc?null:e;default:return null}}function c0(e,t){if(Jn)return e==="compositionend"||!Ha&&np(e,t)?(e=ep(),sl=Oa=un=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tp&&t.locale!=="ko"?null:t.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d0[e.type]:t==="textarea"}function ip(e,t,n,r){Af(r),t=El(t,"onChange"),0<t.length&&(n=new $a("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jr=null,pi=null;function f0(e){mp(e,0)}function Yl(e){var t=tr(e);if(Tf(t))return e}function p0(e,t){if(e==="change")return t}var lp=!1;if(Xt){var Po;if(Xt){var _o="oninput"in document;if(!_o){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),_o=typeof fc.oninput=="function"}Po=_o}else Po=!1;lp=Po&&(!document.documentMode||9<document.documentMode)}function pc(){Jr&&(Jr.detachEvent("onpropertychange",op),pi=Jr=null)}function op(e){if(e.propertyName==="value"&&Yl(pi)){var t=[];ip(t,pi,e,Aa(e)),Bf(f0,t)}}function h0(e,t,n){e==="focusin"?(pc(),Jr=t,pi=n,Jr.attachEvent("onpropertychange",op)):e==="focusout"&&pc()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(pi)}function g0(e,t){if(e==="click")return Yl(t)}function x0(e,t){if(e==="input"||e==="change")return Yl(t)}function y0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:y0;function hi(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vs.call(t,i)||!It(e[i],t[i]))return!1}return!0}function hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var n=hc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hc(n)}}function sp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ap(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v0(e){var t=ap(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sp(n.ownerDocument.documentElement,n)){if(r!==null&&Wa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=mc(n,l);var o=mc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k0=Xt&&"documentMode"in document&&11>=document.documentMode,Zn=null,Fs=null,Zr=null,Bs=!1;function gc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bs||Zn==null||Zn!==vl(r)||(r=Zn,"selectionStart"in r&&Wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zr&&hi(Zr,r)||(Zr=r,r=El(Fs,"onSelect"),0<r.length&&(t=new $a("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function Hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},Mo={},up={};Xt&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Jl(e){if(Mo[e])return Mo[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in up)return Mo[e]=t[n];return e}var cp=Jl("animationend"),dp=Jl("animationiteration"),fp=Jl("animationstart"),pp=Jl("transitionend"),hp=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){hp.set(e,t),$n(t,[e])}for(var Io=0;Io<xc.length;Io++){var Do=xc[Io],w0=Do.toLowerCase(),b0=Do[0].toUpperCase()+Do.slice(1);wn(w0,"on"+b0)}wn(cp,"onAnimationEnd");wn(dp,"onAnimationIteration");wn(fp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(pp,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S0=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function yc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wg(r,t,void 0,e),e.currentTarget=null}function mp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;yc(i,s,u),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;yc(i,s,u),l=a}}}if(wl)throw e=Ds,wl=!1,Ds=null,e}function ge(e,t){var n=t[Ws];n===void 0&&(n=t[Ws]=new Set);var r=e+"__bubble";n.has(r)||(gp(t,e,2,!1),n.add(r))}function Ao(e,t,n){var r=0;t&&(r|=4),gp(n,e,r,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function mi(e){if(!e[Wi]){e[Wi]=!0,Sf.forEach(function(n){n!=="selectionchange"&&(S0.has(n)||Ao(n,!1,e),Ao(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wi]||(t[Wi]=!0,Ao("selectionchange",!1,t))}}function gp(e,t,n,r){switch(Zf(t)){case 1:var i=Rg;break;case 4:i=Fg;break;default:i=Ba}n=i.bind(null,t,n,e),i=void 0,!Is||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zo(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Pn(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Bf(function(){var u=l,f=Aa(n),d=[];e:{var h=hp.get(e);if(h!==void 0){var p=$a,g=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":p=Zg;break;case"focusin":g="focus",p=Lo;break;case"focusout":g="blur",p=Lo;break;case"beforeblur":case"afterblur":p=Lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=n0;break;case cp:case dp:case fp:p=Wg;break;case pp:p=i0;break;case"scroll":p=Bg;break;case"wheel":p=o0;break;case"copy":case"cut":case"paste":p=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ac}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,y;x!==null;){y=x;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,m!==null&&(C=ui(x,m),C!=null&&v.push(gi(x,C,y)))),w)break;x=x.return}0<v.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==_s&&(g=n.relatedTarget||n.fromElement)&&(Pn(g)||g[Yt]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Pn(g):null,g!==null&&(w=Un(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=oc,C="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=ac,C="onPointerLeave",m="onPointerEnter",x="pointer"),w=p==null?h:tr(p),y=g==null?h:tr(g),h=new v(C,x+"leave",p,n,f),h.target=w,h.relatedTarget=y,C=null,Pn(f)===u&&(v=new v(m,x+"enter",g,n,f),v.target=y,v.relatedTarget=w,C=v),w=C,p&&g)t:{for(v=p,m=g,x=0,y=v;y;y=Kn(y))x++;for(y=0,C=m;C;C=Kn(C))y++;for(;0<x-y;)v=Kn(v),x--;for(;0<y-x;)m=Kn(m),y--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=Kn(v),m=Kn(m)}v=null}else v=null;p!==null&&vc(d,h,p,v,!1),g!==null&&w!==null&&vc(d,w,g,v,!0)}}e:{if(h=u?tr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=p0;else if(dc(h))if(lp)T=x0;else{T=m0;var j=h0}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=g0);if(T&&(T=T(e,u))){ip(d,T,n,f);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Es(h,"number",h.value)}switch(j=u?tr(u):window,e){case"focusin":(dc(j)||j.contentEditable==="true")&&(Zn=j,Fs=u,Zr=null);break;case"focusout":Zr=Fs=Zn=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,gc(d,n,f);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":gc(d,n,f)}var L;if(Ha)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jn?np(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(tp&&n.locale!=="ko"&&(Jn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jn&&(L=ep()):(un=f,Oa="value"in un?un.value:un.textContent,Jn=!0)),j=El(u,_),0<j.length&&(_=new sc(_,e,null,n,f),d.push({event:_,listeners:j}),L?_.data=L:(L=rp(n),L!==null&&(_.data=L)))),(L=a0?u0(e,n):c0(e,n))&&(u=El(u,"onBeforeInput"),0<u.length&&(f=new sc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=L))}mp(d,t)})}function gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function El(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=ui(e,n),l!=null&&r.unshift(gi(e,l,i)),l=ui(e,t),l!=null&&r.push(gi(e,l,i))),e=e.return}return r}function Kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=ui(n,l),a!=null&&o.unshift(gi(n,a,s))):i||(a=ui(n,l),a!=null&&o.push(gi(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var C0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function kc(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(j0,"")}function Vi(e,t,n){if(t=kc(t),kc(e)!==t&&n)throw Error(B(425))}function Nl(){}var Os=null,$s=null;function Us(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hs=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,wc=typeof Promise=="function"?Promise:void 0,N0=typeof queueMicrotask=="function"?queueMicrotask:typeof wc<"u"?function(e){return wc.resolve(null).then(e).catch(T0)}:Hs;function T0(e){setTimeout(function(){throw e})}function Ro(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fi(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Er,xi="__reactProps$"+Er,Yt="__reactContainer$"+Er,Ws="__reactEvents$"+Er,L0="__reactListeners$"+Er,P0="__reactHandles$"+Er;function Pn(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[Ft])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function Pi(e){return e=e[Ft]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Zl(e){return e[xi]||null}var Vs=[],nr=-1;function bn(e){return{current:e}}function xe(e){0>nr||(e.current=Vs[nr],Vs[nr]=null,nr--)}function he(e,t){nr++,Vs[nr]=e.current,e.current=t}var kn={},We=bn(kn),rt=bn(!1),An=kn;function gr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function it(e){return e=e.childContextTypes,e!=null}function Tl(){xe(rt),xe(We)}function Sc(e,t,n){if(We.current!==kn)throw Error(B(168));he(We,t),he(rt,n)}function xp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,hg(e)||"Unknown",i));return we({},n,r)}function Ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,An=We.current,he(We,e),he(rt,rt.current),!0}function Cc(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=xp(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,xe(rt),xe(We),he(We,e)):xe(rt),he(rt,n)}var Qt=null,eo=!1,Fo=!1;function yp(e){Qt===null?Qt=[e]:Qt.push(e)}function _0(e){eo=!0,yp(e)}function Sn(){if(!Fo&&Qt!==null){Fo=!0;var e=0,t=ce;try{var n=Qt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,eo=!1}catch(i){throw Qt!==null&&(Qt=Qt.slice(e+1)),Hf(za,Sn),i}finally{ce=t,Fo=!1}}return null}var rr=[],ir=0,Pl=null,_l=0,yt=[],vt=0,zn=null,Kt=1,qt="";function Nn(e,t){rr[ir++]=_l,rr[ir++]=Pl,Pl=e,_l=t}function vp(e,t,n){yt[vt++]=Kt,yt[vt++]=qt,yt[vt++]=zn,zn=e;var r=Kt;e=qt;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var l=32-Pt(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kt=1<<32-Pt(t)+i|n<<i|r,qt=l+e}else Kt=1<<l|n<<i|r,qt=e}function Va(e){e.return!==null&&(Nn(e,1),vp(e,1,0))}function Qa(e){for(;e===Pl;)Pl=rr[--ir],rr[ir]=null,_l=rr[--ir],rr[ir]=null;for(;e===zn;)zn=yt[--vt],yt[vt]=null,qt=yt[--vt],yt[vt]=null,Kt=yt[--vt],yt[vt]=null}var ft=null,dt=null,ye=!1,Lt=null;function kp(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:Kt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function Qs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ks(e){if(ye){var t=dt;if(t){var n=t;if(!jc(e,t)){if(Qs(e))throw Error(B(418));t=hn(n.nextSibling);var r=ft;t&&jc(e,t)?kp(r,n):(e.flags=e.flags&-4097|2,ye=!1,ft=e)}}else{if(Qs(e))throw Error(B(418));e.flags=e.flags&-4097|2,ye=!1,ft=e}}}function Ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Qi(e){if(e!==ft)return!1;if(!ye)return Ec(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Us(e.type,e.memoizedProps)),t&&(t=dt)){if(Qs(e))throw wp(),Error(B(418));for(;t;)kp(e,t),t=hn(t.nextSibling)}if(Ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?hn(e.stateNode.nextSibling):null;return!0}function wp(){for(var e=dt;e;)e=hn(e.nextSibling)}function xr(){dt=ft=null,ye=!1}function Ka(e){Lt===null?Lt=[e]:Lt.push(e)}var M0=en.ReactCurrentBatchConfig;function Fr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function bp(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=yn(m,x),m.index=0,m.sibling=null,m}function l(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,x,y,C){return x===null||x.tag!==6?(x=Vo(y,m.mode,C),x.return=m,x):(x=i(x,y),x.return=m,x)}function a(m,x,y,C){var T=y.type;return T===Yn?f(m,x,y.props.children,C,y.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ln&&Nc(T)===x.type)?(C=i(x,y.props),C.ref=Fr(m,x,y),C.return=m,C):(C=ml(y.type,y.key,y.props,null,m.mode,C),C.ref=Fr(m,x,y),C.return=m,C)}function u(m,x,y,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Qo(y,m.mode,C),x.return=m,x):(x=i(x,y.children||[]),x.return=m,x)}function f(m,x,y,C,T){return x===null||x.tag!==7?(x=Dn(y,m.mode,C,T),x.return=m,x):(x=i(x,y),x.return=m,x)}function d(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Vo(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zi:return y=ml(x.type,x.key,x.props,null,m.mode,y),y.ref=Fr(m,null,x),y.return=m,y;case Xn:return x=Qo(x,m.mode,y),x.return=m,x;case ln:var C=x._init;return d(m,C(x._payload),y)}if(Qr(x)||Ir(x))return x=Dn(x,m.mode,y,null),x.return=m,x;Ki(m,x)}return null}function h(m,x,y,C){var T=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:s(m,x,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zi:return y.key===T?a(m,x,y,C):null;case Xn:return y.key===T?u(m,x,y,C):null;case ln:return T=y._init,h(m,x,T(y._payload),C)}if(Qr(y)||Ir(y))return T!==null?null:f(m,x,y,C,null);Ki(m,y)}return null}function p(m,x,y,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(y)||null,s(x,m,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case zi:return m=m.get(C.key===null?y:C.key)||null,a(x,m,C,T);case Xn:return m=m.get(C.key===null?y:C.key)||null,u(x,m,C,T);case ln:var j=C._init;return p(m,x,y,j(C._payload),T)}if(Qr(C)||Ir(C))return m=m.get(y)||null,f(x,m,C,T,null);Ki(x,C)}return null}function g(m,x,y,C){for(var T=null,j=null,L=x,_=x=0,I=null;L!==null&&_<y.length;_++){L.index>_?(I=L,L=null):I=L.sibling;var E=h(m,L,y[_],C);if(E===null){L===null&&(L=I);break}e&&L&&E.alternate===null&&t(m,L),x=l(E,x,_),j===null?T=E:j.sibling=E,j=E,L=I}if(_===y.length)return n(m,L),ye&&Nn(m,_),T;if(L===null){for(;_<y.length;_++)L=d(m,y[_],C),L!==null&&(x=l(L,x,_),j===null?T=L:j.sibling=L,j=L);return ye&&Nn(m,_),T}for(L=r(m,L);_<y.length;_++)I=p(L,m,_,y[_],C),I!==null&&(e&&I.alternate!==null&&L.delete(I.key===null?_:I.key),x=l(I,x,_),j===null?T=I:j.sibling=I,j=I);return e&&L.forEach(function(F){return t(m,F)}),ye&&Nn(m,_),T}function v(m,x,y,C){var T=Ir(y);if(typeof T!="function")throw Error(B(150));if(y=T.call(y),y==null)throw Error(B(151));for(var j=T=null,L=x,_=x=0,I=null,E=y.next();L!==null&&!E.done;_++,E=y.next()){L.index>_?(I=L,L=null):I=L.sibling;var F=h(m,L,E.value,C);if(F===null){L===null&&(L=I);break}e&&L&&F.alternate===null&&t(m,L),x=l(F,x,_),j===null?T=F:j.sibling=F,j=F,L=I}if(E.done)return n(m,L),ye&&Nn(m,_),T;if(L===null){for(;!E.done;_++,E=y.next())E=d(m,E.value,C),E!==null&&(x=l(E,x,_),j===null?T=E:j.sibling=E,j=E);return ye&&Nn(m,_),T}for(L=r(m,L);!E.done;_++,E=y.next())E=p(L,m,_,E.value,C),E!==null&&(e&&E.alternate!==null&&L.delete(E.key===null?_:E.key),x=l(E,x,_),j===null?T=E:j.sibling=E,j=E);return e&&L.forEach(function($){return t(m,$)}),ye&&Nn(m,_),T}function w(m,x,y,C){if(typeof y=="object"&&y!==null&&y.type===Yn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case zi:e:{for(var T=y.key,j=x;j!==null;){if(j.key===T){if(T=y.type,T===Yn){if(j.tag===7){n(m,j.sibling),x=i(j,y.props.children),x.return=m,m=x;break e}}else if(j.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ln&&Nc(T)===j.type){n(m,j.sibling),x=i(j,y.props),x.ref=Fr(m,j,y),x.return=m,m=x;break e}n(m,j);break}else t(m,j);j=j.sibling}y.type===Yn?(x=Dn(y.props.children,m.mode,C,y.key),x.return=m,m=x):(C=ml(y.type,y.key,y.props,null,m.mode,C),C.ref=Fr(m,x,y),C.return=m,m=C)}return o(m);case Xn:e:{for(j=y.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=i(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=Qo(y,m.mode,C),x.return=m,m=x}return o(m);case ln:return j=y._init,w(m,x,j(y._payload),C)}if(Qr(y))return g(m,x,y,C);if(Ir(y))return v(m,x,y,C);Ki(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=i(x,y),x.return=m,m=x):(n(m,x),x=Vo(y,m.mode,C),x.return=m,m=x),o(m)):n(m,x)}return w}var yr=bp(!0),Sp=bp(!1),Ml=bn(null),Il=null,lr=null,qa=null;function Ga(){qa=lr=Il=null}function Xa(e){var t=Ml.current;xe(Ml),e._currentValue=t}function qs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){Il=e,qa=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(qa!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(Il===null)throw Error(B(308));lr=e,Il.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var _n=null;function Ya(e){_n===null?_n=[e]:_n.push(e)}function Cp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ya(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jt(e,r)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jt(e,n)}return i=r.interleaved,i===null?(t.next=t,Ya(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jt(e,n)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ra(e,n)}}function Tc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dl(e,t,n,r){var i=e.updateQueue;on=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(l!==null){var d=i.baseState;o=0,f=u=a=null,s=l;do{var h=s.lane,p=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(h=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=we({},d,h);break e;case 2:on=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,a=d):f=f.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Fn|=o,e.lanes=o,e.memoizedState=d}}function Lc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var _i={},Ot=bn(_i),yi=bn(_i),vi=bn(_i);function Mn(e){if(e===_i)throw Error(B(174));return e}function Za(e,t){switch(he(vi,t),he(yi,e),he(Ot,_i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ts(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ts(t,e)}xe(Ot),he(Ot,t)}function vr(){xe(Ot),xe(yi),xe(vi)}function Ep(e){Mn(vi.current);var t=Mn(Ot.current),n=Ts(t,e.type);t!==n&&(he(yi,e),he(Ot,n))}function eu(e){yi.current===e&&(xe(Ot),xe(yi))}var ve=bn(0);function Al(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=[];function tu(){for(var e=0;e<Bo.length;e++)Bo[e]._workInProgressVersionPrimary=null;Bo.length=0}var cl=en.ReactCurrentDispatcher,Oo=en.ReactCurrentBatchConfig,Rn=0,ke=null,Le=null,Ie=null,zl=!1,ei=!1,ki=0,I0=0;function Oe(){throw Error(B(321))}function nu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function ru(e,t,n,r,i,l){if(Rn=l,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?R0:F0,e=n(r,i),ei){l=0;do{if(ei=!1,ki=0,25<=l)throw Error(B(301));l+=1,Ie=Le=null,t.updateQueue=null,cl.current=B0,e=n(r,i)}while(ei)}if(cl.current=Rl,t=Le!==null&&Le.next!==null,Rn=0,Ie=Le=ke=null,zl=!1,t)throw Error(B(300));return e}function iu(){var e=ki!==0;return ki=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ke.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Ct(){if(Le===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ie===null?ke.memoizedState:Ie.next;if(t!==null)Ie=t,Le=e;else{if(e===null)throw Error(B(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ie===null?ke.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function wi(e,t){return typeof t=="function"?t(e):t}function $o(e){var t=Ct(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Le,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,u=l;do{var f=u.lane;if((Rn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=d,o=r):a=a.next=d,ke.lanes|=f,Fn|=f}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=s,It(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,ke.lanes|=l,Fn|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uo(e){var t=Ct(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);It(l,t.memoizedState)||(nt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Np(){}function Tp(e,t){var n=ke,r=Ct(),i=t(),l=!It(r.memoizedState,i);if(l&&(r.memoizedState=i,nt=!0),r=r.queue,lu(_p.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,bi(9,Pp.bind(null,n,r,i,t),void 0,null),De===null)throw Error(B(349));Rn&30||Lp(n,t,i)}return i}function Lp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pp(e,t,n,r){t.value=n,t.getSnapshot=r,Mp(t)&&Ip(e)}function _p(e,t,n){return n(function(){Mp(t)&&Ip(e)})}function Mp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function Ip(e){var t=Jt(e,1);t!==null&&_t(t,e,1,-1)}function Pc(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=z0.bind(null,ke,e),[t.memoizedState,e]}function bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dp(){return Ct().memoizedState}function dl(e,t,n,r){var i=zt();ke.flags|=e,i.memoizedState=bi(1|t,n,void 0,r===void 0?null:r)}function to(e,t,n,r){var i=Ct();r=r===void 0?null:r;var l=void 0;if(Le!==null){var o=Le.memoizedState;if(l=o.destroy,r!==null&&nu(r,o.deps)){i.memoizedState=bi(t,n,l,r);return}}ke.flags|=e,i.memoizedState=bi(1|t,n,l,r)}function _c(e,t){return dl(8390656,8,e,t)}function lu(e,t){return to(2048,8,e,t)}function Ap(e,t){return to(4,2,e,t)}function zp(e,t){return to(4,4,e,t)}function Rp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fp(e,t,n){return n=n!=null?n.concat([e]):null,to(4,4,Rp.bind(null,t,e),n)}function ou(){}function Bp(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Op(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $p(e,t,n){return Rn&21?(It(n,t)||(n=Qf(),ke.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function D0(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Oo.transition;Oo.transition={};try{e(!1),t()}finally{ce=n,Oo.transition=r}}function Up(){return Ct().memoizedState}function A0(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hp(e))Wp(t,n);else if(n=Cp(e,t,n,r),n!==null){var i=Ge();_t(n,e,r,i),Vp(n,t,r)}}function z0(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hp(e))Wp(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,It(s,o)){var a=t.interleaved;a===null?(i.next=i,Ya(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Cp(e,t,i,r),n!==null&&(i=Ge(),_t(n,e,r,i),Vp(n,t,r))}}function Hp(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Wp(e,t){ei=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ra(e,n)}}var Rl={readContext:St,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},R0={readContext:St,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:_c,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dl(4194308,4,Rp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=A0.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:ou,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=D0.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,i=zt();if(ye){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),De===null)throw Error(B(349));Rn&30||Lp(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,_c(_p.bind(null,r,l,e),[e]),r.flags|=2048,bi(9,Pp.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=zt(),t=De.identifierPrefix;if(ye){var n=qt,r=Kt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ki++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=I0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F0={readContext:St,useCallback:Bp,useContext:St,useEffect:lu,useImperativeHandle:Fp,useInsertionEffect:Ap,useLayoutEffect:zp,useMemo:Op,useReducer:$o,useRef:Dp,useState:function(){return $o(wi)},useDebugValue:ou,useDeferredValue:function(e){var t=Ct();return $p(t,Le.memoizedState,e)},useTransition:function(){var e=$o(wi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Np,useSyncExternalStore:Tp,useId:Up,unstable_isNewReconciler:!1},B0={readContext:St,useCallback:Bp,useContext:St,useEffect:lu,useImperativeHandle:Fp,useInsertionEffect:Ap,useLayoutEffect:zp,useMemo:Op,useReducer:Uo,useRef:Dp,useState:function(){return Uo(wi)},useDebugValue:ou,useDeferredValue:function(e){var t=Ct();return Le===null?t.memoizedState=e:$p(t,Le.memoizedState,e)},useTransition:function(){var e=Uo(wi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Np,useSyncExternalStore:Tp,useId:Up,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=xn(e),l=Gt(r,i);l.payload=t,n!=null&&(l.callback=n),t=mn(e,l,i),t!==null&&(_t(t,e,i,r),ul(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=xn(e),l=Gt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=mn(e,l,i),t!==null&&(_t(t,e,i,r),ul(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=xn(e),i=Gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=mn(e,i,r),t!==null&&(_t(t,e,r,n),ul(t,e,r))}};function Mc(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!hi(n,r)||!hi(i,l):!0}function Qp(e,t,n){var r=!1,i=kn,l=t.contextType;return typeof l=="object"&&l!==null?l=St(l):(i=it(t)?An:We.current,r=t.contextTypes,l=(r=r!=null)?gr(e,i):kn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ic(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function Xs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ja(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=St(l):(l=it(t)?An:We.current,i.context=gr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Gs(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),Dl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var n="",r=t;do n+=pg(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Ho(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ys(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var O0=typeof WeakMap=="function"?WeakMap:Map;function Kp(e,t,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,sa=r),Ys(e,t)},n}function qp(e,t,n){n=Gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ys(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ys(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Dc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new O0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ex.bind(null,e,t,n),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gt(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var $0=en.ReactCurrentOwner,nt=!1;function Ke(e,t,n,r){t.child=e===null?Sp(t,null,n,r):yr(t,e.child,n,r)}function Rc(e,t,n,r,i){n=n.render;var l=t.ref;return fr(t,i),r=ru(e,t,n,r,l,i),n=iu(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(ye&&n&&Va(t),t.flags|=1,Ke(e,t,r,i),t.child)}function Fc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!hu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Gp(e,t,l,r,i)):(e=ml(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(o,r)&&e.ref===t.ref)return Zt(e,t,i)}return t.flags|=1,e=yn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Gp(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(hi(l,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,Zt(e,t,i)}return Js(e,t,n,r,i)}function Xp(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(sr,ct),ct|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(sr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,he(sr,ct),ct|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,he(sr,ct),ct|=r;return Ke(e,t,i,n),t.child}function Yp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Js(e,t,n,r,i){var l=it(n)?An:We.current;return l=gr(t,l),fr(t,i),n=ru(e,t,n,r,l,i),r=iu(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(ye&&r&&Va(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Bc(e,t,n,r,i){if(it(n)){var l=!0;Ll(t)}else l=!1;if(fr(t,i),t.stateNode===null)fl(e,t),Qp(t,n,r),Xs(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=it(n)?An:We.current,u=gr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Ic(t,o,r,u),on=!1;var h=t.memoizedState;o.state=h,Dl(t,r,o,i),a=t.memoizedState,s!==r||h!==a||rt.current||on?(typeof f=="function"&&(Gs(t,n,f,r),a=t.memoizedState),(s=on||Mc(t,n,s,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jp(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Nt(t.type,s),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=St(a):(a=it(n)?An:We.current,a=gr(t,a));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==a)&&Ic(t,o,r,a),on=!1,h=t.memoizedState,o.state=h,Dl(t,r,o,i);var g=t.memoizedState;s!==d||h!==g||rt.current||on?(typeof p=="function"&&(Gs(t,n,p,r),g=t.memoizedState),(u=on||Mc(t,n,u,r,h,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Zs(e,t,n,r,l,i)}function Zs(e,t,n,r,i,l){Yp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Cc(t,n,!1),Zt(e,t,l);r=t.stateNode,$0.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yr(t,e.child,null,l),t.child=yr(t,null,s,l)):Ke(e,t,s,l),t.memoizedState=r.state,i&&Cc(t,n,!0),t.child}function Jp(e){var t=e.stateNode;t.pendingContext?Sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sc(e,t.context,!1),Za(e,t.containerInfo)}function Oc(e,t,n,r,i){return xr(),Ka(i),t.flags|=256,Ke(e,t,n,r),t.child}var ea={dehydrated:null,treeContext:null,retryLane:0};function ta(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zp(e,t,n){var r=t.pendingProps,i=ve.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(ve,i&1),e===null)return Ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=lo(o,r,0,null),e=Dn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ta(n),t.memoizedState=ea,e):su(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return U0(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=yn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=yn(s,l):(l=Dn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?ta(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=ea,r}return l=e.child,e=l.sibling,r=yn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function su(e,t){return t=lo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,n,r){return r!==null&&Ka(r),yr(t,e.child,null,n),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U0(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ho(Error(B(422))),qi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=lo({mode:"visible",children:r.children},i,0,null),l=Dn(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&yr(t,e.child,null,o),t.child.memoizedState=ta(o),t.memoizedState=ea,l);if(!(t.mode&1))return qi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(B(419)),r=Ho(l,r,void 0),qi(e,t,o,r)}if(s=(o&e.childLanes)!==0,nt||s){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Jt(e,i),_t(r,e,i,-1))}return pu(),r=Ho(Error(B(421))),qi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tx.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,dt=hn(i.nextSibling),ft=t,ye=!0,Lt=null,e!==null&&(yt[vt++]=Kt,yt[vt++]=qt,yt[vt++]=zn,Kt=e.id,qt=e.overflow,zn=t),t=su(t,r.children),t.flags|=4096,t)}function $c(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qs(e.return,t,n)}function Wo(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function eh(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Ke(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$c(e,n,t);else if(e.tag===19)$c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ve,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Al(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Al(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,l);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function H0(e,t,n){switch(t.tag){case 3:Jp(t),xr();break;case 5:Ep(t);break;case 1:it(t.type)&&Ll(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(Ml,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Zp(e,t,n):(he(ve,ve.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);he(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return eh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Xp(e,t,n)}return Zt(e,t,n)}var th,na,nh,rh;th=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};na=function(){};nh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mn(Ot.current);var l=null;switch(n){case"input":i=Cs(e,i),r=Cs(e,r),l=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),l=[];break;case"textarea":i=Ns(e,i),r=Ns(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Nl)}Ls(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};rh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Br(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function W0(e,t,n){var r=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return it(t.type)&&Tl(),$e(t),null;case 3:return r=t.stateNode,vr(),xe(rt),xe(We),tu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(ca(Lt),Lt=null))),na(e,t),$e(t),null;case 5:eu(t);var i=Mn(vi.current);if(n=t.type,e!==null&&t.stateNode!=null)nh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return $e(t),null}if(e=Mn(Ot.current),Qi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ft]=t,r[xi]=l,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)ge(qr[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Xu(r,l),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ge("invalid",r);break;case"textarea":Ju(r,l),ge("invalid",r)}Ls(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Vi(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Vi(r.textContent,s,e),i=["children",""+s]):si.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Ri(r),Yu(r,l,!0);break;case"textarea":Ri(r),Zu(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Nl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_f(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ft]=t,e[xi]=r,th(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ps(n,r),n){case"dialog":ge("cancel",e),ge("close",e),i=r;break;case"iframe":case"object":case"embed":ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)ge(qr[i],e);i=r;break;case"source":ge("error",e),i=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),i=r;break;case"details":ge("toggle",e),i=r;break;case"input":Xu(e,r),i=Cs(e,r),ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),ge("invalid",e);break;case"textarea":Ju(e,r),i=Ns(e,r),ge("invalid",e);break;default:i=r}Ls(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Df(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Mf(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ai(e,a):typeof a=="number"&&ai(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(si.hasOwnProperty(l)?a!=null&&l==="onScroll"&&ge("scroll",e):a!=null&&_a(e,l,a,o))}switch(n){case"input":Ri(e),Yu(e,r,!1);break;case"textarea":Ri(e),Zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?ar(e,!!r.multiple,l,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)rh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Mn(vi.current),Mn(Ot.current),Qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(l=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Vi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vi(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return $e(t),null;case 13:if(xe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&dt!==null&&t.mode&1&&!(t.flags&128))wp(),xr(),t.flags|=98560,l=!1;else if(l=Qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(B(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(B(317));l[Ft]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else Lt!==null&&(ca(Lt),Lt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Pe===0&&(Pe=3):pu())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return vr(),na(e,t),e===null&&mi(t.stateNode.containerInfo),$e(t),null;case 10:return Xa(t.type._context),$e(t),null;case 17:return it(t.type)&&Tl(),$e(t),null;case 19:if(xe(ve),l=t.memoizedState,l===null)return $e(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Br(l,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Al(e),o!==null){for(t.flags|=128,Br(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ve,ve.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>wr&&(t.flags|=128,r=!0,Br(l,!1),t.lanes=4194304)}else{if(!r)if(e=Al(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Br(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ye)return $e(t),null}else 2*Ee()-l.renderingStartTime>wr&&n!==1073741824&&(t.flags|=128,r=!0,Br(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,n=ve.current,he(ve,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return fu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ct&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function V0(e,t){switch(Qa(t),t.tag){case 1:return it(t.type)&&Tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),xe(rt),xe(We),tu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eu(t),null;case 13:if(xe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ve),null;case 4:return vr(),null;case 10:return Xa(t.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var Gi=!1,Ue=!1,Q0=typeof WeakSet=="function"?WeakSet:Set,U=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function ra(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Uc=!1;function K0(e,t){if(Os=Cl,e=ap(),Wa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==l||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=o),h===l&&++f===r&&(a=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($s={focusedElem:e,selectionRange:n},Cl=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nt(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ce(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return g=Uc,Uc=!1,g}function ti(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&ra(t,n,l)}i=i.next}while(i!==r)}}function ro(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ia(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ih(e){var t=e.alternate;t!==null&&(e.alternate=null,ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[xi],delete t[Ws],delete t[L0],delete t[P0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lh(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function la(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nl));else if(r!==4&&(e=e.child,e!==null))for(la(e,t,n),e=e.sibling;e!==null;)la(e,t,n),e=e.sibling}function oa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oa(e,t,n),e=e.sibling;e!==null;)oa(e,t,n),e=e.sibling}var ze=null,Tt=!1;function nn(e,t,n){for(n=n.child;n!==null;)oh(e,t,n),n=n.sibling}function oh(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:Ue||or(n,t);case 6:var r=ze,i=Tt;ze=null,nn(e,t,n),ze=r,Tt=i,ze!==null&&(Tt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Tt?(e=ze,n=n.stateNode,e.nodeType===8?Ro(e.parentNode,n):e.nodeType===1&&Ro(e,n),fi(e)):Ro(ze,n.stateNode));break;case 4:r=ze,i=Tt,ze=n.stateNode.containerInfo,Tt=!0,nn(e,t,n),ze=r,Tt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&ra(n,t,o),i=i.next}while(i!==r)}nn(e,t,n);break;case 1:if(!Ue&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ce(n,t,s)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,nn(e,t,n),Ue=r):nn(e,t,n);break;default:nn(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Q0),t.forEach(function(r){var i=nx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ze=s.stateNode,Tt=!1;break e;case 3:ze=s.stateNode.containerInfo,Tt=!0;break e;case 4:ze=s.stateNode.containerInfo,Tt=!0;break e}s=s.return}if(ze===null)throw Error(B(160));oh(l,o,i),ze=null,Tt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sh(t,e),t=t.sibling}function sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),At(e),r&4){try{ti(3,e,e.return),ro(3,e)}catch(v){Ce(e,e.return,v)}try{ti(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Et(t,e),At(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(Et(t,e),At(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var i=e.stateNode;try{ai(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Lf(i,l),Ps(s,o);var u=Ps(s,l);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Df(i,d):f==="dangerouslySetInnerHTML"?Mf(i,d):f==="children"?ai(i,d):_a(i,f,d,u)}switch(s){case"input":js(i,l);break;case"textarea":Pf(i,l);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var p=l.value;p!=null?ar(i,!!l.multiple,p,!1):h!==!!l.multiple&&(l.defaultValue!=null?ar(i,!!l.multiple,l.defaultValue,!0):ar(i,!!l.multiple,l.multiple?[]:"",!1))}i[xi]=l}catch(v){Ce(e,e.return,v)}}break;case 6:if(Et(t,e),At(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){Ce(e,e.return,v)}}break;case 3:if(Et(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Et(t,e),At(e);break;case 13:Et(t,e),At(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(cu=Ee())),r&4&&Wc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||f,Et(t,e),Ue=u):Et(t,e),At(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(U=e,f=e.child;f!==null;){for(d=U=f;U!==null;){switch(h=U,p=h.child,h.tag){case 0:case 11:case 14:case 15:ti(4,h,h.return);break;case 1:or(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:or(h,h.return);break;case 22:if(h.memoizedState!==null){Qc(d);continue}}p!==null?(p.return=h,U=p):Qc(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=If("display",o))}catch(v){Ce(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(t,e),At(e),r&4&&Wc(e);break;case 21:break;default:Et(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ai(i,""),r.flags&=-33);var l=Hc(e);oa(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Hc(e);la(e,s,o);break;default:throw Error(B(161))}}catch(a){Ce(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q0(e,t,n){U=e,ah(e)}function ah(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var i=U,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gi;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Ue;s=Gi;var u=Ue;if(Gi=o,(Ue=a)&&!u)for(U=i;U!==null;)o=U,a=o.child,o.tag===22&&o.memoizedState!==null?Kc(i):a!==null?(a.return=o,U=a):Kc(i);for(;l!==null;)U=l,ah(l),l=l.sibling;U=i,Gi=s,Ue=u}Vc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,U=l):Vc(e)}}function Vc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||ro(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Lc(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lc(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&fi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ue||t.flags&512&&ia(t)}catch(h){Ce(t,t.return,h)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Qc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Kc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ro(4,t)}catch(a){Ce(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ce(t,i,a)}}var l=t.return;try{ia(t)}catch(a){Ce(t,l,a)}break;case 5:var o=t.return;try{ia(t)}catch(a){Ce(t,o,a)}}}catch(a){Ce(t,t.return,a)}if(t===e){U=null;break}var s=t.sibling;if(s!==null){s.return=t.return,U=s;break}U=t.return}}var G0=Math.ceil,Fl=en.ReactCurrentDispatcher,au=en.ReactCurrentOwner,bt=en.ReactCurrentBatchConfig,oe=0,De=null,Te=null,Re=0,ct=0,sr=bn(0),Pe=0,Si=null,Fn=0,io=0,uu=0,ni=null,tt=null,cu=0,wr=1/0,Vt=null,Bl=!1,sa=null,gn=null,Xi=!1,cn=null,Ol=0,ri=0,aa=null,pl=-1,hl=0;function Ge(){return oe&6?Ee():pl!==-1?pl:pl=Ee()}function xn(e){return e.mode&1?oe&2&&Re!==0?Re&-Re:M0.transition!==null?(hl===0&&(hl=Qf()),hl):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Zf(e.type)),e):1}function _t(e,t,n,r){if(50<ri)throw ri=0,aa=null,Error(B(185));Ti(e,n,r),(!(oe&2)||e!==De)&&(e===De&&(!(oe&2)&&(io|=n),Pe===4&&an(e,Re)),lt(e,r),n===1&&oe===0&&!(t.mode&1)&&(wr=Ee()+500,eo&&Sn()))}function lt(e,t){var n=e.callbackNode;Mg(e,t);var r=Sl(e,e===De?Re:0);if(r===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?_0(qc.bind(null,e)):yp(qc.bind(null,e)),N0(function(){!(oe&6)&&Sn()}),n=null;else{switch(Kf(r)){case 1:n=za;break;case 4:n=Wf;break;case 16:n=bl;break;case 536870912:n=Vf;break;default:n=bl}n=gh(n,uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uh(e,t){if(pl=-1,hl=0,oe&6)throw Error(B(327));var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var r=Sl(e,e===De?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$l(e,r);else{t=r;var i=oe;oe|=2;var l=dh();(De!==e||Re!==t)&&(Vt=null,wr=Ee()+500,In(e,t));do try{J0();break}catch(s){ch(e,s)}while(!0);Ga(),Fl.current=l,oe=i,Te!==null?t=0:(De=null,Re=0,t=Pe)}if(t!==0){if(t===2&&(i=As(e),i!==0&&(r=i,t=ua(e,i))),t===1)throw n=Si,In(e,0),an(e,r),lt(e,Ee()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!X0(i)&&(t=$l(e,r),t===2&&(l=As(e),l!==0&&(r=l,t=ua(e,l))),t===1))throw n=Si,In(e,0),an(e,r),lt(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Tn(e,tt,Vt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=cu+500-Ee(),10<t)){if(Sl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hs(Tn.bind(null,e,tt,Vt),t);break}Tn(e,tt,Vt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pt(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G0(r/1960))-r,10<r){e.timeoutHandle=Hs(Tn.bind(null,e,tt,Vt),r);break}Tn(e,tt,Vt);break;case 5:Tn(e,tt,Vt);break;default:throw Error(B(329))}}}return lt(e,Ee()),e.callbackNode===n?uh.bind(null,e):null}function ua(e,t){var n=ni;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=$l(e,t),e!==2&&(t=tt,tt=n,t!==null&&ca(t)),e}function ca(e){tt===null?tt=e:tt.push.apply(tt,e)}function X0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!It(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~uu,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function qc(e){if(oe&6)throw Error(B(327));pr();var t=Sl(e,0);if(!(t&1))return lt(e,Ee()),null;var n=$l(e,t);if(e.tag!==0&&n===2){var r=As(e);r!==0&&(t=r,n=ua(e,r))}if(n===1)throw n=Si,In(e,0),an(e,t),lt(e,Ee()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,tt,Vt),lt(e,Ee()),null}function du(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(wr=Ee()+500,eo&&Sn())}}function Bn(e){cn!==null&&cn.tag===0&&!(oe&6)&&pr();var t=oe;oe|=1;var n=bt.transition,r=ce;try{if(bt.transition=null,ce=1,e)return e()}finally{ce=r,bt.transition=n,oe=t,!(oe&6)&&Sn()}}function fu(){ct=sr.current,xe(sr)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E0(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Qa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tl();break;case 3:vr(),xe(rt),xe(We),tu();break;case 5:eu(r);break;case 4:vr();break;case 13:xe(ve);break;case 19:xe(ve);break;case 10:Xa(r.type._context);break;case 22:case 23:fu()}n=n.return}if(De=e,Te=e=yn(e.current,null),Re=ct=t,Pe=0,Si=null,uu=io=Fn=0,tt=ni=null,_n!==null){for(t=0;t<_n.length;t++)if(n=_n[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}_n=null}return e}function ch(e,t){do{var n=Te;try{if(Ga(),cl.current=Rl,zl){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zl=!1}if(Rn=0,Ie=Le=ke=null,ei=!1,ki=0,au.current=null,n===null||n.return===null){Pe=1,Si=t,Te=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=Re,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ac(o);if(p!==null){p.flags&=-257,zc(p,o,s,l,t),p.mode&1&&Dc(l,u,t),t=p,a=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break e}else{if(!(t&1)){Dc(l,u,t),pu();break e}a=Error(B(426))}}else if(ye&&s.mode&1){var w=Ac(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),zc(w,o,s,l,t),Ka(kr(a,s));break e}}l=a=kr(a,s),Pe!==4&&(Pe=2),ni===null?ni=[l]:ni.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=Kp(l,a,t);Tc(l,m);break e;case 1:s=a;var x=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gn===null||!gn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var C=qp(l,s,t);Tc(l,C);break e}}l=l.return}while(l!==null)}ph(n)}catch(T){t=T,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function dh(){var e=Fl.current;return Fl.current=Rl,e===null?Rl:e}function pu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),De===null||!(Fn&268435455)&&!(io&268435455)||an(De,Re)}function $l(e,t){var n=oe;oe|=2;var r=dh();(De!==e||Re!==t)&&(Vt=null,In(e,t));do try{Y0();break}catch(i){ch(e,i)}while(!0);if(Ga(),oe=n,Fl.current=r,Te!==null)throw Error(B(261));return De=null,Re=0,Pe}function Y0(){for(;Te!==null;)fh(Te)}function J0(){for(;Te!==null&&!Sg();)fh(Te)}function fh(e){var t=mh(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?ph(e):Te=t,au.current=null}function ph(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=V0(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Te=null;return}}else if(n=W0(n,t,ct),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Pe===0&&(Pe=5)}function Tn(e,t,n){var r=ce,i=bt.transition;try{bt.transition=null,ce=1,Z0(e,t,n,r)}finally{bt.transition=i,ce=r}return null}function Z0(e,t,n,r){do pr();while(cn!==null);if(oe&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Ig(e,l),e===De&&(Te=De=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xi||(Xi=!0,gh(bl,function(){return pr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var o=ce;ce=1;var s=oe;oe|=4,au.current=null,K0(e,n),sh(n,e),v0($s),Cl=!!Os,$s=Os=null,e.current=n,q0(n),Cg(),oe=s,ce=o,bt.transition=l}else e.current=n;if(Xi&&(Xi=!1,cn=e,Ol=i),l=e.pendingLanes,l===0&&(gn=null),Ng(n.stateNode),lt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bl)throw Bl=!1,e=sa,sa=null,e;return Ol&1&&e.tag!==0&&pr(),l=e.pendingLanes,l&1?e===aa?ri++:(ri=0,aa=e):ri=0,Sn(),null}function pr(){if(cn!==null){var e=Kf(Ol),t=bt.transition,n=ce;try{if(bt.transition=null,ce=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Ol=0,oe&6)throw Error(B(331));var i=oe;for(oe|=4,U=e.current;U!==null;){var l=U,o=l.child;if(U.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(U=u;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:ti(8,f,l)}var d=f.child;if(d!==null)d.return=f,U=d;else for(;U!==null;){f=U;var h=f.sibling,p=f.return;if(ih(f),f===u){U=null;break}if(h!==null){h.return=p,U=h;break}U=p}}}var g=l.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}U=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,U=o;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ti(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,U=m;break e}U=l.return}}var x=e.current;for(U=x;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=x;U!==null;){if(s=U,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ro(9,s)}}catch(T){Ce(s,s.return,T)}if(s===o){U=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,U=C;break e}U=s.return}}if(oe=i,Sn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gl,e)}catch{}r=!0}return r}finally{ce=n,bt.transition=t}}return!1}function Gc(e,t,n){t=kr(n,t),t=Kp(e,t,1),e=mn(e,t,1),t=Ge(),e!==null&&(Ti(e,1,t),lt(e,t))}function Ce(e,t,n){if(e.tag===3)Gc(e,e,n);else for(;t!==null;){if(t.tag===3){Gc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=kr(n,e),e=qp(t,e,1),t=mn(t,e,1),e=Ge(),t!==null&&(Ti(t,1,e),lt(t,e));break}}t=t.return}}function ex(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Re&n)===n&&(Pe===4||Pe===3&&(Re&130023424)===Re&&500>Ee()-cu?In(e,0):uu|=n),lt(e,t)}function hh(e,t){t===0&&(e.mode&1?(t=Oi,Oi<<=1,!(Oi&130023424)&&(Oi=4194304)):t=1);var n=Ge();e=Jt(e,t),e!==null&&(Ti(e,t,n),lt(e,n))}function tx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hh(e,n)}function nx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),hh(e,n)}var mh;mh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,H0(e,t,n);nt=!!(e.flags&131072)}else nt=!1,ye&&t.flags&1048576&&vp(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fl(e,t),e=t.pendingProps;var i=gr(t,We.current);fr(t,n),i=ru(null,t,r,e,i,n);var l=iu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(l=!0,Ll(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ja(t),i.updater=no,t.stateNode=i,i._reactInternals=t,Xs(t,r,e,n),t=Zs(null,t,r,!0,l,n)):(t.tag=0,ye&&l&&Va(t),Ke(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ix(r),e=Nt(r,e),i){case 0:t=Js(null,t,r,e,n);break e;case 1:t=Bc(null,t,r,e,n);break e;case 11:t=Rc(null,t,r,e,n);break e;case 14:t=Fc(null,t,r,Nt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Js(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Bc(e,t,r,i,n);case 3:e:{if(Jp(t),e===null)throw Error(B(387));r=t.pendingProps,l=t.memoizedState,i=l.element,jp(e,t),Dl(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=kr(Error(B(423)),t),t=Oc(e,t,r,n,i);break e}else if(r!==i){i=kr(Error(B(424)),t),t=Oc(e,t,r,n,i);break e}else for(dt=hn(t.stateNode.containerInfo.firstChild),ft=t,ye=!0,Lt=null,n=Sp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===i){t=Zt(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return Ep(t),e===null&&Ks(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,Us(r,i)?o=null:l!==null&&Us(r,l)&&(t.flags|=32),Yp(e,t),Ke(e,t,o,n),t.child;case 6:return e===null&&Ks(t),null;case 13:return Zp(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yr(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Rc(e,t,r,i,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,he(Ml,r._currentValue),r._currentValue=o,l!==null)if(It(l.value,o)){if(l.children===i.children&&!rt.current){t=Zt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Gt(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),qs(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(B(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),qs(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fr(t,n),i=St(i),r=r(i),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,i=Nt(r,t.pendingProps),i=Nt(r.type,i),Fc(e,t,r,i,n);case 15:return Gp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),fl(e,t),t.tag=1,it(r)?(e=!0,Ll(t)):e=!1,fr(t,n),Qp(t,r,i),Xs(t,r,i,n),Zs(null,t,r,!0,e,n);case 19:return eh(e,t,n);case 22:return Xp(e,t,n)}throw Error(B(156,t.tag))};function gh(e,t){return Hf(e,t)}function rx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new rx(e,t,n,r)}function hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ix(e){if(typeof e=="function")return hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ia)return 11;if(e===Da)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ml(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")hu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yn:return Dn(n.children,i,l,t);case Ma:o=8,i|=8;break;case ks:return e=wt(12,n,t,i|2),e.elementType=ks,e.lanes=l,e;case ws:return e=wt(13,n,t,i),e.elementType=ws,e.lanes=l,e;case bs:return e=wt(19,n,t,i),e.elementType=bs,e.lanes=l,e;case Ef:return lo(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cf:o=10;break e;case jf:o=9;break e;case Ia:o=11;break e;case Da:o=14;break e;case ln:o=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Dn(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function lo(e,t,n,r){return e=wt(22,e,r,t),e.elementType=Ef,e.lanes=n,e.stateNode={isHidden:!1},e}function Vo(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Qo(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mu(e,t,n,r,i,l,o,s,a){return e=new lx(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ja(l),e}function ox(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xh(e){if(!e)return kn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(it(n))return xp(e,n,t)}return t}function yh(e,t,n,r,i,l,o,s,a){return e=mu(n,r,!0,e,i,l,o,s,a),e.context=xh(null),n=e.current,r=Ge(),i=xn(n),l=Gt(r,i),l.callback=t??null,mn(n,l,i),e.current.lanes=i,Ti(e,i,r),lt(e,r),e}function oo(e,t,n,r){var i=t.current,l=Ge(),o=xn(i);return n=xh(n),t.context===null?t.context=n:t.pendingContext=n,t=Gt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(i,t,o),e!==null&&(_t(e,i,o,l),ul(e,i,o)),o}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function sx(){return null}var vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function xu(e){this._internalRoot=e}so.prototype.render=xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));oo(e,t,null,null)};so.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){oo(null,e,null,null)}),t[Yt]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Jf(e)}};function yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function ax(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=Ul(o);l.call(u)}}var o=yh(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=o,e[Yt]=o.current,mi(e.nodeType===8?e.parentNode:e),Bn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ul(a);s.call(u)}}var a=mu(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=a,e[Yt]=a.current,mi(e.nodeType===8?e.parentNode:e),Bn(function(){oo(t,a,n,r)}),a}function uo(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=Ul(o);s.call(a)}}oo(t,o,e,i)}else o=ax(n,t,e,i,r);return Ul(o)}qf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kr(t.pendingLanes);n!==0&&(Ra(t,n|1),lt(t,Ee()),!(oe&6)&&(wr=Ee()+500,Sn()))}break;case 13:Bn(function(){var r=Jt(e,1);if(r!==null){var i=Ge();_t(r,e,1,i)}}),gu(e,1)}};Fa=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=Ge();_t(t,e,134217728,n)}gu(e,134217728)}};Gf=function(e){if(e.tag===13){var t=xn(e),n=Jt(e,t);if(n!==null){var r=Ge();_t(n,e,t,r)}gu(e,t)}};Xf=function(){return ce};Yf=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};Ms=function(e,t,n){switch(t){case"input":if(js(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zl(r);if(!i)throw Error(B(90));Tf(r),js(r,i)}}}break;case"textarea":Pf(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};Rf=du;Ff=Bn;var ux={usingClientEntryPoint:!1,Events:[Pi,tr,Zl,Af,zf,du]},Or={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cx={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$f(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Gl=Yi.inject(cx),Bt=Yi}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(t))throw Error(B(200));return ox(e,t,null,n)};mt.createRoot=function(e,t){if(!yu(e))throw Error(B(299));var n=!1,r="",i=vh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mu(e,1,!1,null,null,n,!1,r,i),e[Yt]=t.current,mi(e.nodeType===8?e.parentNode:e),new xu(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=$f(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return Bn(e)};mt.hydrate=function(e,t,n){if(!ao(t))throw Error(B(200));return uo(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!yu(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=vh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yh(t,null,e,1,n??null,i,!1,l,o),e[Yt]=t.current,mi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new so(t)};mt.render=function(e,t,n){if(!ao(t))throw Error(B(200));return uo(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!ao(e))throw Error(B(40));return e._reactRootContainer?(Bn(function(){uo(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};mt.unstable_batchedUpdates=du;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ao(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return uo(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kh)}catch(e){console.error(e)}}kh(),kf.exports=mt;var dx=kf.exports,Jc=dx;ys.createRoot=Jc.createRoot,ys.hydrateRoot=Jc.hydrateRoot;var da=new Map,Ji=new WeakMap,Zc=0,fx;function px(e){return e?(Ji.has(e)||(Zc+=1,Ji.set(e,Zc.toString())),Ji.get(e)):"0"}function hx(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?px(e.root):e[t]}`).toString()}function mx(e){const t=hx(e);let n=da.get(t);if(!n){const r=new Map;let i;const l=new IntersectionObserver(o=>{o.forEach(s=>{var a;const u=s.isIntersecting&&i.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(a=r.get(s.target))==null||a.forEach(f=>{f(u,s)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},da.set(t,n)}return n}function gx(e,t,n={},r=fx){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:l,elements:o}=mx(n),s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),l.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(o.delete(e),l.unobserve(e)),o.size===0&&(l.disconnect(),da.delete(i))}}function xx({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:l,skip:o,initialInView:s,fallbackInView:a,onChange:u}={}){var f;const[d,h]=N.useState(null),p=N.useRef(u),g=N.useRef(s),[v,w]=N.useState({inView:!!s,entry:void 0});p.current=u,N.useEffect(()=>{if(g.current===void 0&&(g.current=s),o||!d)return;let C;return C=gx(d,(T,j)=>{const L=g.current;g.current=T,!(L===void 0&&!T)&&(w({inView:T,entry:j}),p.current&&p.current(T,j),j.isIntersecting&&l&&C&&(C(),C=void 0))},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},a),()=>{C&&C()}},[Array.isArray(e)?e.toString():e,d,i,r,l,o,n,a,t]);const m=(f=v.entry)==null?void 0:f.target,x=N.useRef(void 0);!d&&m&&!l&&!o&&x.current!==m&&(x.current=m,w({inView:!!s,entry:void 0}),g.current=s);const y=[h,v.inView,v.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const yx={},ed=e=>{let t;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(yx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},vx=e=>e?ed(e):ed;var wh={exports:{}},bh={},Sh={exports:{}},Ch={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=N;function kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wx=typeof Object.is=="function"?Object.is:kx,bx=br.useState,Sx=br.useEffect,Cx=br.useLayoutEffect,jx=br.useDebugValue;function Ex(e,t){var n=t(),r=bx({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return Cx(function(){i.value=n,i.getSnapshot=t,Ko(i)&&l({inst:i})},[e,n,t]),Sx(function(){return Ko(i)&&l({inst:i}),e(function(){Ko(i)&&l({inst:i})})},[e]),jx(n),n}function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wx(e,n)}catch{return!0}}function Nx(e,t){return t()}var Tx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nx:Ex;Ch.useSyncExternalStore=br.useSyncExternalStore!==void 0?br.useSyncExternalStore:Tx;Sh.exports=Ch;var Lx=Sh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=N,Px=Lx;function _x(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mx=typeof Object.is=="function"?Object.is:_x,Ix=Px.useSyncExternalStore,Dx=co.useRef,Ax=co.useEffect,zx=co.useMemo,Rx=co.useDebugValue;bh.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=Dx(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=zx(function(){function a(p){if(!u){if(u=!0,f=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,Mx(f,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(f=p,g):(f=p,d=v)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var s=Ix(e,l[0],l[1]);return Ax(function(){o.hasValue=!0,o.value=s},[s]),Rx(s),s};wh.exports=bh;var Fx=wh.exports;const Bx=Kl(Fx),jh={},{useDebugValue:Ox}=yf,{useSyncExternalStoreWithSelector:$x}=Bx;let td=!1;const Ux=e=>e;function Hx(e,t=Ux,n){(jh?"production":void 0)!=="production"&&n&&!td&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),td=!0);const r=$x(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ox(r),r}const nd=e=>{(jh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?vx(e):e,n=(r,i)=>Hx(t,r,i);return Object.assign(n,t),n},Eh=e=>e?nd(e):nd,vu=500,Wx=vu+100,rd=2,Qe="/api";function Me(e,t){try{return JSON.parse(e)}catch{return t}}function Vx(e,t){return!(e==="done"&&t!=="done")}const Z=Eh((e,t)=>({threads:[],activeThreadId:null,isLoading:!1,error:null,showArchived:!1,sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{},setActiveThread:n=>{const r=t().activeThreadId,i=t().threads,l=i.find(s=>s.id===n),o=i.find(s=>s.id===r);if(r&&r!==n){const s=(l==null?void 0:l.parentId)===r,a=(o==null?void 0:o.parentId)===n;!s&&!a&&t().unsubscribeFromThread(r)}if(e({activeThreadId:n}),n&&t().subscribeToThread(n),l!=null&&l.parentId&&t().subscribeToThread(l.parentId),n){const s=i.filter(a=>a.parentId===n&&!a.archivedAt);for(const a of s)(a.status==="pending"||a.status==="active")&&t().subscribeToThread(a.id)}},fetchThreads:async n=>{var r;e({isLoading:!0,error:null});try{const l=await fetch(`${Qe}/threads${n?"?include_archived=true":""}`);if(!l.ok){const h=(await l.json().catch(()=>({}))).detail||l.statusText;throw new Error(`${h} (HTTP ${l.status})`)}const o=await l.json(),s=t().threads,a=new Map(s.map(d=>[d.id,{lastUsage:d.lastUsage,lastCostUsd:d.lastCostUsd}])),u=o.map(d=>{var h,p;return{...d,lastUsage:(h=a.get(d.id))==null?void 0:h.lastUsage,lastCostUsd:(p=a.get(d.id))==null?void 0:p.lastCostUsd}}),f={};for(const d of u){const h=((r=d.messages)==null?void 0:r.length)||0;f[d.id]={hasMore:h>=50,total:h,loadedCount:h,isLoading:!1}}e({threads:u,pagination:f,isLoading:!1})}catch(i){const l=i instanceof Error?i.message:"Failed to fetch threads";e({error:l,isLoading:!1})}},createThread:async n=>{const r=await fetch(`${Qe}/threads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.json();return e(l=>({threads:[...l.threads,i]})),i},sendMessage:async(n,r,i)=>{const l=`temp-${Date.now()}`,o={id:l,role:"user",content:r,timestamp:new Date().toISOString()};e(f=>({threads:f.threads.map(d=>d.id===n?{...d,messages:[...d.messages,o],status:"pending"}:d)})),t().clearStreamingBlocks(n);const s=new AbortController,a=setTimeout(()=>s.abort(),3e5),u={content:r};i!=null&&i.images&&i.images.length>0&&(u.images=i.images),i!=null&&i.fileRefs&&i.fileRefs.length>0&&(u.file_references=i.fileRefs);try{const f=await fetch(`${Qe}/threads/${n}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),signal:s.signal});if(!f.ok){if(f.status===499){e(v=>({threads:v.threads.map(w=>w.id===n?{...w,messages:w.messages.filter(m=>m.id!==l),status:"active"}:w)}));return}const h=await f.json().catch(()=>({})),p=h.detail||f.statusText,g=h.type?` [${h.type}]`:"";throw new Error(`${p}${g} (HTTP ${f.status})`)}const d=await f.json();e(h=>{const p=h.threads.find(m=>m.id===n);if(!p)return h;const g=new Set(p.messages.map(m=>m.id)),w=[...p.messages.filter(m=>m.id!==l)];return d.userMessage&&!g.has(d.userMessage.id)&&w.push(d.userMessage),d.assistantMessage&&!g.has(d.assistantMessage.id)&&w.push(d.assistantMessage),{threads:h.threads.map(m=>m.id===n?{...m,messages:w,status:"active"}:m)}})}catch(f){if(f instanceof DOMException&&f.name==="AbortError"){const h="Request timed out after 5 minutes";throw e(p=>({threads:p.threads.map(g=>g.id===n?{...g,status:"needs_attention"}:g),error:h})),new Error(h)}const d=f instanceof Error?f.message:"Failed to send message";throw e(h=>({threads:h.threads.map(p=>p.id===n?{...p,status:"needs_attention"}:p),error:d})),f}finally{clearTimeout(a)}},stopThread:async n=>{try{const r=await fetch(`${Qe}/threads/${n}/stop`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}catch(r){if(r instanceof Error&&r.message.includes("No active task"))return;throw r}},updateThreadStatus:(n,r)=>{e(i=>({threads:i.threads.map(l=>l.id===n?{...l,status:r}:l)}))},updateThreadTitle:async(n,r)=>{const i=await fetch(`${Qe}/threads/${n}/title`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,title:r}:o)}))},updateThreadConfig:async(n,r)=>{const i=await fetch(`${Qe}/threads/${n}/config`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,...r}:o)}))},clearThreadMessages:async n=>{const r=await fetch(`${Qe}/threads/${n}/messages`,{method:"DELETE"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const{[n]:l,...o}=i.threadNotifications;return{threads:i.threads.map(s=>s.id===n?{...s,messages:[],sessionId:null}:s),threadNotifications:o}})},archiveThread:async n=>{const r=await fetch(`${Qe}/threads/${n}/archive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const l=i.threads.find(a=>a.id===n),o=i.activeThreadId===n;let s=i.activeThreadId;if(o)if(l!=null&&l.parentId)s=l.parentId;else{const a=i.threads.find(u=>u.id!==n&&!u.parentId&&!u.archivedAt);s=(a==null?void 0:a.id)||null}return{threads:i.threads.map(a=>a.id===n?{...a,archivedAt:new Date().toISOString()}:a),activeThreadId:s}})},unarchiveThread:async n=>{const r=await fetch(`${Qe}/threads/${n}/unarchive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>({threads:i.threads.map(l=>l.id===n?{...l,archivedAt:null}:l)}))},resetAllThreads:async()=>{const n=await fetch(`${Qe}/threads/all?confirm=true`,{method:"DELETE"});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.detail||`HTTP ${n.status}: ${n.statusText}`)}t().cleanupAllConnections(),e({threads:[],activeThreadId:null,error:null})},setShowArchived:n=>{e({showArchived:n}),t().fetchThreads(!0)},loadMoreMessages:async n=>{const{pagination:r,threads:i}=t(),l=r[n],o=i.find(s=>s.id===n);if(!(l!=null&&l.isLoading||!(l!=null&&l.hasMore))){e(s=>({pagination:{...s.pagination,[n]:{...s.pagination[n],isLoading:!0}}}));try{const a=((o==null?void 0:o.messages)||[]).length,u=await fetch(`${Qe}/threads/${n}/messages?limit=50&offset=${a}`);if(!u.ok)throw new Error(`HTTP ${u.status}`);const f=await u.json();e(d=>{const h=d.threads.find(v=>v.id===n);if(!h)return d;const p=new Set(h.messages.map(v=>v.id)),g=f.messages.filter(v=>!p.has(v.id));return{threads:d.threads.map(v=>v.id===n?{...v,messages:[...g,...v.messages]}:v),pagination:{...d.pagination,[n]:{hasMore:f.hasMore,total:f.total,loadedCount:h.messages.length+g.length,isLoading:!1}}}})}catch(s){console.error("Failed to load more messages:",s),e(a=>({pagination:{...a.pagination,[n]:{...a.pagination[n],isLoading:!1}}}))}}},subscribeToThread:(n,r)=>{const{sseConnections:i}=t();if(i[n])return;const l=r?`${Qe}/threads/${n}/stream?last_event_id=${r}`:`${Qe}/threads/${n}/stream`,o=new EventSource(l),s=a=>{a.lastEventId&&e(u=>{const f=u.sseConnections[n];return f?{sseConnections:{...u.sseConnections,[n]:{...f,lastEventId:a.lastEventId}}}:u})};o.addEventListener("connected",()=>{console.log(`[SSE] Connected to thread ${n}`),e(a=>{const u=a.sseConnections[n];return u?{sseConnections:{...a.sseConnections,[n]:{...u,reconnectAttempts:0,reconnectTimeoutId:void 0}}}:a})}),o.addEventListener("text_delta",a=>{var f;s(a);const u=Me(a.data,{content:""});console.log("[SSE] text_delta received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendTextToLastBlock(n,u.content)}),o.addEventListener("thinking",a=>{var f;s(a);const u=Me(a.data,{});console.log("[SSE] thinking received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendThinkingToLastBlock(n,u.content)}),o.addEventListener("tool_use",a=>{s(a);const u=Me(a.data,{});console.log("[SSE] tool_use received:",u,"id:",u.id);const f=u.tool||u.name;f&&t().appendStreamingBlock(n,{type:"tool_use",name:f,input:u.input,id:u.id,isComplete:!1})}),o.addEventListener("tool_input",a=>{s(a);const u=Me(a.data,{});console.log("[SSE] tool_input received:",u),u.id&&u.input&&t().updateBlockInput(n,u.id,u.input)}),o.addEventListener("tool_result",a=>{s(a);const u=Me(a.data,{});if(console.log("[SSE] tool_result received:",u,"tool_use_id:",u.tool_use_id),u.tool_use_id){const f=u.is_error===!0,d=f&&typeof u.content=="string"?u.content:void 0;console.log("[SSE] Marking block complete:",u.tool_use_id,"isError:",f),t().markBlockComplete(n,u.tool_use_id,f,d),u.thread_id&&t().setSpawnedThreadId(u.tool_use_id,u.thread_id)}else console.warn("[SSE] tool_result missing tool_use_id:",u)}),o.addEventListener("question",a=>{s(a);const u=Me(a.data,{});u.questions&&u.questions.length>0&&t().setPendingQuestion(n,u.questions)}),o.addEventListener("plan_approval",a=>{s(a);const u=Me(a.data,{});if(u.timeout){console.warn("[SSE] Plan approval timed out:",u.message);return}u.planContent!==void 0&&t().setPendingPlanApproval(n,{planFilePath:u.planFilePath||"Plan",planContent:u.planContent||"",allowedPrompts:u.allowedPrompts})}),o.addEventListener("message",a=>{s(a);const u=Me(a.data,{});u.message&&e(f=>{const d=f.threads.find(p=>p.id===n);return(d==null?void 0:d.messages.some(p=>p.id===u.message.id))?{threads:f.threads.map(p=>p.id===n?{...p,status:u.status||p.status}:p)}:{threads:f.threads.map(p=>p.id===n?{...p,messages:[...p.messages,u.message],status:u.status||p.status}:p)}})}),o.addEventListener("status_change",a=>{s(a);const u=Me(a.data,{});u.status&&t().updateThreadStatus(n,u.status)}),o.addEventListener("stopped",a=>{s(a),console.log("[SSE] stopped received for thread",n),t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}),o.addEventListener("config_change",a=>{s(a);const u=Me(a.data,{});e(f=>({threads:f.threads.map(d=>d.id===n?{...d,...u.model!==void 0&&{model:u.model},...u.extendedThinking!==void 0&&{extendedThinking:u.extendedThinking},...u.permissionMode!==void 0&&{permissionMode:u.permissionMode},...u.autoReact!==void 0&&{autoReact:u.autoReact}}:d)}))}),o.addEventListener("title_change",a=>{s(a);const u=Me(a.data,{});u.title&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,title:u.title}:d)}))}),o.addEventListener("subthread_status",a=>{s(a);const u=Me(a.data,{});if(u.threadId&&u.status){const f=t().threads.find(d=>d.id===u.threadId);if(!Vx(f==null?void 0:f.status,u.status)){console.log(`[SSE] Ignoring status change from '${f==null?void 0:f.status}' to '${u.status}' for thread ${u.threadId}`);return}t().updateThreadStatus(u.threadId,u.status),(u.status==="done"||u.status==="needs_attention")&&t().addThreadNotification(n,{threadId:u.threadId,threadTitle:u.title||"Sub-thread",timestamp:new Date().toISOString(),status:u.status})}}),o.addEventListener("thread_created",a=>{s(a);const u=Me(a.data,{});u.thread&&(e(f=>f.threads.some(h=>h.id===u.thread.id)?f:{threads:[...f.threads,u.thread]}),t().addThreadNotification(n,{threadId:u.thread.id,threadTitle:u.thread.title,timestamp:new Date().toISOString()}),u.thread.parentId===n&&t().sseConnections[n]&&t().subscribeToThread(u.thread.id,"0"))}),o.addEventListener("thread_archived",a=>{s(a);const u=Me(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:new Date().toISOString()}:d)}))}),o.addEventListener("thread_unarchived",a=>{s(a);const u=Me(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:null}:d)}))}),o.addEventListener("usage",a=>{s(a);const u=Me(a.data,{});u.usage&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,lastUsage:u.usage,lastCostUsd:u.totalCostUsd}:d)}))}),o.addEventListener("complete",a=>{s(a);const u=Me(a.data,{});console.log("[SSE] complete received"),setTimeout(()=>{t().clearStreamingBlocks(n)},Wx),u.message?e(f=>{const d=f.threads.find(p=>p.id===n);return(d==null?void 0:d.messages.some(p=>p.id===u.message.id))?{threads:f.threads.map(p=>p.id===n?{...p,status:u.status||p.status}:p)}:{threads:f.threads.map(p=>p.id===n?{...p,messages:[...p.messages,u.message],status:u.status||p.status}:p)}}):u.status&&t().updateThreadStatus(n,u.status)}),o.addEventListener("error",a=>{const u=a,f=u.data?Me(u.data,{}):{};console.error(`[SSE] Error for thread ${n}:`,f.error||"Unknown error")}),o.onerror=()=>{const a=t().sseConnections[n],u=(a==null?void 0:a.reconnectAttempts)??0,f=5;if(console.error(`[SSE] Connection lost for thread ${n} (attempt ${u+1}/${f})`),a!=null&&a.reconnectTimeoutId&&clearTimeout(a.reconnectTimeoutId),o.close(),u>=f){console.error(`[SSE] Max reconnection attempts reached for thread ${n}`),t().unsubscribeFromThread(n);return}const d=t().activeThreadId,h=d?t().threads.find(w=>w.id===d):null,p=(h==null?void 0:h.parentId)===n;if(d!==n&&!p){t().unsubscribeFromThread(n);return}const g=Math.min(1e3*Math.pow(2,u),16e3);console.log(`[SSE] Reconnecting to thread ${n} in ${g}ms`);const v=setTimeout(()=>{var y;const w=t().activeThreadId,m=w?t().threads.find(C=>C.id===w):null;if(w===n||(m==null?void 0:m.parentId)===n){const C=(y=t().sseConnections[n])==null?void 0:y.lastEventId,{[n]:T,...j}=t().sseConnections;e({sseConnections:j}),t().subscribeToThread(n,C)}},g);e(w=>({sseConnections:{...w.sseConnections,[n]:{...a,reconnectAttempts:u+1,reconnectTimeoutId:v}}}))},e({sseConnections:{...i,[n]:{eventSource:o,threadId:n,reconnectAttempts:0,lastEventId:r}}})},unsubscribeFromThread:n=>{const{sseConnections:r}=t(),i=r[n];if(i){i.reconnectTimeoutId&&clearTimeout(i.reconnectTimeoutId),i.eventSource.close();const{[n]:l,...o}=r;e({sseConnections:o})}},appendStreamingBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=i.recentToolBlockIds[n]||[];let s=l.map(u=>({...u,isFinalized:!0})),a=[...o];if(r.type==="tool_use"&&r.id){for(console.log(`[FIFO] New tool_use block: ${r.id}, queue before:`,a,`limit: ${rd}`);a.length>=rd;){const u=a.shift();console.log(`[FIFO] Collapsing oldest block: ${u}`),u&&(s=s.map(f=>f.type==="tool_use"&&f.id===u?{...f,isCollapsed:!0}:f))}a.push(r.id),console.log("[FIFO] Queue after:",a)}else r.type==="tool_use"&&console.log("[FIFO] Tool block missing id:",r);return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{...r,timestamp:Date.now(),isFinalized:!1}]},expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:null},recentToolBlockIds:{...i.recentToolBlockIds,[n]:a}}})},appendTextToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="text"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"text",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},appendThinkingToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="thinking"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"thinking",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},markBlockComplete:(n,r,i=!1,l)=>{console.log(`[SSE] markBlockComplete called: threadId=${n}, toolUseId=${r}, isError=${i}`),e(o=>{const s=o.streamingBlocks[n]||[],a=s.findIndex(u=>u.type==="tool_use"&&u.id===r);return console.log(`[SSE] Found block at index ${a}, total blocks: ${s.length}`),{streamingBlocks:{...o.streamingBlocks,[n]:s.map(u=>u.type==="tool_use"&&u.id===r?{...u,isComplete:!0,isFinalized:!0,isError:i,errorMessage:l}:u)}}})},updateBlockInput:(n,r,i)=>{console.log(`[SSE] updateBlockInput called: threadId=${n}, toolUseId=${r}`),e(l=>{const o=l.streamingBlocks[n]||[];return{streamingBlocks:{...l.streamingBlocks,[n]:o.map(s=>s.type==="tool_use"&&s.id===r?{...s,input:i}:s)}}})},collapseToolBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[];return{streamingBlocks:{...i.streamingBlocks,[n]:l.map(o=>o.type==="tool_use"&&o.id===r?{...o,isCollapsed:!0}:o)}}})},clearStreamingBlocks:n=>{e(r=>{const{[n]:i,...l}=r.streamingBlocks,{[n]:o,...s}=r.expandedStreamingBlockId,{[n]:a,...u}=r.recentToolBlockIds;return{streamingBlocks:l,expandedStreamingBlockId:s,recentToolBlockIds:u}})},setExpandedStreamingBlockId:(n,r)=>{e(i=>({expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:r}}))},setPendingQuestion:(n,r)=>{e(i=>({pendingQuestion:{...i.pendingQuestion,[n]:r}}))},clearPendingQuestion:n=>{e(r=>{const{[n]:i,...l}=r.pendingQuestion;return{pendingQuestion:l}})},answerQuestion:async(n,r)=>{const i=await fetch(`${Qe}/threads/${n}/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>{const s=[...l.streamingBlocks[n]||[]];for(let a=s.length-1;a>=0;a--){const u=s[a];if(u.type==="tool_use"&&u.name==="AskUserQuestion"&&!u.submittedAnswers){s[a]={...u,submittedAnswers:r,isComplete:!0};break}}return{streamingBlocks:{...l.streamingBlocks,[n]:s}}}),t().clearPendingQuestion(n)},setPendingPlanApproval:(n,r)=>{e(i=>({pendingPlanApproval:{...i.pendingPlanApproval,[n]:r}}))},clearPendingPlanApproval:n=>{e(r=>{const{[n]:i,...l}=r.pendingPlanApproval;return{pendingPlanApproval:l}})},handlePlanAction:async(n,r,i)=>{const l=await fetch(`${Qe}/threads/${n}/plan-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,permissionMode:i})});if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.detail||`HTTP ${l.status}: ${l.statusText}`)}t().clearPendingPlanApproval(n)},addThreadNotification:(n,r)=>{e(i=>({threadNotifications:{...i.threadNotifications,[n]:[...i.threadNotifications[n]||[],r]}}))},clearThreadNotifications:n=>{e(r=>{const{[n]:i,...l}=r.threadNotifications;return{threadNotifications:l}})},cleanupAllConnections:()=>{const{sseConnections:n}=t();Object.values(n).forEach(r=>{r.eventSource.close()}),e({sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{}})},setSpawnedThreadId:(n,r)=>{e(i=>({spawnedThreadIds:{...i.spawnedThreadIds,[n]:r}}))},getSpawnedThreadId:n=>t().spawnedThreadIds[n]})),qo=[{value:"claude-opus-4-5",label:"Opus",desc:"Most powerful",color:"bg-amber-500"},{value:"claude-sonnet-4-5",label:"Sonnet",desc:"Fast & capable",color:"bg-violet-500"},{value:"claude-haiku-4-5",label:"Haiku",desc:"Quick responses",color:"bg-emerald-500"}],Go=[{value:"plan",label:"Plan",desc:"Review before executing",color:"border-blue-500 bg-blue-500/10 text-blue-700 dark:text-blue-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-approve file changes",color:"border-green-500 bg-green-500/10 text-green-700 dark:text-green-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},{value:"default",label:"Normal",desc:"Prompt for each action",color:"border-gray-400 bg-gray-500/10 text-gray-700 dark:text-gray-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"bypassPermissions",label:"Bypass",desc:"Skip all prompts",color:"border-red-500 bg-red-500/10 text-red-700 dark:text-red-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}];function Qx({isOpen:e,parentModel:t,parentPermissionMode:n,onSubmit:r,onCancel:i}){const[l,o]=N.useState(""),[s,a]=N.useState(t),[u,f]=N.useState(n),d=N.useRef(null),h=N.useRef(null),p=N.useId();N.useEffect(()=>{var m;e?(h.current=document.activeElement,o(""),a(t),f(n),requestAnimationFrame(()=>{var x;return(x=d.current)==null?void 0:x.focus()})):(m=h.current)==null||m.focus()},[e,t,n]),N.useEffect(()=>{if(!e)return;const m=x=>{x.key==="Escape"&&i()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,i]);const g=N.useCallback(m=>{if(m.key==="Tab"){const x=m.currentTarget.querySelectorAll("input, button:not([disabled])"),y=x[0],C=x[x.length-1];m.shiftKey&&document.activeElement===y?(m.preventDefault(),C==null||C.focus()):!m.shiftKey&&document.activeElement===C&&(m.preventDefault(),y==null||y.focus())}},[]),v=m=>{m.preventDefault(),l.trim()&&r({title:l.trim(),model:s,permissionMode:u})},w=m=>{m.target===m.currentTarget&&i()};return e?(qo.find(m=>m.value===s)||qo[0],Go.find(m=>m.value===u)||Go[2],c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:w,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":p,className:"bg-background border border-border rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",onClick:m=>m.stopPropagation(),onKeyDown:g,children:[c.jsxs("div",{className:"px-6 py-4 border-b border-border bg-muted/30",children:[c.jsxs("h2",{id:p,className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Create Sub-Thread"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Spawn a parallel task with its own settings"})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${p}-title`,className:"block text-sm font-medium mb-2",children:"Thread Title"}),c.jsx("input",{id:`${p}-title`,ref:d,type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"e.g., Refactor auth module",className:`w-full px-4 py-2.5 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
                         placeholder:text-muted-foreground/50`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:qo.map(m=>c.jsxs("button",{type:"button",onClick:()=>a(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${s===m.value?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${m.color}`}),c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),s===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Permission Mode"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Go.map(m=>c.jsxs("button",{type:"button",onClick:()=>f(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${u===m.value?`${m.color} border-current`:"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[m.icon,c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),u===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))}),u==="bypassPermissions"&&c.jsxs("p",{className:"mt-2 text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Caution: All actions will be auto-approved"]})]}),c.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:!l.trim(),className:`px-5 py-2 text-sm bg-primary text-primary-foreground rounded-lg
                         hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed
                         transition-colors font-medium flex items-center gap-2`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Thread"]})]})]})]})})):null}const Kx={};function qx(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var l;const o=a=>a===null?null:JSON.parse(a,void 0),s=(l=n.getItem(i))!=null?l:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,l)=>n.setItem(i,JSON.stringify(l,void 0)),removeItem:i=>n.removeItem(i)}}const Ci=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ci(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ci(r)(n)}}}},Gx=(e,t)=>(n,r,i)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const s=new Set,a=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...w)},r,i);const f=Ci(l.serialize),d=()=>{const w=l.partialize({...r()});let m;const x=f({state:w,version:l.version}).then(y=>u.setItem(l.name,y)).catch(y=>{m=y});if(m)throw m;return x},h=i.setState;i.setState=(w,m)=>{h(w,m),d()};const p=e((...w)=>{n(...w),d()},r,i);let g;const v=()=>{var w;if(!u)return;o=!1,s.forEach(x=>x(r()));const m=((w=l.onRehydrateStorage)==null?void 0:w.call(l,r()))||void 0;return Ci(u.getItem.bind(u))(l.name).then(x=>{if(x)return l.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return l.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return g=l.merge(x,(y=r())!=null?y:p),n(g,!0),d()}).then(()=>{m==null||m(g,void 0),o=!0,a.forEach(x=>x(g))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:w=>{l={...l,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(s.add(w),()=>{s.delete(w)}),onFinishHydration:w=>(a.add(w),()=>{a.delete(w)})},v(),g||p},Xx=(e,t)=>(n,r,i)=>{let l={storage:qx(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},o=!1;const s=new Set,a=new Set;let u=l.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...v)},r,i);const f=()=>{const v=l.partialize({...r()});return u.setItem(l.name,{state:v,version:l.version})},d=i.setState;i.setState=(v,w)=>{d(v,w),f()};const h=e((...v)=>{n(...v),f()},r,i);i.getInitialState=()=>h;let p;const g=()=>{var v,w;if(!u)return;o=!1,s.forEach(x=>{var y;return x((y=r())!=null?y:h)});const m=((w=l.onRehydrateStorage)==null?void 0:w.call(l,(v=r())!=null?v:h))||void 0;return Ci(u.getItem.bind(u))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return[!0,l.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[C,T]=x;if(p=l.merge(T,(y=r())!=null?y:h),n(p,!0),C)return f()}).then(()=>{m==null||m(p,void 0),p=r(),o=!0,a.forEach(x=>x(p))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:v=>{l={...l,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(s.add(v),()=>{s.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},l.skipHydration||g(),p||h},Yx=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Kx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Gx(e,t)):Xx(e,t),Jx=Yx,id={defaultModel:"claude-opus-4-5",defaultPermissionMode:"acceptEdits",defaultExtendedThinking:!0,defaultAutoReact:!0,showArchivedByDefault:!1,theme:"system",experimentalAllowNestedSubthreads:!1,experimentalMaxThreadDepth:3},$t=Eh()(Jx(e=>({...id,isSettingsOpen:!1,openSettings:()=>e({isSettingsOpen:!0}),closeSettings:()=>e({isSettingsOpen:!1}),toggleSettings:()=>e(t=>({isSettingsOpen:!t.isSettingsOpen})),isCreateThreadModalOpen:!1,openCreateThreadModal:()=>e({isCreateThreadModalOpen:!0}),closeCreateThreadModal:()=>e({isCreateThreadModalOpen:!1}),isCommandPaletteOpen:!1,openCommandPalette:()=>e({isCommandPaletteOpen:!0}),closeCommandPalette:()=>e({isCommandPaletteOpen:!1}),toggleCommandPalette:()=>e(t=>({isCommandPaletteOpen:!t.isCommandPaletteOpen})),updateSettings:t=>e(n=>({...n,...t})),resetToDefaults:()=>e(id)}),{name:"mainthread-settings",partialize:e=>({defaultModel:e.defaultModel,defaultPermissionMode:e.defaultPermissionMode,defaultExtendedThinking:e.defaultExtendedThinking,defaultAutoReact:e.defaultAutoReact,showArchivedByDefault:e.showArchivedByDefault,theme:e.theme,experimentalAllowNestedSubthreads:e.experimentalAllowNestedSubthreads,experimentalMaxThreadDepth:e.experimentalMaxThreadDepth})}));function ku({enabled:e,onChange:t,label:n,size:r="sm"}){const i=r==="sm"?{track:"w-8 h-4",thumb:"w-3 h-3",translate:"translate-x-4"}:{track:"w-10 h-5",thumb:"w-4 h-4",translate:"translate-x-5"};return c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`
          ${i.track} rounded-full transition-colors duration-200 ease-in-out
          relative inline-flex items-center shrink-0
          ${e?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
            ${i.thumb} rounded-full bg-white shadow-sm
            transform transition-transform duration-200 ease-in-out
            ${e?i.translate:"translate-x-0.5"}
          `})}),n&&c.jsx("span",{className:"text-xs text-foreground",children:n})]})}function Zx({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Xo({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function ey({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 10V5a2 2 0 012-2h6a2 2 0 012 2v5M7 10v4a2 2 0 002 2h6a2 2 0 002-2v-4M7 10h10"})})}function Yo({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function ld({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function ty({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function ny({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]})}function Jo(e,t=!1){const n="/Users/";let r=e;if(e.startsWith(n)){const i=e.slice(n.length),l=i.indexOf("/");l>0&&(r="~"+i.slice(l))}if(t){const i=r.split("/").filter(Boolean);return i.length<=2?r:"~/"+i.slice(-2).join("/")}return r}const ry=[{value:"claude-opus-4-5",label:"Opus 4.5",description:"Most powerful"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5",description:"Fast and capable"},{value:"claude-haiku-4-5",label:"Haiku 4.5",description:"Quick responses"}],iy=[{value:"plan",label:"Plan",description:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",description:"Auto-accept file changes"},{value:"default",label:"Normal",description:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass",description:"Skip all permission prompts"}];function Nh({isOpen:e,onSubmit:t,onCancel:n}){const{defaultModel:r,defaultExtendedThinking:i,defaultPermissionMode:l,openSettings:o,closeCreateThreadModal:s}=$t(),[a,u]=N.useState(""),[f,d]=N.useState(""),[h,p]=N.useState(r),[g,v]=N.useState(i),[w,m]=N.useState(l),x=N.useRef(null),y=N.useRef(null),C=N.useRef(null),T=N.useId(),[j,L]=N.useState([]),[_,I]=N.useState(!1),[E,F]=N.useState(0),[$,K]=N.useState(null),[Y,X]=N.useState(!1),[se,R]=N.useState([]),[P,D]=N.useState(null),[k,H]=N.useState(!1),[W,S]=N.useState(null),[de,me]=N.useState(!1),[le,be]=N.useState(!1),[Ae,_e]=N.useState(""),[Be,A]=N.useState(!1),[V,re]=N.useState("");N.useEffect(()=>{if(!e)return;const b=M=>{M.key==="Escape"&&n()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[e,n]),N.useEffect(()=>{var b;e?(C.current=document.activeElement,u(""),p(r),v(i),m(l),L([]),I(!1),K(null),R([]),D(null),S(null),me(!1),be(!1),_e(""),A(!1),re(""),fetch("/api/cwd").then(M=>M.ok?M.json():null).then(M=>{M!=null&&M.path?(d(M.path),K(!0)):d("")}).catch(()=>d("")),fetch("/api/directories/suggestions").then(M=>M.ok?M.json():[]).then(M=>R(M)).catch(()=>R([])),requestAnimationFrame(()=>{var M;(M=x.current)==null||M.focus()})):(b=C.current)==null||b.focus()},[e,r,i,l]);const ae=N.useCallback(async b=>{try{const M=await fetch(`/api/browse?path=${encodeURIComponent(b)}&type=directory`);if(M.ok){const Q=await M.json();if(L(Q),F(0),!b){K(null);return}const G=b.replace(/\/$/,""),ue=Q.some(Je=>Je.path===G||Je.path===b),st=Q.length>0&&Q.every(Je=>Je.path.startsWith(G+"/"));if(ue||st)K(!0);else{const Je=Q.length>0;K(Je?null:!1)}}}catch{L([])}},[]);N.useEffect(()=>{const b=setTimeout(()=>ae(f),150);return()=>clearTimeout(b)},[f,ae]),N.useEffect(()=>{if(!f||$===!1){D(null),S(null);return}const M=setTimeout(async()=>{H(!0);try{const Q=await fetch(`/api/git/info?path=${encodeURIComponent(f)}`);if(Q.ok){const G=await Q.json();D(G),G.isGitRepo&&G.currentBranch?(S(G.currentBranch),K(!0)):G.repoRoot}}catch{D(null)}finally{H(!1)}},500);return()=>clearTimeout(M)},[f,$]),N.useEffect(()=>{if(!(P!=null&&P.repoRoot)||!W||W===P.currentBranch){re("");return}const b=W.replace(/[\/\\]/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase(),M=P.repoName||"repo",Q=P.repoRoot.split("/").slice(0,-1).join("/");re(`${Q}/${M}-${b}`)},[W,P]);const Se=N.useCallback(b=>{if(b.key==="Tab"){const M=b.currentTarget.querySelectorAll("input, select, button:not([disabled])"),Q=M[0],G=M[M.length-1];b.shiftKey&&document.activeElement===Q?(b.preventDefault(),G==null||G.focus()):!b.shiftKey&&document.activeElement===G&&(b.preventDefault(),Q==null||Q.focus())}},[]),jt=b=>{if(!(!_||j.length===0))switch(b.key){case"ArrowDown":b.preventDefault(),F(M=>Math.min(M+1,j.length-1));break;case"ArrowUp":b.preventDefault(),F(M=>Math.max(M-1,0));break;case"Enter":j[E]&&(b.preventDefault(),d(j[E].path),I(!1));break;case"Escape":b.preventDefault(),I(!1);break;case"Tab":j[E]&&(b.preventDefault(),d(j[E].path),I(!1));break}},xt=async()=>{if(f){X(!0);try{const b=await fetch("/api/directories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:f})});if(b.ok){const M=await b.json();d(M.path),K(!0)}}catch(b){console.error("Failed to create directory:",b)}finally{X(!1)}}},Pr=b=>{var M;d(b.path),I(!1),(M=y.current)==null||M.focus()},Wn=b=>{S(b),me(!1),be(!1),_e("")},Vn=()=>{be(!0),me(!1)},jn=()=>{Ae.trim()&&(S(Ae.trim()),be(!1),_e(""))},z=b=>{if(b.preventDefault(),a.trim()){const M={title:a.trim(),workDir:f.trim()||void 0,model:h,extendedThinking:g,permissionMode:w};P!=null&&P.isGitRepo&&W&&W!==P.currentBranch&&(M.gitBranch=W,M.useWorktree=Be,Be&&V&&(M.worktreePath=V)),t(M)}},ee=b=>{b.target===b.currentTarget&&n()},je=(P==null?void 0:P.isGitRepo)&&W&&W!==P.currentBranch,Dt=(P==null?void 0:P.isGitRepo)&&W&&!P.branches.includes(W);return e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:ee,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":T,className:"bg-background border border-border rounded-lg shadow-lg p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),onKeyDown:Se,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{id:T,className:"text-lg font-semibold",children:"Create New Thread"}),c.jsx("button",{type:"button",onClick:()=>{s(),o()},className:"p-1.5 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",title:"Configure defaults",children:c.jsx(Zx,{className:"w-4 h-4"})})]}),c.jsxs("form",{onSubmit:z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${T}-title`,className:"block text-sm font-medium mb-1",children:"Title"}),c.jsx("input",{id:`${T}-title`,ref:x,type:"text",value:a,onChange:b=>u(b.target.value),placeholder:"Enter thread title...",className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:`${T}-workdir`,className:"block text-sm font-medium mb-1",children:"Working Directory"}),se.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:se.slice(0,8).map(b=>c.jsxs("button",{type:"button",onClick:()=>{d(b.path),K(!0)},className:`px-2 py-1 text-xs rounded-full bg-muted hover:bg-muted/80
                               flex items-center gap-1 text-muted-foreground hover:text-foreground
                               transition-colors border border-transparent hover:border-border/50`,title:Jo(b.path),children:[b.type==="git"&&c.jsx(ny,{className:"w-3 h-3"}),b.type==="recent"&&c.jsx(ty,{className:"w-3 h-3"}),b.type==="folder"&&c.jsx(Xo,{className:"w-3 h-3"}),c.jsx("span",{className:"truncate max-w-[140px] font-mono",children:Jo(b.path,!0)})]},b.path))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:`${T}-workdir`,ref:y,type:"text",value:f,onChange:b=>{d(b.target.value),I(!0)},onFocus:()=>{I(!0),j.length===0&&f&&$!==!0&&ae(f)},onBlur:()=>{setTimeout(()=>I(!1),200)},onKeyDown:jt,placeholder:"~ or /path/to/project",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true",className:`w-full px-4 py-2 pr-10 rounded-lg border border-border bg-background
                           focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`}),c.jsx(Xo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),_&&j.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:j.map((b,M)=>c.jsxs("button",{type:"button",onClick:()=>Pr(b),onMouseEnter:()=>F(M),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${M===E?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx(Xo,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate font-mono text-xs",children:Jo(b.path)})]},b.path))}),f&&c.jsx("div",{className:"mt-1.5 flex items-center gap-2",children:$===!1?c.jsxs(c.Fragment,{children:[c.jsx(ld,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-xs text-amber-600",children:"Path does not exist"}),c.jsx("button",{type:"button",onClick:xt,disabled:Y,className:"text-xs text-primary hover:underline disabled:opacity-50",children:Y?"Creating...":"Create it?"})]}):$===!0&&(P!=null&&P.isGitRepo)?c.jsxs(c.Fragment,{children:[c.jsx(Yo,{className:"w-4 h-4 text-green-500"}),c.jsxs("span",{className:"text-xs text-green-600",children:["Git repository: ",P.repoName]})]}):$===!0?c.jsxs(c.Fragment,{children:[c.jsx(Yo,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"(not a git repository)"})]}):null})]}),(P==null?void 0:P.isGitRepo)&&c.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded-lg border border-border",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("label",{htmlFor:`${T}-branch`,className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[c.jsx(ey,{className:"w-4 h-4"}),"Branch",c.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(use worktree for parallel work)"})]}),le?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:Ae,onChange:b=>_e(b.target.value),placeholder:"feature/new-branch",className:`flex-1 px-3 py-2 rounded-lg border border-border bg-background
                                 focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`,autoFocus:!0,onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),jn()):b.key==="Escape"&&(be(!1),_e(""))}}),c.jsx("button",{type:"button",onClick:jn,disabled:!Ae.trim(),className:"px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 disabled:opacity-50",children:"Create"}),c.jsx("button",{type:"button",onClick:()=>{be(!1),_e("")},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"})]}):c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>me(!de),className:`w-full px-4 py-2 rounded-lg border border-border bg-background text-left
                                 focus:outline-none focus:ring-2 focus:ring-primary flex items-center justify-between`,children:[c.jsxs("span",{className:"font-mono text-sm",children:[W||P.currentBranch,W===P.currentBranch&&c.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(current)"}),Dt&&c.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(new)"})]}),c.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),de&&c.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[P.branches.map(b=>c.jsxs("button",{type:"button",onClick:()=>Wn(b),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 ${b===W?"bg-muted":""}`,children:[b===W&&c.jsx(Yo,{className:"w-4 h-4 text-primary flex-shrink-0"}),c.jsx("span",{className:`font-mono ${b!==W?"ml-6":""}`,children:b}),b===P.currentBranch&&c.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"(current)"})]},b)),c.jsx("div",{className:"border-t border-border",children:c.jsx("button",{type:"button",onClick:Vn,className:"w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 text-primary",children:c.jsx("span",{className:"ml-6",children:"+ Create new branch..."})})})]})]})]}),je&&!Dt&&!Be&&c.jsxs("div",{className:"flex items-start gap-2 p-2 bg-amber-50 border border-amber-200 rounded-lg text-sm",children:[c.jsx(ld,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-amber-700",children:["This will checkout '",W,"' in the repository."]}),c.jsx("p",{className:"text-amber-600 text-xs mt-0.5",children:"Any uncommitted changes may be affected. Consider using a worktree instead."})]})]}),je&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Be,onChange:b=>A(b.target.checked),className:"w-4 h-4 rounded border-border"}),c.jsxs("span",{className:"text-sm",children:["Use git worktree",c.jsx("span",{className:"text-muted-foreground ml-1",children:"(recommended for parallel work)"})]})]}),Be&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Worktree path:"}),c.jsx("input",{type:"text",value:V,onChange:b=>re(b.target.value),placeholder:"Auto-generated path...",className:`w-full px-3 py-1.5 rounded border border-border bg-background
                                   focus:outline-none focus:ring-1 focus:ring-primary font-mono text-xs`})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${T}-model`,className:"block text-sm font-medium mb-1",children:"Model"}),c.jsx("select",{id:`${T}-model`,value:h,onChange:b=>p(b.target.value),className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`,children:ry.map(b=>c.jsxs("option",{value:b.value,children:[b.label," - ",b.description]},b.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${T}-permission-mode`,className:"block text-sm font-medium mb-1",children:"Permission Mode"}),c.jsx("select",{id:`${T}-permission-mode`,value:w,onChange:b=>m(b.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${w==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,children:iy.map(b=>c.jsxs("option",{value:b.value,children:[b.value==="bypassPermissions"?" ":"",b.label," - ",b.description]},b.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(ku,{enabled:g,onChange:v,label:"Extended Thinking",size:"md"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Extended reasoning for complex tasks"})]}),c.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!a.trim(),className:`px-4 py-2 bg-primary text-primary-foreground rounded-lg
                         hover:opacity-90 disabled:opacity-50`,children:"Create Thread"})]})]})]})}):null}function Nr({children:e,className:t=""}){return c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:`max-w-[60%] w-full ${t}`,children:e})})}function Th({variant:e="primary"}){const t=e==="thinking"?"bg-amber-500/70":"bg-primary/70";return c.jsx("span",{className:`inline-block w-0.5 h-4 ${t} animate-cursor-blink ml-1`,"aria-hidden":"true"})}function Lh({content:e,isStreaming:t=!1,blockId:n,isExpanded:r,onToggle:i}){const[l,o]=N.useState(!1),s=r!==void 0&&i!==void 0,a=s?r:l,u=s?i:()=>o(!l);return c.jsx(Nr,{children:c.jsxs("div",{className:"thinking-block bg-amber-50/60 dark:bg-amber-900/15 border border-amber-200 dark:border-amber-800 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:u,className:"thinking-header w-full flex items-center gap-2 px-3 py-2 text-amber-700 dark:text-amber-300 hover:bg-amber-100/50 dark:hover:bg-amber-800/30 transition-colors","aria-expanded":a,"aria-controls":n?`thinking-content-${n}`:"thinking-content",children:[c.jsx("span",{className:"w-5 h-5 bg-amber-400 dark:bg-amber-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsx("span",{role:"img","aria-label":"thinking",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),c.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:t?c.jsxs("span",{className:"flex items-center gap-2",children:["thinking",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Claude's Reasoning"}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&c.jsxs("div",{id:n?`thinking-content-${n}`:"thinking-content",className:"thinking-content px-4 py-3 text-sm text-amber-600 dark:text-amber-400 italic border-t border-amber-200/50 dark:border-amber-700/50 animate-slide-down",children:[c.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs leading-relaxed",children:e}),t&&c.jsx(Th,{variant:"thinking"})]})]})})}function ly({questions:e,onAnswer:t,onCancel:n}){const[r,i]=N.useState({}),[l,o]=N.useState({}),[s,a]=N.useState(0),[u,f]=N.useState(0),d=N.useRef(new Map);if(e.length===0)return null;const h=e[s],p=s===e.length-1,g=N.useMemo(()=>{const L=r[h.question]||[],_=l[h.question];return L.length>0||!!_},[r,l,h.question]),v=L=>{const _=h;i(I=>{const E=I[_.question]||[];return _.multiSelect?E.includes(L)?{...I,[_.question]:E.filter(F=>F!==L)}:{...I,[_.question]:[...E,L]}:{...I,[_.question]:[L]}}),o(I=>({...I,[_.question]:""})),_.multiSelect||setTimeout(()=>{p?w(L):(a(I=>I+1),f(0))},150)},w=L=>{const _={};for(const I of e)if(I.question===h.question)_[I.question]=L;else{const E=r[I.question]||[],F=l[I.question];F?_[I.question]=F:E.length>0&&(_[I.question]=E.join(", "))}t(_)},m=()=>{const L={};for(const _ of e){const I=r[_.question]||[],E=l[_.question];E?L[_.question]=E:I.length>0&&(L[_.question]=I.join(", "))}t(L)},x=()=>{!p&&g&&(a(L=>L+1),f(0))},y=()=>{s>0&&(a(L=>L-1),f(0))},C=L=>{L.key==="Enter"&&l[h.question]&&(L.preventDefault(),p?m():x())},T=N.useCallback((L,_)=>{const I=h.options.length;switch(L.key){case"ArrowDown":L.preventDefault(),f(E=>Math.min(E+1,I-1));break;case"ArrowUp":L.preventDefault(),f(E=>Math.max(E-1,0));break;case"Enter":case" ":L.preventDefault(),v(h.options[_].label);break;case"ArrowRight":!h.multiSelect&&g&&!p&&(L.preventDefault(),x());break;case"ArrowLeft":s>0&&(L.preventDefault(),y());break}},[h,p,s]);N.useEffect(()=>{const L=d.current.get(u);L==null||L.focus()},[u,s]);const j=r[h.question]||[];return c.jsx("div",{className:"flex justify-start animate-fade-in my-3",children:c.jsx("div",{className:"max-w-[500px] w-full",children:c.jsxs("div",{className:"bg-amber-50/80 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-700 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-amber-200/50 dark:border-amber-700/50 bg-amber-100/50 dark:bg-amber-800/20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),c.jsx("span",{className:"font-medium text-amber-800 dark:text-amber-200 text-sm",children:"Agent needs your input"})]}),e.length>1&&c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400","aria-label":`Question ${s+1} of ${e.length}`,children:[s+1," / ",e.length]})]}),e.length>1&&c.jsx("div",{className:"mt-2 h-1 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":s+1,"aria-valuemin":1,"aria-valuemax":e.length,"aria-label":"Question progress",children:c.jsx("div",{className:"h-full bg-amber-500 transition-all duration-300",style:{width:`${(s+1)/e.length*100}%`}})})]}),c.jsxs("div",{className:"p-4",children:[h.header&&c.jsx("span",{className:"inline-block px-2 py-0.5 bg-amber-500/20 text-amber-700 dark:text-amber-300 text-xs rounded-full font-medium mb-2",children:h.header}),c.jsx("p",{className:"font-medium text-foreground mb-4",children:h.question}),c.jsxs("div",{className:"space-y-2",children:[h.options.map((L,_)=>{const I=j.includes(L.label);return c.jsx("button",{ref:E=>{E?d.current.set(_,E):d.current.delete(_)},onClick:()=>v(L.label),onKeyDown:E=>T(E,_),tabIndex:u===_?0:-1,className:`w-full text-left p-3 rounded-lg border transition-all focus:outline-none focus:ring-2 focus:ring-amber-400/50 ${I?"border-amber-500 bg-amber-100/50 dark:bg-amber-800/30 scale-[1.02]":"border-amber-200 dark:border-amber-700/50 hover:border-amber-400 hover:bg-amber-50/50 dark:hover:bg-amber-800/20"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`mt-0.5 w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors ${I?"border-amber-500 bg-amber-500":"border-amber-400"}`,children:I&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm",children:L.label}),L.description&&c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:L.description})]})]})},_)}),c.jsx("div",{className:"pt-2",children:c.jsx("input",{type:"text",placeholder:"Or type a custom answer...","aria-label":"Custom answer",value:l[h.question]||"",onChange:L=>{o(_=>({..._,[h.question]:L.target.value})),L.target.value&&i(_=>({..._,[h.question]:[]}))},onKeyDown:C,className:"w-full px-3 py-2 text-sm border border-amber-200 dark:border-amber-700/50 rounded-lg bg-white/50 dark:bg-background/50 focus:outline-none focus:ring-2 focus:ring-amber-400/50"})})]})]}),c.jsxs("div",{className:"px-4 py-3 border-t border-amber-200/50 dark:border-amber-700/50 bg-amber-50/50 dark:bg-amber-800/10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[s>0&&c.jsxs("button",{onClick:y,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),c.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors",children:"Skip"})]}),c.jsxs("div",{children:[h.multiSelect&&!p&&c.jsxs("button",{onClick:x,disabled:!g,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:["Next",c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),p&&h.multiSelect&&g&&c.jsx("button",{onClick:m,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 transition-colors",children:"Submit"})]})]})]})})})}function oy({notification:e,onNavigate:t}){return c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"max-w-[50%] flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 bg-purple-500",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:"spawned"})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function sy({notification:e,onNavigate:t}){const n=e.status==="done";e.status;const i=n?{bgColor:"bg-green-500",textColor:"text-green-600 dark:text-green-400",label:"completed",icon:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}:{bgColor:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"blocked",icon:c.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})})};return c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"max-w-[50%] flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 ${i.bgColor}`,children:i.icon}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:`text-xs ${i.textColor}`,children:i.label})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function ay(e){if(!e)return"";const t=[/^\/Users\/[^/]+/,/^\/home\/[^/]+/,/^C:\\Users\\[^\\]+/i];for(const n of t)if(n.test(e))return e.replace(n,"~");return e}function uy({thread:e,parentThread:t,tokenInfo:n,onNavigateToParent:r,onClearThread:i,onArchiveThread:l}){const[o,s]=N.useState(!1),a=N.useCallback(async()=>{if(!e.sessionId||!e.workDir)return;const v=`cd "${e.workDir}" && claude --resume ${e.sessionId}`;try{await navigator.clipboard.writeText(v),s(!0),setTimeout(()=>s(!1),2e3)}catch{}},[e.sessionId,e.workDir]),u=e.lastUsage,f=u==null?void 0:u.input_tokens,d=u==null?void 0:u.output_tokens,h=f!=null&&d!=null?f+d:(n==null?void 0:n.totalTokens)||0,p=!!u,g=e.lastCostUsd;return c.jsxs("div",{className:"border-b border-border px-4 py-2 flex items-center justify-between bg-muted/30 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{children:[t&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-0.5",children:[c.jsx("button",{onClick:r,className:"hover:text-foreground hover:underline transition-colors",children:t.title}),c.jsx("span",{children:"/"})]}),c.jsx("h2",{className:"font-semibold text-sm",children:e.title}),e.workDir&&c.jsx("p",{className:"text-xs text-muted-foreground",title:e.workDir,children:ay(e.workDir)})]}),e.gitBranch&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-500/10 text-blue-600 text-xs",children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]}),e.gitBranch,e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 bg-blue-500/20 rounded",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"worktree"})]}),(u||n)&&h>0&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p&&f!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Input: ${f.toLocaleString()} tokens`,children:["i: ",f>=1e3?`${(f/1e3).toFixed(1)}K`:f]}),p&&d!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Output: ${d.toLocaleString()} tokens`,children:["o: ",d>=1e3?`${(d/1e3).toFixed(1)}K`:d]}),!p&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`~${h.toLocaleString()} estimated tokens`,children:["~",h>=1e3?`${(h/1e3).toFixed(1)}K`:h]}),g!=null&&g>0&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Cost: $${g.toFixed(6)}`,children:["$",g.toFixed(4)]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[e.sessionId&&e.workDir&&c.jsxs("button",{onClick:a,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted flex items-center gap-1",title:`cd "${e.workDir}" && claude --resume ${e.sessionId}`,children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),o?"Copied!":"Resume in CLI"]}),c.jsx("button",{onClick:i,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground",title:"Clear all messages",children:"Clear"}),c.jsxs("button",{onClick:l,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground flex items-center gap-1",title:"Archive thread",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Archive"]})]})]})}const cy=[{value:"claude-opus-4-5",label:"Opus 4.5"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5"},{value:"claude-haiku-4-5",label:"Haiku 4.5"}],dy=[{value:"plan",label:"Plan"},{value:"acceptEdits",label:"Accept"},{value:"default",label:"Normal"},{value:"bypassPermissions",label:"Bypass"}];function fy({thread:e,disabled:t,onSendMessage:n,onCreateThread:r,onModelChange:i,onPermissionModeChange:l,onThinkingToggle:o,onStopThread:s,onError:a}){const[u,f]=N.useState(""),d=N.useRef(null),h=N.useRef(null),[p,g]=N.useState([]),[v,w]=N.useState(!1),[m,x]=N.useState([]),[y,C]=N.useState(!1),[T,j]=N.useState(""),[L,_]=N.useState([]),[I,E]=N.useState(0),F=N.useRef(null),$=A=>new Promise((V,re)=>{const ae=new FileReader;ae.onload=()=>{const jt=ae.result.split(",")[1];V(jt)},ae.onerror=re,ae.readAsDataURL(A)}),K=async A=>{if(!A.type.startsWith("image/")){a("Only image files are supported");return}if(p.length>=10){a("Maximum 10 images allowed");return}try{const V=await $(A),re=`data:${A.type};base64,${V}`,ae={id:`img-${Date.now()}-${Math.random().toString(36).slice(2)}`,data:V,media_type:A.type,preview:re,name:A.name};g(Se=>[...Se,ae])}catch{a("Failed to process image")}},Y=A=>{A.preventDefault(),A.stopPropagation(),w(!0)},X=A=>{A.preventDefault(),A.stopPropagation(),A.currentTarget.contains(A.relatedTarget)||w(!1)},se=A=>{A.preventDefault(),A.stopPropagation()},R=async A=>{A.preventDefault(),A.stopPropagation(),w(!1);const V=Array.from(A.dataTransfer.files);for(const re of V)re.type.startsWith("image/")&&await K(re)},P=async A=>{const V=Array.from(A.clipboardData.items);for(const re of V)if(re.type.startsWith("image/")){A.preventDefault();const ae=re.getAsFile();ae&&await K(ae)}},D=async A=>{const V=A.target.files;if(V){for(const re of Array.from(V))re.type.startsWith("image/")&&await K(re);A.target.value=""}},k=A=>{g(V=>V.filter(re=>re.id!==A))};N.useEffect(()=>{if(!y||!e.workDir){_([]);return}const V=setTimeout(async()=>{try{const re=new URLSearchParams({limit:"20"});T&&re.set("query",T);const ae=await fetch(`/api/threads/${e.id}/files?${re}`);if(ae.ok){const Se=await ae.json();_(Se),E(0)}}catch{_([])}},150);return()=>clearTimeout(V)},[y,T,e.id,e.workDir]);const H=A=>{const V=A.target.value;f(V);const re=A.target.selectionStart||0,Se=V.slice(0,re).match(/@([^\s]*)$/);Se?(C(!0),j(Se[1])):(C(!1),j(""))},W=A=>{var Se,jt;m.find(xt=>xt.path===A.path)||x(xt=>[...xt,A]);const V=((Se=d.current)==null?void 0:Se.selectionStart)||0,ae=u.slice(0,V).match(/@([^\s]*)$/);if(ae){const xt=u.slice(0,V-ae[0].length)+u.slice(V);f(xt)}C(!1),j(""),(jt=d.current)==null||jt.focus()},S=A=>{x(V=>V.filter(re=>re.path!==A))},de=A=>{if(!(!y||L.length===0))switch(A.key){case"ArrowDown":A.preventDefault(),E(V=>Math.min(V+1,L.length-1));break;case"ArrowUp":A.preventDefault(),E(V=>Math.max(V-1,0));break;case"Enter":L[I]&&(A.preventDefault(),W(L[I]));break;case"Escape":A.preventDefault(),C(!1);break;case"Tab":L[I]&&(A.preventDefault(),W(L[I]));break}},me=N.useCallback(async()=>{const A=["plan","acceptEdits","default","bypassPermissions"],re=(A.indexOf(e.permissionMode)+1)%A.length;try{await l(A[re])}catch(ae){a(ae instanceof Error?ae.message:"Failed to update permission mode")}},[e.permissionMode,l,a]);N.useEffect(()=>{const A=V=>{V.key==="Enter"&&V.shiftKey&&document.activeElement===d.current&&(V.preventDefault(),V.stopPropagation(),me())};return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0})}},[me]),N.useEffect(()=>{const A=V=>{V.key==="Escape"&&e.status==="pending"&&(V.preventDefault(),s())};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[e.status,s]);const le=async A=>{if(A.preventDefault(),!u.trim()&&p.length===0)return;const V=u,re=p.length>0?[...p]:void 0,ae=m.length>0?m.map(Se=>Se.path):void 0;f(""),g([]),x([]),C(!1);try{await n(V,re,ae)}catch(Se){a(Se instanceof Error?Se.message:"Failed to send message")}},be=N.useCallback(A=>{A.key==="Enter"&&A.shiftKey&&(A.preventDefault(),A.stopPropagation(),me())},[me]),Ae=async A=>{try{await i(A.target.value)}catch(V){a(V instanceof Error?V.message:"Failed to update model")}},_e=async A=>{try{await l(A.target.value)}catch(V){a(V instanceof Error?V.message:"Failed to update permission mode")}},Be=async A=>{try{await o(A)}catch(V){a(V instanceof Error?V.message:"Failed to update thinking mode")}};return c.jsxs("div",{className:`border-t border-border p-4 flex-shrink-0 space-y-3 transition-colors ${v?"bg-primary/10 border-primary":""}`,onDragEnter:Y,onDragLeave:X,onDragOver:se,onDrop:R,children:[v&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/5 border-2 border-dashed border-primary rounded-lg pointer-events-none z-10",children:c.jsx("p",{className:"text-primary font-medium",children:"Drop images here"})}),c.jsx("div",{className:"flex items-center gap-4 justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("select",{value:e.model,onChange:Ae,className:"text-xs px-2 py-1.5 rounded border border-border bg-background focus:outline-none focus:ring-1 focus:ring-primary","aria-label":"Select model",children:cy.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))}),c.jsx("select",{value:e.permissionMode,onChange:_e,className:`text-xs px-2 py-1.5 rounded border focus:outline-none focus:ring-1 ${e.permissionMode==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,"aria-label":"Permission mode",children:dy.map(A=>c.jsx("option",{value:A.value,children:A.value==="bypassPermissions"?" "+A.label:A.label},A.value))}),c.jsx(ku,{enabled:e.extendedThinking,onChange:Be,label:"Thinking"})]})}),p.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:p.map(A=>c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:A.preview,alt:A.name,className:"w-16 h-16 object-cover rounded-lg border border-border"}),c.jsx("button",{type:"button",onClick:()=>k(A.id),className:`absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full
                           flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity`,children:""})]},A.id))}),m.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:m.map(A=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md border border-border",children:[c.jsx("svg",{className:"w-3 h-3 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"text-muted-foreground",children:A.name}),c.jsx("button",{type:"button",onClick:()=>S(A.path),className:"ml-1 text-muted-foreground hover:text-foreground",children:""})]},A.path))}),c.jsxs("form",{onSubmit:le,className:"flex gap-2 relative",children:[c.jsx("input",{ref:h,type:"file",accept:"image/*",multiple:!0,onChange:D,className:"hidden","aria-label":"Upload images"}),c.jsx("button",{type:"button",onClick:()=>{var A;return(A=h.current)==null?void 0:A.click()},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",title:"Attach images","aria-label":"Attach images",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{ref:d,type:"text",value:u,onChange:H,onKeyDown:A=>{de(A),y||be(A)},onPaste:P,placeholder:"Type a message... (@ for files)",disabled:t,"aria-label":"Message input",className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                       focus:outline-none focus:ring-2 focus:ring-primary`}),y&&L.length>0&&c.jsx("div",{ref:F,className:`absolute bottom-full left-0 mb-1 w-80 max-h-60 overflow-y-auto
                         bg-background border border-border rounded-lg shadow-lg z-20`,children:L.map((A,V)=>c.jsxs("button",{type:"button",onClick:()=>W(A),onMouseEnter:()=>E(V),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${V===I?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"truncate",children:A.path})]},A.path))})]}),e.status==="pending"?c.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Stop running agent (Esc)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})}),"Stop"]}):c.jsx("button",{type:"submit",disabled:!u.trim()&&p.length===0||t,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Send"}),c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors","aria-label":"Create new sub-thread",children:"+ Thread"})]})]})}function py(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hy=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,my=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gy={};function od(e,t){return(gy.jsx?my:hy).test(e)}const xy=/[ \t\n\f\r]/g;function yy(e){return typeof e=="object"?e.type==="text"?sd(e.value):!1:sd(e)}function sd(e){return e.replace(xy,"")===""}class Mi{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Mi.prototype.normal={};Mi.prototype.property={};Mi.prototype.space=void 0;function Ph(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mi(n,r,t)}function fa(e){return e.toLowerCase()}class ot{constructor(t,n){this.attribute=n,this.property=t}}ot.prototype.attribute="";ot.prototype.booleanish=!1;ot.prototype.boolean=!1;ot.prototype.commaOrSpaceSeparated=!1;ot.prototype.commaSeparated=!1;ot.prototype.defined=!1;ot.prototype.mustUseProperty=!1;ot.prototype.number=!1;ot.prototype.overloadedBoolean=!1;ot.prototype.property="";ot.prototype.spaceSeparated=!1;ot.prototype.space=void 0;let vy=0;const J=Hn(),Ne=Hn(),pa=Hn(),O=Hn(),pe=Hn(),hr=Hn(),ut=Hn();function Hn(){return 2**++vy}const ha=Object.freeze(Object.defineProperty({__proto__:null,boolean:J,booleanish:Ne,commaOrSpaceSeparated:ut,commaSeparated:hr,number:O,overloadedBoolean:pa,spaceSeparated:pe},Symbol.toStringTag,{value:"Module"})),Zo=Object.keys(ha);class wu extends ot{constructor(t,n,r,i){let l=-1;if(super(t,n),ad(this,"space",i),typeof r=="number")for(;++l<Zo.length;){const o=Zo[l];ad(this,Zo[l],(r&ha[o])===ha[o])}}}wu.prototype.defined=!0;function ad(e,t,n){n&&(e[t]=n)}function Tr(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new wu(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[fa(r)]=r,n[fa(l.attribute)]=r}return new Mi(t,n,e.space)}const _h=Tr({properties:{ariaActiveDescendant:null,ariaAtomic:Ne,ariaAutoComplete:null,ariaBusy:Ne,ariaChecked:Ne,ariaColCount:O,ariaColIndex:O,ariaColSpan:O,ariaControls:pe,ariaCurrent:null,ariaDescribedBy:pe,ariaDetails:null,ariaDisabled:Ne,ariaDropEffect:pe,ariaErrorMessage:null,ariaExpanded:Ne,ariaFlowTo:pe,ariaGrabbed:Ne,ariaHasPopup:null,ariaHidden:Ne,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pe,ariaLevel:O,ariaLive:null,ariaModal:Ne,ariaMultiLine:Ne,ariaMultiSelectable:Ne,ariaOrientation:null,ariaOwns:pe,ariaPlaceholder:null,ariaPosInSet:O,ariaPressed:Ne,ariaReadOnly:Ne,ariaRelevant:null,ariaRequired:Ne,ariaRoleDescription:pe,ariaRowCount:O,ariaRowIndex:O,ariaRowSpan:O,ariaSelected:Ne,ariaSetSize:O,ariaSort:null,ariaValueMax:O,ariaValueMin:O,ariaValueNow:O,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Mh(e,t){return t in e?e[t]:t}function Ih(e,t){return Mh(e,t.toLowerCase())}const ky=Tr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hr,acceptCharset:pe,accessKey:pe,action:null,allow:null,allowFullScreen:J,allowPaymentRequest:J,allowUserMedia:J,alt:null,as:null,async:J,autoCapitalize:null,autoComplete:pe,autoFocus:J,autoPlay:J,blocking:pe,capture:null,charSet:null,checked:J,cite:null,className:pe,cols:O,colSpan:null,content:null,contentEditable:Ne,controls:J,controlsList:pe,coords:O|hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:J,defer:J,dir:null,dirName:null,disabled:J,download:pa,draggable:Ne,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:J,formTarget:null,headers:pe,height:O,hidden:pa,high:O,href:null,hrefLang:null,htmlFor:pe,httpEquiv:pe,id:null,imageSizes:null,imageSrcSet:null,inert:J,inputMode:null,integrity:null,is:null,isMap:J,itemId:null,itemProp:pe,itemRef:pe,itemScope:J,itemType:pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:J,low:O,manifest:null,max:null,maxLength:O,media:null,method:null,min:null,minLength:O,multiple:J,muted:J,name:null,nonce:null,noModule:J,noValidate:J,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:J,optimum:O,pattern:null,ping:pe,placeholder:null,playsInline:J,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:J,referrerPolicy:null,rel:pe,required:J,reversed:J,rows:O,rowSpan:O,sandbox:pe,scope:null,scoped:J,seamless:J,selected:J,shadowRootClonable:J,shadowRootDelegatesFocus:J,shadowRootMode:null,shape:null,size:O,sizes:null,slot:null,span:O,spellCheck:Ne,src:null,srcDoc:null,srcLang:null,srcSet:null,start:O,step:null,style:null,tabIndex:O,target:null,title:null,translate:null,type:null,typeMustMatch:J,useMap:null,value:Ne,width:O,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pe,axis:null,background:null,bgColor:null,border:O,borderColor:null,bottomMargin:O,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:J,declare:J,event:null,face:null,frame:null,frameBorder:null,hSpace:O,leftMargin:O,link:null,longDesc:null,lowSrc:null,marginHeight:O,marginWidth:O,noResize:J,noHref:J,noShade:J,noWrap:J,object:null,profile:null,prompt:null,rev:null,rightMargin:O,rules:null,scheme:null,scrolling:Ne,standby:null,summary:null,text:null,topMargin:O,valueType:null,version:null,vAlign:null,vLink:null,vSpace:O,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:J,disableRemotePlayback:J,prefix:null,property:null,results:O,security:null,unselectable:null},space:"html",transform:Ih}),wy=Tr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ut,accentHeight:O,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:O,amplitude:O,arabicForm:null,ascent:O,attributeName:null,attributeType:null,azimuth:O,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:O,by:null,calcMode:null,capHeight:O,className:pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:O,diffuseConstant:O,direction:null,display:null,dur:null,divisor:O,dominantBaseline:null,download:J,dx:null,dy:null,edgeMode:null,editable:null,elevation:O,enableBackground:null,end:null,event:null,exponent:O,externalResourcesRequired:null,fill:null,fillOpacity:O,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hr,g2:hr,glyphName:hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:O,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:O,horizOriginX:O,horizOriginY:O,id:null,ideographic:O,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:O,k:O,k1:O,k2:O,k3:O,k4:O,kernelMatrix:ut,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:O,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:O,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:O,overlineThickness:O,paintOrder:null,panose1:null,path:null,pathLength:O,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:O,pointsAtY:O,pointsAtZ:O,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ut,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ut,rev:ut,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ut,requiredFeatures:ut,requiredFonts:ut,requiredFormats:ut,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:O,specularExponent:O,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:O,strikethroughThickness:O,string:null,stroke:null,strokeDashArray:ut,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:O,strokeOpacity:O,strokeWidth:null,style:null,surfaceScale:O,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ut,tabIndex:O,tableValues:null,target:null,targetX:O,targetY:O,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ut,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:O,underlineThickness:O,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:O,values:null,vAlphabetic:O,vMathematical:O,vectorEffect:null,vHanging:O,vIdeographic:O,version:null,vertAdvY:O,vertOriginX:O,vertOriginY:O,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:O,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Mh}),Dh=Tr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Ah=Tr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ih}),zh=Tr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),by={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Sy=/[A-Z]/g,ud=/-[a-z]/g,Cy=/^data[-\w.:]+$/i;function jy(e,t){const n=fa(t);let r=t,i=ot;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Cy.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(ud,Ny);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!ud.test(l)){let o=l.replace(Sy,Ey);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=wu}return new i(r,t)}function Ey(e){return"-"+e.toLowerCase()}function Ny(e){return e.charAt(1).toUpperCase()}const Ty=Ph([_h,ky,Dh,Ah,zh],"html"),bu=Ph([_h,wy,Dh,Ah,zh],"svg");function Ly(e){return e.join(" ").trim()}var Su={},cd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Py=/\n/g,_y=/^\s*/,My=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Iy=/^:\s*/,Dy=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ay=/^[;\s]*/,zy=/^\s+|\s+$/g,Ry=`
`,dd="/",fd="*",Ln="",Fy="comment",By="declaration";function Oy(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var v=g.match(Py);v&&(n+=v.length);var w=g.lastIndexOf(Ry);r=~w?g.length-w:r+g.length}function l(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(g){var v=new Error(t.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function a(g){var v=g.exec(e);if(v){var w=v[0];return i(w),e=e.slice(w.length),v}}function u(){a(_y)}function f(g){var v;for(g=g||[];v=d();)v!==!1&&g.push(v);return g}function d(){var g=l();if(!(dd!=e.charAt(0)||fd!=e.charAt(1))){for(var v=2;Ln!=e.charAt(v)&&(fd!=e.charAt(v)||dd!=e.charAt(v+1));)++v;if(v+=2,Ln===e.charAt(v-1))return s("End of comment missing");var w=e.slice(2,v-2);return r+=2,i(w),e=e.slice(v),r+=2,g({type:Fy,comment:w})}}function h(){var g=l(),v=a(My);if(v){if(d(),!a(Iy))return s("property missing ':'");var w=a(Dy),m=g({type:By,property:pd(v[0].replace(cd,Ln)),value:w?pd(w[0].replace(cd,Ln)):Ln});return a(Ay),m}}function p(){var g=[];f(g);for(var v;v=h();)v!==!1&&(g.push(v),f(g));return g}return u(),p()}function pd(e){return e?e.replace(zy,Ln):Ln}var $y=Oy,Uy=yl&&yl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Su,"__esModule",{value:!0});Su.default=Wy;const Hy=Uy($y);function Wy(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Hy.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.camelCase=void 0;var Vy=/^--[a-zA-Z0-9_-]+$/,Qy=/-([a-z])/g,Ky=/^[^-]+$/,qy=/^-(webkit|moz|ms|o|khtml)-/,Gy=/^-(ms)-/,Xy=function(e){return!e||Ky.test(e)||Vy.test(e)},Yy=function(e,t){return t.toUpperCase()},hd=function(e,t){return"".concat(t,"-")},Jy=function(e,t){return t===void 0&&(t={}),Xy(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Gy,hd):e=e.replace(qy,hd),e.replace(Qy,Yy))};fo.camelCase=Jy;var Zy=yl&&yl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},e1=Zy(Su),t1=fo;function ma(e,t){var n={};return!e||typeof e!="string"||(0,e1.default)(e,function(r,i){r&&i&&(n[(0,t1.camelCase)(r,t)]=i)}),n}ma.default=ma;var n1=ma;const r1=Kl(n1),Rh=Fh("end"),Cu=Fh("start");function Fh(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function i1(e){const t=Cu(e),n=Rh(e);if(t&&n)return{start:t,end:n}}function ii(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?md(e.position):"start"in e||"end"in e?md(e):"line"in e||"column"in e?ga(e):""}function ga(e){return gd(e&&e.line)+":"+gd(e&&e.column)}function md(e){return ga(e&&e.start)+"-"+ga(e&&e.end)}function gd(e){return e&&typeof e=="number"?e:1}class Ve extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?l.ruleId=r:(l.source=r.slice(0,a),l.ruleId=r.slice(a+1))}if(!l.place&&l.ancestors&&l.ancestors){const a=l.ancestors[l.ancestors.length-1];a&&(l.place=a.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=ii(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ve.prototype.file="";Ve.prototype.name="";Ve.prototype.reason="";Ve.prototype.message="";Ve.prototype.stack="";Ve.prototype.column=void 0;Ve.prototype.line=void 0;Ve.prototype.ancestors=void 0;Ve.prototype.cause=void 0;Ve.prototype.fatal=void 0;Ve.prototype.place=void 0;Ve.prototype.ruleId=void 0;Ve.prototype.source=void 0;const ju={}.hasOwnProperty,l1=new Map,o1=/[A-Z]/g,s1=new Set(["table","tbody","thead","tfoot","tr"]),a1=new Set(["td","th"]),Bh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function u1(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=x1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=g1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bu:Ty,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Oh(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function Oh(e,t,n){if(t.type==="element")return c1(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return d1(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return p1(e,t,n);if(t.type==="mdxjsEsm")return f1(e,t);if(t.type==="root")return h1(e,t,n);if(t.type==="text")return m1(e,t)}function c1(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=bu,e.schema=i),e.ancestors.push(t);const l=Uh(e,t.tagName,!1),o=y1(e,t);let s=Nu(e,t);return s1.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!yy(a):!0})),$h(e,o,l,t),Eu(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function d1(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ji(e,t.position)}function f1(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ji(e,t.position)}function p1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=bu,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:Uh(e,t.name,!0),o=v1(e,t),s=Nu(e,t);return $h(e,o,l,t),Eu(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function h1(e,t,n){const r={};return Eu(r,Nu(e,t)),e.create(t,e.Fragment,r,n)}function m1(e,t){return t.value}function $h(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Eu(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function g1(e,t,n){return r;function r(i,l,o,s){const u=Array.isArray(o.children)?n:t;return s?u(l,o,s):u(l,o)}}function x1(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),a=Cu(r);return t(i,l,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function y1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&ju.call(t.properties,i)){const l=k1(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&a1.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function v1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else ji(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else ji(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function Nu(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:l1;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const a=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const s=Oh(e,l,o);s!==void 0&&n.push(s)}return n}function k1(e,t,n){const r=jy(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?py(n):Ly(n)),r.property==="style"){let i=typeof n=="object"?n:w1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=b1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?by[r.property]||r.property:r.attribute,n]}}function w1(e,t){try{return r1(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ve("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Bh+"#cannot-parse-style-attribute",i}}function Uh(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=od(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=od(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return ju.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ji(e)}function ji(e,t){const n=new Ve("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Bh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function b1(e){const t={};let n;for(n in e)ju.call(e,n)&&(t[S1(n)]=e[n]);return t}function S1(e){let t=e.replace(o1,C1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function C1(e){return"-"+e.toLowerCase()}const es={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},j1={};function Tu(e,t){const n=j1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Hh(e,r,i)}function Hh(e,t,n){if(E1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return xd(e.children,t,n)}return Array.isArray(e)?xd(e,t,n):""}function xd(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Hh(e[i],t,n);return r.join("")}function E1(e){return!!(e&&typeof e=="object")}const yd=document.createElement("i");function Lu(e){const t="&"+e+";";yd.innerHTML=t;const n=yd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function pt(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function kt(e,t){return e.length>0?(pt(e,e.length,0,t),e):t}const vd={}.hasOwnProperty;function Wh(e){const t={};let n=-1;for(;++n<e.length;)N1(t,e[n]);return t}function N1(e,t){let n;for(n in t){const i=(vd.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){vd.call(i,o)||(i[o]=[]);const s=l[o];T1(i[o],Array.isArray(s)?s:s?[s]:[])}}}function T1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);pt(e,0,0,r)}function Vh(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Mt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qe=Cn(/[A-Za-z]/),He=Cn(/[\dA-Za-z]/),L1=Cn(/[#-'*+\--9=?A-Z^-~]/);function Hl(e){return e!==null&&(e<32||e===127)}const xa=Cn(/\d/),P1=Cn(/[\dA-Fa-f]/),_1=Cn(/[!-/:-@[-`{-~]/);function q(e){return e!==null&&e<-2}function fe(e){return e!==null&&(e<0||e===32)}function te(e){return e===-2||e===-1||e===32}const po=Cn(new RegExp("\\p{P}|\\p{S}","u")),On=Cn(/\s/);function Cn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Lr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&He(e.charCodeAt(n+1))&&He(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ie(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(a){return te(a)?(e.enter(n),s(a)):t(a)}function s(a){return te(a)&&l++<i?(e.consume(a),s):(e.exit(n),t(a))}}const M1={tokenize:I1};function I1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ie(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return q(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const D1={tokenize:A1},kd={tokenize:z1};function A1(e){const t=this,n=[];let r=0,i,l,o;return s;function s(y){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,a,u)(y)}return u(y)}function a(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const C=t.events.length;let T=C,j;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){j=t.events[T][1].end;break}m(r);let L=C;for(;L<t.events.length;)t.events[L][1].end={...j},L++;return pt(t.events,T+1,0,t.events.slice(C)),t.events.length=L,u(y)}return s(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(kd,f,d)(y)}function f(y){return i&&x(),m(r),h(y)}function d(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(y)}function h(y){return t.containerState={},e.attempt(kd,p,g)(y)}function p(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function g(y){if(y===null){i&&x(),m(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),v(y)}function v(y){if(y===null){w(e.exit("chunkFlow"),!0),m(0),e.consume(y);return}return q(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),v)}function w(y,C){const T=t.sliceStream(y);if(C&&T.push(null),y.previous=l,l&&(l.next=y),l=y,i.defineSkip(y.start),i.write(T),t.parser.lazy[y.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const L=t.events.length;let _=L,I,E;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(I){E=t.events[_][1].end;break}I=!0}for(m(r),j=L;j<t.events.length;)t.events[j][1].end={...E},j++;pt(t.events,_+1,0,t.events.slice(L)),t.events.length=j}}function m(y){let C=n.length;for(;C-- >y;){const T=n[C];t.containerState=T[1],T[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function z1(e,t,n){return ie(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Sr(e){if(e===null||fe(e)||On(e))return 1;if(po(e))return 2}function ho(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const ya={name:"attention",resolveAll:R1,tokenize:F1};function R1(e,t){let n=-1,r,i,l,o,s,a,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};wd(d,-a),wd(h,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=kt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=kt(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=kt(u,ho(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=kt(u,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=kt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,pt(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function F1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Sr(r);let l;return o;function o(a){return l=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===l)return e.consume(a),s;const u=e.exit("attentionSequence"),f=Sr(a),d=!f||f===2&&i||n.includes(a),h=!i||i===2&&f||n.includes(r);return u._open=!!(l===42?d:d&&(i||!h)),u._close=!!(l===42?h:h&&(f||!d)),t(a)}}function wd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const B1={name:"autolink",tokenize:O1};function O1(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(p){return qe(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||He(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,a):(p===43||p===45||p===46||He(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function a(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Hl(p)?n(p):(e.consume(p),a)}function u(p){return p===64?(e.consume(p),f):L1(p)?(e.consume(p),u):n(p)}function f(p){return He(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||He(p))&&r++<63){const g=p===45?h:d;return e.consume(p),g}return n(p)}}const Ii={partial:!0,tokenize:$1};function $1(e,t,n){return r;function r(l){return te(l)?ie(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||q(l)?t(l):n(l)}}const Qh={continuation:{tokenize:H1},exit:W1,name:"blockQuote",tokenize:U1};function U1(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return te(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function H1(e,t,n){const r=this;return i;function i(o){return te(o)?ie(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(Qh,t,n)(o)}}function W1(e){e.exit("blockQuote")}const Kh={name:"characterEscape",tokenize:V1};function V1(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return _1(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const qh={name:"characterReference",tokenize:Q1};function Q1(e,t,n){const r=this;let i=0,l,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),a}function a(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=He,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=P1,f):(e.enter("characterReferenceValue"),l=7,o=xa,f(d))}function f(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===He&&!Lu(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<l?(e.consume(d),f):n(d)}}const bd={partial:!0,tokenize:q1},Sd={concrete:!0,name:"codeFenced",tokenize:K1};function K1(e,t,n){const r=this,i={partial:!0,tokenize:T};let l=0,o=0,s;return a;function a(j){return u(j)}function u(j){const L=r.events[r.events.length-1];return l=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===s?(o++,e.consume(j),f):o<3?n(j):(e.exit("codeFencedFenceSequence"),te(j)?ie(e,d,"whitespace")(j):d(j))}function d(j){return j===null||q(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(bd,v,C)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||q(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(j)):te(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ie(e,p,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),h)}function p(j){return j===null||q(j)?d(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||q(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(j)):j===96&&j===s?n(j):(e.consume(j),g)}function v(j){return e.attempt(i,C,w)(j)}function w(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),m}function m(j){return l>0&&te(j)?ie(e,x,"linePrefix",l+1)(j):x(j)}function x(j){return j===null||q(j)?e.check(bd,v,C)(j):(e.enter("codeFlowValue"),y(j))}function y(j){return j===null||q(j)?(e.exit("codeFlowValue"),x(j)):(e.consume(j),y)}function C(j){return e.exit("codeFenced"),t(j)}function T(j,L,_){let I=0;return E;function E(X){return j.enter("lineEnding"),j.consume(X),j.exit("lineEnding"),F}function F(X){return j.enter("codeFencedFence"),te(X)?ie(j,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):$(X)}function $(X){return X===s?(j.enter("codeFencedFenceSequence"),K(X)):_(X)}function K(X){return X===s?(I++,j.consume(X),K):I>=o?(j.exit("codeFencedFenceSequence"),te(X)?ie(j,Y,"whitespace")(X):Y(X)):_(X)}function Y(X){return X===null||q(X)?(j.exit("codeFencedFence"),L(X)):_(X)}}}function q1(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const ts={name:"codeIndented",tokenize:X1},G1={partial:!0,tokenize:Y1};function X1(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),ie(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):q(u)?e.attempt(G1,o,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||q(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function Y1(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):q(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ie(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):q(o)?i(o):n(o)}}const J1={name:"codeText",previous:ev,resolve:Z1,tokenize:tv};function Z1(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ev(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tv(e,t,n){let r=0,i,l;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),a(d))}function a(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),a):d===96?(l=e.enter("codeTextSequence"),i=0,f(d)):q(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||q(d)?(e.exit("codeTextData"),a(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(l.type="codeTextData",u(d))}}class nv{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&$r(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$r(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$r(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$r(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$r(this.left,n.reverse())}}}function $r(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Gh(e){const t={};let n=-1,r,i,l,o,s,a,u;const f=new nv(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,l=0,l<a.length&&a[l][1].type==="lineEndingBlank"&&(l+=2),l<a.length&&a[l][1].type==="content"))for(;++l<a.length&&a[l][1].type!=="content";)a[l][1].type==="chunkText"&&(a[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rv(f,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=f.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return pt(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function rv(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,a=[],u={};let f,d,h=-1,p=n,g=0,v=0;const w=[v];for(;p;){for(;e.get(++i)[1]!==p;);l.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(v=h+1,w.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),h=w.length;h--;){const m=s.slice(w[h],w[h+1]),x=l.pop();a.push([x,x+m.length-1]),e.splice(x,2,m)}for(a.reverse(),h=-1;++h<a.length;)u[g+a[h][0]]=g+a[h][1],g+=a[h][1]-a[h][0]-1;return u}const iv={resolve:ov,tokenize:sv},lv={partial:!0,tokenize:av};function ov(e){return Gh(e),e}function sv(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):q(s)?e.check(lv,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function av(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ie(e,l,"linePrefix")}function l(o){if(o===null||q(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Xh(e,t,n,r,i,l,o,s,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return d;function d(m){return m===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(m),e.exit(l),h):m===null||m===32||m===41||Hl(m)?n(m):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(m))}function h(m){return m===62?(e.enter(l),e.consume(m),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(e.exit("chunkString"),e.exit(s),h(m)):m===null||m===60||q(m)?n(m):(e.consume(m),m===92?g:p)}function g(m){return m===60||m===62||m===92?(e.consume(m),p):p(m)}function v(m){return!f&&(m===null||m===41||fe(m))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(m)):f<u&&m===40?(e.consume(m),f++,v):m===41?(e.consume(m),f--,v):m===null||m===32||m===40||Hl(m)?n(m):(e.consume(m),m===92?w:v)}function w(m){return m===40||m===41||m===92?(e.consume(m),v):v(m)}}function Yh(e,t,n,r,i,l){const o=this;let s=0,a;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(l),f}function f(p){return s>999||p===null||p===91||p===93&&!a||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(l),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):q(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||q(p)||s++>999?(e.exit("chunkString"),f(p)):(e.consume(p),a||(a=!te(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function Jh(e,t,n,r,i,l){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,a):n(h)}function a(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(l),u(h))}function u(h){return h===o?(e.exit(l),a(o)):h===null?n(h):q(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ie(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===o||h===null||q(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===o||h===92?(e.consume(h),f):f(h)}}function li(e,t){let n;return r;function r(i){return q(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):te(i)?ie(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const uv={name:"definition",tokenize:dv},cv={partial:!0,tokenize:fv};function dv(e,t,n){const r=this;let i;return l;function l(p){return e.enter("definition"),o(p)}function o(p){return Yh.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a):n(p)}function a(p){return fe(p)?li(e,u)(p):u(p)}function u(p){return Xh(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(cv,d,d)(p)}function d(p){return te(p)?ie(e,h,"whitespace")(p):h(p)}function h(p){return p===null||q(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function fv(e,t,n){return r;function r(s){return fe(s)?li(e,i)(s):n(s)}function i(s){return Jh(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return te(s)?ie(e,o,"whitespace")(s):o(s)}function o(s){return s===null||q(s)?t(s):n(s)}}const pv={name:"hardBreakEscape",tokenize:hv};function hv(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return q(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const mv={name:"headingAtx",resolve:gv,tokenize:xv};function gv(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},pt(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function xv(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),l(f)}function l(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||fe(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),a(f)):f===null||q(f)?(e.exit("atxHeading"),t(f)):te(f)?ie(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function a(f){return f===35?(e.consume(f),a):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||fe(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const yv=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Cd=["pre","script","style","textarea"],vv={concrete:!0,name:"htmlFlow",resolveTo:bv,tokenize:Sv},kv={partial:!0,tokenize:jv},wv={partial:!0,tokenize:Cv};function bv(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Sv(e,t,n){const r=this;let i,l,o,s,a;return u;function u(S){return f(S)}function f(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),d}function d(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),l=!0,v):S===63?(e.consume(S),i=3,r.interrupt?t:k):qe(S)?(e.consume(S),o=String.fromCharCode(S),w):n(S)}function h(S){return S===45?(e.consume(S),i=2,p):S===91?(e.consume(S),i=5,s=0,g):qe(S)?(e.consume(S),i=4,r.interrupt?t:k):n(S)}function p(S){return S===45?(e.consume(S),r.interrupt?t:k):n(S)}function g(S){const de="CDATA[";return S===de.charCodeAt(s++)?(e.consume(S),s===de.length?r.interrupt?t:$:g):n(S)}function v(S){return qe(S)?(e.consume(S),o=String.fromCharCode(S),w):n(S)}function w(S){if(S===null||S===47||S===62||fe(S)){const de=S===47,me=o.toLowerCase();return!de&&!l&&Cd.includes(me)?(i=1,r.interrupt?t(S):$(S)):yv.includes(o.toLowerCase())?(i=6,de?(e.consume(S),m):r.interrupt?t(S):$(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):l?x(S):y(S))}return S===45||He(S)?(e.consume(S),o+=String.fromCharCode(S),w):n(S)}function m(S){return S===62?(e.consume(S),r.interrupt?t:$):n(S)}function x(S){return te(S)?(e.consume(S),x):E(S)}function y(S){return S===47?(e.consume(S),E):S===58||S===95||qe(S)?(e.consume(S),C):te(S)?(e.consume(S),y):E(S)}function C(S){return S===45||S===46||S===58||S===95||He(S)?(e.consume(S),C):T(S)}function T(S){return S===61?(e.consume(S),j):te(S)?(e.consume(S),T):y(S)}function j(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),a=S,L):te(S)?(e.consume(S),j):_(S)}function L(S){return S===a?(e.consume(S),a=null,I):S===null||q(S)?n(S):(e.consume(S),L)}function _(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||fe(S)?T(S):(e.consume(S),_)}function I(S){return S===47||S===62||te(S)?y(S):n(S)}function E(S){return S===62?(e.consume(S),F):n(S)}function F(S){return S===null||q(S)?$(S):te(S)?(e.consume(S),F):n(S)}function $(S){return S===45&&i===2?(e.consume(S),se):S===60&&i===1?(e.consume(S),R):S===62&&i===4?(e.consume(S),H):S===63&&i===3?(e.consume(S),k):S===93&&i===5?(e.consume(S),D):q(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(kv,W,K)(S)):S===null||q(S)?(e.exit("htmlFlowData"),K(S)):(e.consume(S),$)}function K(S){return e.check(wv,Y,W)(S)}function Y(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),X}function X(S){return S===null||q(S)?K(S):(e.enter("htmlFlowData"),$(S))}function se(S){return S===45?(e.consume(S),k):$(S)}function R(S){return S===47?(e.consume(S),o="",P):$(S)}function P(S){if(S===62){const de=o.toLowerCase();return Cd.includes(de)?(e.consume(S),H):$(S)}return qe(S)&&o.length<8?(e.consume(S),o+=String.fromCharCode(S),P):$(S)}function D(S){return S===93?(e.consume(S),k):$(S)}function k(S){return S===62?(e.consume(S),H):S===45&&i===2?(e.consume(S),k):$(S)}function H(S){return S===null||q(S)?(e.exit("htmlFlowData"),W(S)):(e.consume(S),H)}function W(S){return e.exit("htmlFlow"),t(S)}}function Cv(e,t,n){const r=this;return i;function i(o){return q(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function jv(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ii,t,n)}}const Ev={name:"htmlText",tokenize:Nv};function Nv(e,t,n){const r=this;let i,l,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),T):k===63?(e.consume(k),y):qe(k)?(e.consume(k),_):n(k)}function u(k){return k===45?(e.consume(k),f):k===91?(e.consume(k),l=0,g):qe(k)?(e.consume(k),x):n(k)}function f(k){return k===45?(e.consume(k),p):n(k)}function d(k){return k===null?n(k):k===45?(e.consume(k),h):q(k)?(o=d,R(k)):(e.consume(k),d)}function h(k){return k===45?(e.consume(k),p):d(k)}function p(k){return k===62?se(k):k===45?h(k):d(k)}function g(k){const H="CDATA[";return k===H.charCodeAt(l++)?(e.consume(k),l===H.length?v:g):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),w):q(k)?(o=v,R(k)):(e.consume(k),v)}function w(k){return k===93?(e.consume(k),m):v(k)}function m(k){return k===62?se(k):k===93?(e.consume(k),m):v(k)}function x(k){return k===null||k===62?se(k):q(k)?(o=x,R(k)):(e.consume(k),x)}function y(k){return k===null?n(k):k===63?(e.consume(k),C):q(k)?(o=y,R(k)):(e.consume(k),y)}function C(k){return k===62?se(k):y(k)}function T(k){return qe(k)?(e.consume(k),j):n(k)}function j(k){return k===45||He(k)?(e.consume(k),j):L(k)}function L(k){return q(k)?(o=L,R(k)):te(k)?(e.consume(k),L):se(k)}function _(k){return k===45||He(k)?(e.consume(k),_):k===47||k===62||fe(k)?I(k):n(k)}function I(k){return k===47?(e.consume(k),se):k===58||k===95||qe(k)?(e.consume(k),E):q(k)?(o=I,R(k)):te(k)?(e.consume(k),I):se(k)}function E(k){return k===45||k===46||k===58||k===95||He(k)?(e.consume(k),E):F(k)}function F(k){return k===61?(e.consume(k),$):q(k)?(o=F,R(k)):te(k)?(e.consume(k),F):I(k)}function $(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,K):q(k)?(o=$,R(k)):te(k)?(e.consume(k),$):(e.consume(k),Y)}function K(k){return k===i?(e.consume(k),i=void 0,X):k===null?n(k):q(k)?(o=K,R(k)):(e.consume(k),K)}function Y(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||fe(k)?I(k):(e.consume(k),Y)}function X(k){return k===47||k===62||fe(k)?I(k):n(k)}function se(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function R(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),P}function P(k){return te(k)?ie(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):D(k)}function D(k){return e.enter("htmlTextData"),o(k)}}const Pu={name:"labelEnd",resolveAll:_v,resolveTo:Mv,tokenize:Iv},Tv={tokenize:Dv},Lv={tokenize:Av},Pv={tokenize:zv};function _v(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&pt(e,0,e.length,n),e}function Mv(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=kt(s,e.slice(l+1,l+r+3)),s=kt(s,[["enter",f,t]]),s=kt(s,ho(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=kt(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=kt(s,e.slice(o+1)),s=kt(s,[["exit",a,t]]),pt(e,l,e.length,s),e}function Iv(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(h){return l?l._inactive?d(h):(o=r.parser.defined.includes(Mt(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(Tv,f,o?f:d)(h):h===91?e.attempt(Lv,f,o?u:d)(h):o?f(h):d(h)}function u(h){return e.attempt(Pv,f,d)(h)}function f(h){return t(h)}function d(h){return l._balanced=!0,n(h)}}function Dv(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return fe(d)?li(e,l)(d):l(d)}function l(d){return d===41?f(d):Xh(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return fe(d)?li(e,a)(d):f(d)}function s(d){return n(d)}function a(d){return d===34||d===39||d===40?Jh(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return fe(d)?li(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Av(e,t,n){const r=this;return i;function i(s){return Yh.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function zv(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Rv={name:"labelStartImage",resolveAll:Pu.resolveAll,tokenize:Fv};function Fv(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Bv={name:"labelStartLink",resolveAll:Pu.resolveAll,tokenize:Ov};function Ov(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ns={name:"lineEnding",tokenize:$v};function $v(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ie(e,t,"linePrefix")}}const gl={name:"thematicBreak",tokenize:Uv};function Uv(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||q(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),te(u)?ie(e,s,"whitespace")(u):s(u))}}const Ze={continuation:{tokenize:Qv},exit:qv,name:"list",tokenize:Vv},Hv={partial:!0,tokenize:Gv},Wv={partial:!0,tokenize:Kv};function Vv(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:xa(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(gl,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(p)}return n(p)}function a(p){return xa(p)&&++o<10?(e.consume(p),a):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Ii,r.interrupt?n:f,e.attempt(Hv,h,d))}function f(p){return r.containerState.initialBlankLine=!0,l++,h(p)}function d(p){return te(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Qv(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ii,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ie(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!te(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Wv,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,ie(e,e.attempt(Ze,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Kv(e,t,n){const r=this;return ie(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function qv(e){e.exit(this.containerState.type)}function Gv(e,t,n){const r=this;return ie(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!te(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const jd={name:"setextUnderline",resolveTo:Xv,tokenize:Yv};function Xv(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Yv(e,t,n){const r=this;let i;return l;function l(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),te(u)?ie(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||q(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Jv={tokenize:Zv};function Zv(e){const t=this,n=e.attempt(Ii,r,e.attempt(this.parser.constructs.flowInitial,i,ie(e,e.attempt(this.parser.constructs.flow,i,e.attempt(iv,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ek={resolveAll:em()},tk=Zh("string"),nk=Zh("text");function Zh(e){return{resolveAll:em(e==="text"?rk:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(f){return u(f)?l(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return u(f)?(n.exit("data"),l(f)):(n.consume(f),a)}function u(f){if(f===null)return!0;const d=i[f];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function em(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function rk(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,a;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)a=!0,s++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const ik={42:Ze,43:Ze,45:Ze,48:Ze,49:Ze,50:Ze,51:Ze,52:Ze,53:Ze,54:Ze,55:Ze,56:Ze,57:Ze,62:Qh},lk={91:uv},ok={[-2]:ts,[-1]:ts,32:ts},sk={35:mv,42:gl,45:[jd,gl],60:vv,61:jd,95:gl,96:Sd,126:Sd},ak={38:qh,92:Kh},uk={[-5]:ns,[-4]:ns,[-3]:ns,33:Rv,38:qh,42:ya,60:[B1,Ev],91:Bv,92:[pv,Kh],93:Pu,95:ya,96:J1},ck={null:[ya,ek]},dk={null:[42,95]},fk={null:[]},pk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dk,contentInitial:lk,disable:fk,document:ik,flow:sk,flowInitial:ok,insideSpan:ck,string:ak,text:uk},Symbol.toStringTag,{value:"Module"}));function hk(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const a={attempt:L(T),check:L(j),consume:x,enter:y,exit:C,interrupt:L(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let f=t.tokenize.call(u,a);return t.resolveAll&&l.push(t),u;function d(F){return o=kt(o,F),w(),o[o.length-1]!==null?[]:(_(t,0),u.events=ho(l,u.events,u),u.events)}function h(F,$){return gk(p(F),$)}function p(F){return mk(o,F)}function g(){const{_bufferIndex:F,_index:$,line:K,column:Y,offset:X}=r;return{_bufferIndex:F,_index:$,line:K,column:Y,offset:X}}function v(F){i[F.line]=F.column,E()}function w(){let F;for(;r._index<o.length;){const $=o[r._index];if(typeof $=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<$.length;)m($.charCodeAt(r._bufferIndex));else m($)}}function m(F){f=f(F)}function x(F){q(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,E()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function y(F,$){const K=$||{};return K.type=F,K.start=g(),u.events.push(["enter",K,u]),s.push(K),K}function C(F){const $=s.pop();return $.end=g(),u.events.push(["exit",$,u]),$}function T(F,$){_(F,$.from)}function j(F,$){$.restore()}function L(F,$){return K;function K(Y,X,se){let R,P,D,k;return Array.isArray(Y)?W(Y):"tokenize"in Y?W([Y]):H(Y);function H(le){return be;function be(Ae){const _e=Ae!==null&&le[Ae],Be=Ae!==null&&le.null,A=[...Array.isArray(_e)?_e:_e?[_e]:[],...Array.isArray(Be)?Be:Be?[Be]:[]];return W(A)(Ae)}}function W(le){return R=le,P=0,le.length===0?se:S(le[P])}function S(le){return be;function be(Ae){return k=I(),D=le,le.partial||(u.currentConstruct=le),le.name&&u.parser.constructs.disable.null.includes(le.name)?me():le.tokenize.call($?Object.assign(Object.create(u),$):u,a,de,me)(Ae)}}function de(le){return F(D,k),X}function me(le){return k.restore(),++P<R.length?S(R[P]):se}}}function _(F,$){F.resolveAll&&!l.includes(F)&&l.push(F),F.resolve&&pt(u.events,$,u.events.length-$,F.resolve(u.events.slice($),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function I(){const F=g(),$=u.previous,K=u.currentConstruct,Y=u.events.length,X=Array.from(s);return{from:Y,restore:se};function se(){r=F,u.previous=$,u.currentConstruct=K,u.events.length=Y,s=X,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function mk(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function gk(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function xk(e){const r={constructs:Wh([pk,...(e||{}).extensions||[]]),content:i(M1),defined:[],document:i(D1),flow:i(Jv),lazy:{},string:i(tk),text:i(nk)};return r;function i(l){return o;function o(s){return hk(r,l,s)}}}function yk(e){for(;!Gh(e););return e}const Ed=/[\0\t\n\r]/g;function vk(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const a=[];let u,f,d,h,p;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),d=0,t="",n&&(l.charCodeAt(0)===65279&&d++,n=void 0);d<l.length;){if(Ed.lastIndex=d,u=Ed.exec(l),h=u&&u.index!==void 0?u.index:l.length,p=l.charCodeAt(h),!u){t=l.slice(d);break}if(p===10&&d===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),d<h&&(a.push(l.slice(d,h)),e+=h-d),p){case 0:{a.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,a.push(-2);e++<f;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const kk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wk(e){return e.replace(kk,bk)}function bk(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return Vh(n.slice(l?2:1),l?16:10)}return Lu(n)||e}const tm={}.hasOwnProperty;function Sk(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Ck(n)(yk(xk(n).document().write(vk()(e,t,!0))))}function Ck(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Wn),autolinkProtocol:I,autolinkEmail:I,atxHeading:l(Se),blockQuote:l(Be),characterEscape:I,characterReference:I,codeFenced:l(A),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(A,o),codeText:l(V,o),codeTextData:I,data:I,codeFlowValue:I,definition:l(re),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(ae),hardBreakEscape:l(jt),hardBreakTrailing:l(jt),htmlFlow:l(xt,o),htmlFlowData:I,htmlText:l(xt,o),htmlTextData:I,image:l(Pr),label:o,link:l(Wn),listItem:l(jn),listItemValue:h,listOrdered:l(Vn,d),listUnordered:l(Vn),paragraph:l(z),reference:S,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(Se),strong:l(ee),thematicBreak:l(Dt)},exit:{atxHeading:a(),atxHeadingSequence:T,autolink:a(),autolinkEmail:_e,autolinkProtocol:Ae,blockQuote:a(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:le,characterReference:be,codeFenced:a(w),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:E,codeIndented:a(m),codeText:a(X),codeTextData:E,data:E,definition:a(),definitionDestinationString:C,definitionLabelString:x,definitionTitleString:y,emphasis:a(),hardBreakEscape:a($),hardBreakTrailing:a($),htmlFlow:a(K),htmlFlowData:E,htmlText:a(Y),htmlTextData:E,image:a(R),label:D,labelText:P,lineEnding:F,link:a(se),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:de,resourceDestinationString:k,resourceTitleString:H,resource:W,setextHeading:a(_),setextHeadingLineSequence:L,setextHeadingText:j,strong:a(),thematicBreak:a()}};nm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(b){let M={type:"root",children:[]};const Q={stack:[M],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:n},G=[];let ue=-1;for(;++ue<b.length;)if(b[ue][1].type==="listOrdered"||b[ue][1].type==="listUnordered")if(b[ue][0]==="enter")G.push(ue);else{const st=G.pop();ue=i(b,st,ue)}for(ue=-1;++ue<b.length;){const st=t[b[ue][0]];tm.call(st,b[ue][1].type)&&st[b[ue][1].type].call(Object.assign({sliceSerialize:b[ue][2].sliceSerialize},Q),b[ue][1])}if(Q.tokenStack.length>0){const st=Q.tokenStack[Q.tokenStack.length-1];(st[1]||Nd).call(Q,void 0,st[0])}for(M.position={start:rn(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:rn(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<t.transforms.length;)M=t.transforms[ue](M)||M;return M}function i(b,M,Q){let G=M-1,ue=-1,st=!1,Je,Ht,_r,Mr;for(;++G<=Q;){const at=b[G];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?ue++:ue--,Mr=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(Je&&!Mr&&!ue&&!_r&&(_r=G),Mr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mr=void 0}if(!ue&&at[0]==="enter"&&at[1].type==="listItemPrefix"||ue===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(Je){let Qn=G;for(Ht=void 0;Qn--;){const Wt=b[Qn];if(Wt[1].type==="lineEnding"||Wt[1].type==="lineEndingBlank"){if(Wt[0]==="exit")continue;Ht&&(b[Ht][1].type="lineEndingBlank",st=!0),Wt[1].type="lineEnding",Ht=Qn}else if(!(Wt[1].type==="linePrefix"||Wt[1].type==="blockQuotePrefix"||Wt[1].type==="blockQuotePrefixWhitespace"||Wt[1].type==="blockQuoteMarker"||Wt[1].type==="listItemIndent"))break}_r&&(!Ht||_r<Ht)&&(Je._spread=!0),Je.end=Object.assign({},Ht?b[Ht][1].start:at[1].end),b.splice(Ht||G,0,["exit",Je,at[2]]),G++,Q++}if(at[1].type==="listItemPrefix"){const Qn={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};Je=Qn,b.splice(G,0,["enter",Qn,at[2]]),G++,Q++,_r=void 0,Mr=!0}}}return b[M][1]._spread=st,Q}function l(b,M){return Q;function Q(G){s.call(this,b(G),G),M&&M.call(this,G)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(b,M,Q){this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([M,Q||void 0]),b.position={start:rn(M.start),end:void 0}}function a(b){return M;function M(Q){b&&b.call(this,Q),u.call(this,Q)}}function u(b,M){const Q=this.stack.pop(),G=this.tokenStack.pop();if(G)G[0].type!==b.type&&(M?M.call(this,b,G[0]):(G[1]||Nd).call(this,b,G[0]));else throw new Error("Cannot close `"+b.type+"` ("+ii({start:b.start,end:b.end})+"): its not open");Q.position.end=rn(b.end)}function f(){return Tu(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(b){if(this.data.expectingFirstListItemValue){const M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(b),10),this.data.expectingFirstListItemValue=void 0}}function p(){const b=this.resume(),M=this.stack[this.stack.length-1];M.lang=b}function g(){const b=this.resume(),M=this.stack[this.stack.length-1];M.meta=b}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const b=this.resume(),M=this.stack[this.stack.length-1];M.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const b=this.resume(),M=this.stack[this.stack.length-1];M.value=b.replace(/(\r?\n|\r)$/g,"")}function x(b){const M=this.resume(),Q=this.stack[this.stack.length-1];Q.label=M,Q.identifier=Mt(this.sliceSerialize(b)).toLowerCase()}function y(){const b=this.resume(),M=this.stack[this.stack.length-1];M.title=b}function C(){const b=this.resume(),M=this.stack[this.stack.length-1];M.url=b}function T(b){const M=this.stack[this.stack.length-1];if(!M.depth){const Q=this.sliceSerialize(b).length;M.depth=Q}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function L(b){const M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(b).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function I(b){const Q=this.stack[this.stack.length-1].children;let G=Q[Q.length-1];(!G||G.type!=="text")&&(G=je(),G.position={start:rn(b.start),end:void 0},Q.push(G)),this.stack.push(G)}function E(b){const M=this.stack.pop();M.value+=this.sliceSerialize(b),M.position.end=rn(b.end)}function F(b){const M=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Q=M.children[M.children.length-1];Q.position.end=rn(b.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(M.type)&&(I.call(this,b),E.call(this,b))}function $(){this.data.atHardBreak=!0}function K(){const b=this.resume(),M=this.stack[this.stack.length-1];M.value=b}function Y(){const b=this.resume(),M=this.stack[this.stack.length-1];M.value=b}function X(){const b=this.resume(),M=this.stack[this.stack.length-1];M.value=b}function se(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=M,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function R(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=M,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function P(b){const M=this.sliceSerialize(b),Q=this.stack[this.stack.length-2];Q.label=wk(M),Q.identifier=Mt(M).toLowerCase()}function D(){const b=this.stack[this.stack.length-1],M=this.resume(),Q=this.stack[this.stack.length-1];if(this.data.inReference=!0,Q.type==="link"){const G=b.children;Q.children=G}else Q.alt=M}function k(){const b=this.resume(),M=this.stack[this.stack.length-1];M.url=b}function H(){const b=this.resume(),M=this.stack[this.stack.length-1];M.title=b}function W(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function de(b){const M=this.resume(),Q=this.stack[this.stack.length-1];Q.label=M,Q.identifier=Mt(this.sliceSerialize(b)).toLowerCase(),this.data.referenceType="full"}function me(b){this.data.characterReferenceType=b.type}function le(b){const M=this.sliceSerialize(b),Q=this.data.characterReferenceType;let G;Q?(G=Vh(M,Q==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):G=Lu(M);const ue=this.stack[this.stack.length-1];ue.value+=G}function be(b){const M=this.stack.pop();M.position.end=rn(b.end)}function Ae(b){E.call(this,b);const M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(b)}function _e(b){E.call(this,b);const M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(b)}function Be(){return{type:"blockquote",children:[]}}function A(){return{type:"code",lang:null,meta:null,value:""}}function V(){return{type:"inlineCode",value:""}}function re(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ae(){return{type:"emphasis",children:[]}}function Se(){return{type:"heading",depth:0,children:[]}}function jt(){return{type:"break"}}function xt(){return{type:"html",value:""}}function Pr(){return{type:"image",title:null,url:"",alt:null}}function Wn(){return{type:"link",title:null,url:"",children:[]}}function Vn(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function jn(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function z(){return{type:"paragraph",children:[]}}function ee(){return{type:"strong",children:[]}}function je(){return{type:"text",value:""}}function Dt(){return{type:"thematicBreak"}}}function rn(e){return{line:e.line,column:e.column,offset:e.offset}}function nm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nm(e,r):jk(e,r)}}function jk(e,t){let n;for(n in t)if(tm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Nd(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ii({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ii({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ii({start:t.start,end:t.end})+") is still open")}function Ek(e){const t=this;t.parser=n;function n(r){return Sk(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Nk(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Tk(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Lk(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function Pk(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _k(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mk(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Lr(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function Ik(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Dk(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rm(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Ak(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rm(e,t);const i={src:Lr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function zk(e,t){const n={src:Lr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Rk(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Fk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rm(e,t);const i={href:Lr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Bk(e,t){const n={href:Lr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ok(e,t,n){const r=e.all(t),i=n?$k(n):im(t),l={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function $k(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=im(n[r])}return t}function im(e){const t=e.spread;return t??e.children.length>1}function Uk(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Hk(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Wk(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Vk(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Qk(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Cu(t.children[1]),a=Rh(t.children[t.children.length-1]);s&&a&&(o.position={start:s,end:a}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function Kk(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const d=t.children[a],h={},p=o?o[a]:void 0;p&&(h.align=p);let g={type:"element",tagName:l,properties:h,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function qk(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Td=9,Ld=32;function Gk(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(Pd(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(Pd(t.slice(i),i>0,!1)),l.join("")}function Pd(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===Td||l===Ld;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===Td||l===Ld;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Xk(e,t){const n={type:"text",value:Gk(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Yk(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Jk={blockquote:Nk,break:Tk,code:Lk,delete:Pk,emphasis:_k,footnoteReference:Mk,heading:Ik,html:Dk,imageReference:Ak,image:zk,inlineCode:Rk,linkReference:Fk,link:Bk,listItem:Ok,list:Uk,paragraph:Hk,root:Wk,strong:Vk,table:Qk,tableCell:qk,tableRow:Kk,text:Xk,thematicBreak:Yk,toml:Zi,yaml:Zi,definition:Zi,footnoteDefinition:Zi};function Zi(){}const lm=-1,mo=0,oi=1,Wl=2,_u=3,Mu=4,Iu=5,Du=6,om=7,sm=8,_d=typeof self=="object"?self:globalThis,Zk=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case mo:case lm:return n(o,i);case oi:{const s=n([],i);for(const a of o)s.push(r(a));return s}case Wl:{const s=n({},i);for(const[a,u]of o)s[r(a)]=r(u);return s}case _u:return n(new Date(o),i);case Mu:{const{source:s,flags:a}=o;return n(new RegExp(s,a),i)}case Iu:{const s=n(new Map,i);for(const[a,u]of o)s.set(r(a),r(u));return s}case Du:{const s=n(new Set,i);for(const a of o)s.add(r(a));return s}case om:{const{name:s,message:a}=o;return n(new _d[s](a),i)}case sm:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new _d[l](o),i)};return r},Md=e=>Zk(new Map,e)(0),qn="",{toString:ew}={},{keys:tw}=Object,Ur=e=>{const t=typeof e;if(t!=="object"||!e)return[mo,t];const n=ew.call(e).slice(8,-1);switch(n){case"Array":return[oi,qn];case"Object":return[Wl,qn];case"Date":return[_u,qn];case"RegExp":return[Mu,qn];case"Map":return[Iu,qn];case"Set":return[Du,qn];case"DataView":return[oi,n]}return n.includes("Array")?[oi,n]:n.includes("Error")?[om,n]:[Wl,n]},el=([e,t])=>e===mo&&(t==="function"||t==="symbol"),nw=(e,t,n,r)=>{const i=(o,s)=>{const a=r.push(o)-1;return n.set(s,a),a},l=o=>{if(n.has(o))return n.get(o);let[s,a]=Ur(o);switch(s){case mo:{let f=o;switch(a){case"bigint":s=sm,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([lm],o)}return i([s,f],o)}case oi:{if(a){let h=o;return a==="DataView"?h=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(o)),i([a,[...h]],o)}const f=[],d=i([s,f],o);for(const h of o)f.push(l(h));return d}case Wl:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const f=[],d=i([s,f],o);for(const h of tw(o))(e||!el(Ur(o[h])))&&f.push([l(h),l(o[h])]);return d}case _u:return i([s,o.toISOString()],o);case Mu:{const{source:f,flags:d}=o;return i([s,{source:f,flags:d}],o)}case Iu:{const f=[],d=i([s,f],o);for(const[h,p]of o)(e||!(el(Ur(h))||el(Ur(p))))&&f.push([l(h),l(p)]);return d}case Du:{const f=[],d=i([s,f],o);for(const h of o)(e||!el(Ur(h)))&&f.push(l(h));return d}}const{message:u}=o;return i([s,{name:a,message:u}],o)};return l},Id=(e,{json:t,lossy:n}={})=>{const r=[];return nw(!(t||n),!!t,new Map,r)(e),r},Vl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Md(Id(e,t)):structuredClone(e):(e,t)=>Md(Id(e,t));function rw(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function iw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function lw(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rw,r=e.options.footnoteBackLabel||iw,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=Lr(d.toLowerCase());let p=0;const g=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++p<=v;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else f.push(...g);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,m),s.push(m)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Vl(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const go=function(e){if(e==null)return uw;if(typeof e=="function")return xo(e);if(typeof e=="object")return Array.isArray(e)?ow(e):sw(e);if(typeof e=="string")return aw(e);throw new Error("Expected function, string, or object as test")};function ow(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=go(e[n]);return xo(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function sw(e){const t=e;return xo(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function aw(e){return xo(t);function t(n){return n&&n.type===e}}function xo(e){return t;function t(n,r,i){return!!(cw(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function uw(){return!0}function cw(e){return e!==null&&typeof e=="object"&&"type"in e}const am=[],dw=!0,va=!1,fw="skip";function um(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=go(i),o=r?-1:1;s(e,void 0,[])();function s(a,u,f){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=am,g,v,w;if((!t||l(a,u,f[f.length-1]||void 0))&&(p=pw(n(a,f)),p[0]===va))return p;if("children"in a&&a.children){const m=a;if(m.children&&p[0]!==fw)for(v=(r?m.children.length:-1)+o,w=f.concat(m);v>-1&&v<m.children.length;){const x=m.children[v];if(g=s(x,v,w)(),g[0]===va)return g;v=typeof g[1]=="number"?g[1]:v+o}}return p}}}function pw(e){return Array.isArray(e)?e:typeof e=="number"?[dw,e]:e==null?am:[e]}function Au(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),um(e,l,s,i);function s(a,u){const f=u[u.length-1],d=f?f.children.indexOf(a):void 0;return o(a,d,f)}}const ka={}.hasOwnProperty,hw={};function mw(e,t){const n=t||hw,r=new Map,i=new Map,l=new Map,o={...Jk,...n.handlers},s={all:u,applyData:xw,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:a,options:n,patch:gw,wrap:vw};return Au(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),s;function a(f,d){const h=f.type,p=s.handlers[h];if(ka.call(s.handlers,h)&&p)return p(s,f,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:v,...w}=f,m=Vl(w);return m.children=s.all(f),m}return Vl(f)}return(s.options.unknownHandler||yw)(s,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const g=s.one(h[p],f);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Dd(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=Dd(v.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function gw(e,t){e.position&&(t.position=i1(e))}function xw(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,Vl(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function yw(e,t){const n=t.data||{},r="value"in t&&!(ka.call(n,"hProperties")||ka.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vw(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Dd(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ad(e,t){const n=mw(e,t),r=n.one(e,void 0),i=lw(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function kw(e,t){return e&&"run"in e?async function(n,r){const i=Ad(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ad(n,{file:r,...e||t})}}function zd(e){if(e)throw e}var xl=Object.prototype.hasOwnProperty,cm=Object.prototype.toString,Rd=Object.defineProperty,Fd=Object.getOwnPropertyDescriptor,Bd=function(t){return typeof Array.isArray=="function"?Array.isArray(t):cm.call(t)==="[object Array]"},Od=function(t){if(!t||cm.call(t)!=="[object Object]")return!1;var n=xl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&xl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||xl.call(t,i)},$d=function(t,n){Rd&&n.name==="__proto__"?Rd(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Ud=function(t,n){if(n==="__proto__")if(xl.call(t,n)){if(Fd)return Fd(t,n).value}else return;return t[n]},ww=function e(){var t,n,r,i,l,o,s=arguments[0],a=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Ud(s,n),i=Ud(t,n),s!==i&&(f&&i&&(Od(i)||(l=Bd(i)))?(l?(l=!1,o=r&&Bd(r)?r:[]):o=r&&Od(r)?r:{},$d(s,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&$d(s,{name:n,newValue:i}));return s};const rs=Kl(ww);function wa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bw(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(a,...u){const f=e[++l];let d=-1;if(a){o(a);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?Sw(f,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Sw(e,t){let n;return r;function r(...o){const s=e.length>o.length;let a;s&&o.push(i);try{a=e.apply(this,o)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(a&&a.then&&typeof a.then=="function"?a.then(l,i):a instanceof Error?i(a):l(a))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const Rt={basename:Cw,dirname:jw,extname:Ew,join:Nw,sep:"/"};function Cw(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Di(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function jw(e){if(Di(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ew(e){Di(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Nw(...e){let t=-1,n;for(;++t<e.length;)Di(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Tw(n)}function Tw(e){Di(e);const t=e.codePointAt(0)===47;let n=Lw(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Lw(e,t){let n="",r=0,i=-1,l=0,o=-1,s,a;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function Di(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Pw={cwd:_w};function _w(){return"/"}function ba(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Mw(e){if(typeof e=="string")e=new URL(e);else if(!ba(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Iw(e)}function Iw(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const is=["history","path","basename","stem","extname","dirname"];class dm{constructor(t){let n;t?ba(t)?n={path:t}:typeof t=="string"||Dw(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Pw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<is.length;){const l=is[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)is.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rt.basename(this.path):void 0}set basename(t){os(t,"basename"),ls(t,"basename"),this.path=Rt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rt.dirname(this.path):void 0}set dirname(t){Hd(this.basename,"dirname"),this.path=Rt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rt.extname(this.path):void 0}set extname(t){if(ls(t,"extname"),Hd(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ba(t)&&(t=Mw(t)),os(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rt.basename(this.path,this.extname):void 0}set stem(t){os(t,"stem"),ls(t,"stem"),this.path=Rt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ve(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ls(e,t){if(e&&e.includes(Rt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rt.sep+"`")}function os(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Hd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Dw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Aw=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},zw={}.hasOwnProperty;class zu extends Aw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bw()}copy(){const t=new zu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rs(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(us("data",this.frozen),this.namespace[t]=n,this):zw.call(this.namespace,t)&&this.namespace[t]||void 0:t?(us("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=tl(t),r=this.parser||this.Parser;return ss("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ss("process",this.parser||this.Parser),as("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=tl(t),a=r.parse(s);r.run(a,s,function(f,d,h){if(f||!d||!h)return u(f);const p=d,g=r.stringify(p,h);Bw(g)?h.value=g:h.result=g,u(f,h)});function u(f,d){f||!d?o(f):l?l(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),ss("processSync",this.parser||this.Parser),as("processSync",this.compiler||this.Compiler),this.process(t,i),Vd("processSync","process",n),r;function i(l,o){n=!0,zd(l),r=o}}run(t,n,r){Wd(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const a=tl(n);i.run(t,a,u);function u(f,d,h){const p=d||t;f?s(f):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),Vd("runSync","run",r),i;function l(o,s){zd(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=tl(n),i=this.compiler||this.Compiler;return as("stringify",i),Wd(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(us("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;a(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=rs(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];l(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...g]=f;const v=r[h][1];wa(v)&&wa(p)&&(p=rs(!0,v,p)),r[h]=[u,p,...g]}}}}const Rw=new zu().freeze();function ss(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function as(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function us(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Wd(e){if(!wa(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Vd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function tl(e){return Fw(e)?e:new dm(e)}function Fw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Bw(e){return typeof e=="string"||Ow(e)}function Ow(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $w="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qd=[],Kd={allowDangerousHtml:!0},Uw=/^(https?|ircs?|mailto|xmpp)$/i,Hw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yo(e){const t=Ww(e),n=Vw(e);return Qw(t.runSync(t.parse(n),n),e)}function Ww(e){const t=e.rehypePlugins||Qd,n=e.remarkPlugins||Qd,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Kd}:Kd;return Rw().use(Ek).use(n).use(kw,r).use(t)}function Vw(e){const t=e.children||"",n=new dm;return typeof t=="string"&&(n.value=t),n}function Qw(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||Kw;for(const f of Hw)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+$w+f.id,void 0);return Au(e,u),u1(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let p;for(p in es)if(Object.hasOwn(es,p)&&Object.hasOwn(f.properties,p)){const g=f.properties[p],v=es[p];(v===null||v.includes(f.tagName))&&(f.properties[p]=a(String(g||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):l?l.includes(f.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(f,d,h)),p&&h&&typeof d=="number")return s&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function Kw(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Uw.test(e.slice(0,t))?e:""}function qd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function qw(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function fm(e,t,n){const i=go((n||{}).ignore||[]),l=Gw(t);let o=-1;for(;++o<l.length;)um(e,"text",s);function s(u,f){let d=-1,h;for(;++d<f.length;){const p=f[d],g=h?h.children:void 0;if(i(p,g?g.indexOf(p):void 0,h))return;h=p}if(h)return a(u,f)}function a(u,f){const d=f[f.length-1],h=l[o][0],p=l[o][1];let g=0;const w=d.children.indexOf(u);let m=!1,x=[];h.lastIndex=0;let y=h.exec(u.value);for(;y;){const C=y.index,T={index:y.index,input:y.input,stack:[...f,u]};let j=p(...y,T);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?h.lastIndex=C+1:(g!==C&&x.push({type:"text",value:u.value.slice(g,C)}),Array.isArray(j)?x.push(...j):j&&x.push(j),g=C+y[0].length,m=!0),!h.global)break;y=h.exec(u.value)}return m?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),d.children.splice(w,1,...x)):x=[u],w+x.length}}function Gw(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Xw(i[0]),Yw(i[1])])}return t}function Xw(e){return typeof e=="string"?new RegExp(qw(e),"g"):e}function Yw(e){return typeof e=="function"?e:function(){return e}}const cs="phrasing",ds=["autolink","link","image","label"];function Jw(){return{transforms:[l2],enter:{literalAutolink:e2,literalAutolinkEmail:fs,literalAutolinkHttp:fs,literalAutolinkWww:fs},exit:{literalAutolink:i2,literalAutolinkEmail:r2,literalAutolinkHttp:t2,literalAutolinkWww:n2}}}function Zw(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:cs,notInConstruct:ds},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:cs,notInConstruct:ds},{character:":",before:"[ps]",after:"\\/",inConstruct:cs,notInConstruct:ds}]}}function e2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function fs(e){this.config.enter.autolinkProtocol.call(this,e)}function t2(e){this.config.exit.autolinkProtocol.call(this,e)}function n2(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function r2(e){this.config.exit.autolinkEmail.call(this,e)}function i2(e){this.exit(e)}function l2(e){fm(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,o2],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),s2]],{ignore:["link","linkReference"]})}function o2(e,t,n,r,i){let l="";if(!pm(i)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!a2(n)))return!1;const o=u2(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:l+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function s2(e,t,n,r){return!pm(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function a2(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function u2(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=qd(e,"(");let l=qd(e,")");for(;r!==-1&&i>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function pm(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||On(n)||po(n))&&(!t||n!==47)}hm.peek=y2;function c2(){this.buffer()}function d2(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function f2(){this.buffer()}function p2(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function h2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function m2(e){this.exit(e)}function g2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function x2(e){this.exit(e)}function y2(){return"["}function hm(e,t,n,r){const i=n.createTracker(r);let l=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return l+=i.move(n.safe(n.associationId(e),{after:"]",before:l})),s(),o(),l+=i.move("]"),l}function v2(){return{enter:{gfmFootnoteCallString:c2,gfmFootnoteCall:d2,gfmFootnoteDefinitionLabelString:f2,gfmFootnoteDefinition:p2},exit:{gfmFootnoteCallString:h2,gfmFootnoteCall:m2,gfmFootnoteDefinitionLabelString:g2,gfmFootnoteDefinition:x2}}}function k2(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:hm},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,l,o){const s=l.createTracker(o);let a=s.move("[^");const u=l.enter("footnoteDefinition"),f=l.enter("label");return a+=s.move(l.safe(l.associationId(r),{before:a,after:"]"})),f(),a+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),a+=s.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,s.current()),t?mm:w2))),u(),a}}function w2(e,t,n){return t===0?e:mm(e,t,n)}function mm(e,t,n){return(n?"":"    ")+e}const b2=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];gm.peek=N2;function S2(){return{canContainEols:["delete"],enter:{strikethrough:j2},exit:{strikethrough:E2}}}function C2(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b2}],handlers:{delete:gm}}}function j2(e){this.enter({type:"delete",children:[]},e)}function E2(e){this.exit(e)}function gm(e,t,n,r){const i=n.createTracker(r),l=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),l(),o}function N2(){return"~"}function T2(e){return e.length}function L2(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||T2,l=[],o=[],s=[],a=[];let u=0,f=-1;for(;++f<e.length;){const v=[],w=[];let m=-1;for(e[f].length>u&&(u=e[f].length);++m<e[f].length;){const x=P2(e[f][m]);if(n.alignDelimiters!==!1){const y=i(x);w[m]=y,(a[m]===void 0||y>a[m])&&(a[m]=y)}v.push(x)}o[f]=v,s[f]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)l[d]=Gd(r[d]);else{const v=Gd(r);for(;++d<u;)l[d]=v}d=-1;const h=[],p=[];for(;++d<u;){const v=l[d];let w="",m="";v===99?(w=":",m=":"):v===108?w=":":v===114&&(m=":");let x=n.alignDelimiters===!1?1:Math.max(1,a[d]-w.length-m.length);const y=w+"-".repeat(x)+m;n.alignDelimiters!==!1&&(x=w.length+x+m.length,x>a[d]&&(a[d]=x),p[d]=x),h[d]=y}o.splice(1,0,h),s.splice(1,0,p),f=-1;const g=[];for(;++f<o.length;){const v=o[f],w=s[f];d=-1;const m=[];for(;++d<u;){const x=v[d]||"";let y="",C="";if(n.alignDelimiters!==!1){const T=a[d]-(w[d]||0),j=l[d];j===114?y=" ".repeat(T):j===99?T%2?(y=" ".repeat(T/2+.5),C=" ".repeat(T/2-.5)):(y=" ".repeat(T/2),C=y):C=" ".repeat(T)}n.delimiterStart!==!1&&!d&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&m.push(" "),n.alignDelimiters!==!1&&m.push(y),m.push(x),n.alignDelimiters!==!1&&m.push(C),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&m.push("|")}g.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return g.join(`
`)}function P2(e){return e==null?"":String(e)}function Gd(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function _2(e,t,n,r){const i=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const o=n.indentLines(n.containerFlow(e,l.current()),M2);return i(),o}function M2(e,t,n){return">"+(n?"":" ")+e}function I2(e,t){return Xd(e,t.inConstruct,!0)&&!Xd(e,t.notInConstruct,!1)}function Xd(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Yd(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&I2(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function D2(e,t){const n=String(e);let r=n.indexOf(t),i=r,l=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++l>o&&(o=l):l=1,i=r+t.length,r=n.indexOf(t,i);return o}function A2(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function z2(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function R2(e,t,n,r){const i=z2(n),l=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(A2(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(l,F2);return d(),h}const s=n.createTracker(r),a=i.repeat(Math.max(D2(l,i)+1,3)),u=n.enter("codeFenced");let f=s.move(a);if(e.lang){const d=n.enter(`codeFencedLang${o}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),d()}return f+=s.move(`
`),l&&(f+=s.move(l+`
`)),f+=s.move(a),u(),f}function F2(e,t,n){return(n?"":"    ")+e}function Ru(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function B2(e,t,n,r){const i=Ru(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),o(),u}function O2(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ei(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ql(e,t,n){const r=Sr(e),i=Sr(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xm.peek=$2;function xm(e,t,n,r){const i=O2(n),l=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Ql(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ei(u)+a.slice(1));const d=a.charCodeAt(a.length-1),h=Ql(r.after.charCodeAt(0),d,i);h.inside&&(a=a.slice(0,-1)+Ei(d));const p=o.move(i);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function $2(e,t,n){return n.options.emphasis||"*"}function U2(e,t){let n=!1;return Au(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,va}),!!((!e.depth||e.depth<3)&&Tu(e)&&(t.options.setext||n))}function H2(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(U2(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");l.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(u)&&(u=Ei(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),s(),u}ym.peek=W2;function ym(e){return e.value||""}function W2(){return"<"}vm.peek=V2;function vm(e,t,n,r){const i=Ru(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),o(),u}function V2(){return"!"}km.peek=Q2;function km(e,t,n,r){const i=e.referenceType,l=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function Q2(){return"!"}wm.peek=K2;function wm(e,t,n){let r=e.value||"",i="`",l=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const o=n.unsafe[l],s=n.compilePattern(o);let a;if(o.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function K2(){return"`"}function bm(e,t){const n=Tu(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Sm.peek=q2;function Sm(e,t,n,r){const i=Ru(n),l=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,a;if(bm(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=f,d}s=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),a(),e.title&&(a=n.enter(`title${l}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),s(),u}function q2(e,t,n){return bm(e,n)?"<":"["}Cm.peek=G2;function Cm(e,t,n,r){const i=e.referenceType,l=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function G2(){return"["}function Fu(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function X2(e){const t=Fu(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Y2(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function jm(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function J2(e,t,n,r){const i=n.enter("list"),l=n.bulletCurrent;let o=e.ordered?Y2(n):Fu(n);const s=e.ordered?o==="."?")":".":X2(n);let a=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),jm(n)===o&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=l,i(),u}function Z2(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function eb(e,t,n,r){const i=Z2(n);let l=n.bulletCurrent||Fu(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let o=l.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(l+" ".repeat(o-l.length)),s.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return a(),u;function f(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?l:l+" ".repeat(o-l.length))+d}}function tb(e,t,n,r){const i=n.enter("paragraph"),l=n.enter("phrasing"),o=n.containerPhrasing(e,r);return l(),i(),o}const nb=go(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function rb(e,t,n,r){return(e.children.some(function(o){return nb(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function ib(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Em.peek=lb;function Em(e,t,n,r){const i=ib(n),l=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Ql(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ei(u)+a.slice(1));const d=a.charCodeAt(a.length-1),h=Ql(r.after.charCodeAt(0),d,i);h.inside&&(a=a.slice(0,-1)+Ei(d));const p=o.move(i+i);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function lb(e,t,n){return n.options.strong||"*"}function ob(e,t,n,r){return n.safe(e.value,r)}function sb(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ab(e,t,n){const r=(jm(n)+(n.options.ruleSpaces?" ":"")).repeat(sb(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Nm={blockquote:_2,break:Yd,code:R2,definition:B2,emphasis:xm,hardBreak:Yd,heading:H2,html:ym,image:vm,imageReference:km,inlineCode:wm,link:Sm,linkReference:Cm,list:J2,listItem:eb,paragraph:tb,root:rb,strong:Em,text:ob,thematicBreak:ab};function ub(){return{enter:{table:cb,tableData:Jd,tableHeader:Jd,tableRow:fb},exit:{codeText:pb,table:db,tableData:ps,tableHeader:ps,tableRow:ps}}}function cb(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function db(e){this.exit(e),this.data.inTable=void 0}function fb(e){this.enter({type:"tableRow",children:[]},e)}function ps(e){this.exit(e)}function Jd(e){this.enter({type:"tableCell",children:[]},e)}function pb(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,hb));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function hb(e,t){return t==="|"?t:e}function mb(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:a,tableRow:s}};function o(p,g,v,w){return u(f(p,v,w),p.align)}function s(p,g,v,w){const m=d(p,v,w),x=u([m]);return x.slice(0,x.indexOf(`
`))}function a(p,g,v,w){const m=v.enter("tableCell"),x=v.enter("phrasing"),y=v.containerPhrasing(p,{...w,before:l,after:l});return x(),m(),y}function u(p,g){return L2(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function f(p,g,v){const w=p.children;let m=-1;const x=[],y=g.enter("table");for(;++m<w.length;)x[m]=d(w[m],g,v);return y(),x}function d(p,g,v){const w=p.children;let m=-1;const x=[],y=g.enter("tableRow");for(;++m<w.length;)x[m]=a(w[m],p,g,v);return y(),x}function h(p,g,v){let w=Nm.inlineCode(p,g,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function gb(){return{exit:{taskListCheckValueChecked:Zd,taskListCheckValueUnchecked:Zd,paragraph:yb}}}function xb(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:vb}}}function Zd(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function yb(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let l=-1,o;for(;++l<i.length;){const s=i[l];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function vb(e,t,n,r){const i=e.children[0],l=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);l&&s.move(o);let a=Nm.listItem(e,t,n,{...r,...s.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+o}}function kb(){return[Jw(),v2(),S2(),ub(),gb()]}function wb(e){return{extensions:[Zw(),k2(e),C2(),mb(e),xb()]}}const bb={tokenize:Tb,partial:!0},Tm={tokenize:Lb,partial:!0},Lm={tokenize:Pb,partial:!0},Pm={tokenize:_b,partial:!0},Sb={tokenize:Mb,partial:!0},_m={name:"wwwAutolink",tokenize:Eb,previous:Im},Mm={name:"protocolAutolink",tokenize:Nb,previous:Dm},tn={name:"emailAutolink",tokenize:jb,previous:Am},Ut={};function Cb(){return{text:Ut}}let En=48;for(;En<123;)Ut[En]=tn,En++,En===58?En=65:En===91&&(En=97);Ut[43]=tn;Ut[45]=tn;Ut[46]=tn;Ut[95]=tn;Ut[72]=[tn,Mm];Ut[104]=[tn,Mm];Ut[87]=[tn,_m];Ut[119]=[tn,_m];function jb(e,t,n){const r=this;let i,l;return o;function o(d){return!Sa(d)||!Am.call(r,r.previous)||Bu(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return Sa(d)?(e.consume(d),s):d===64?(e.consume(d),a):n(d)}function a(d){return d===46?e.check(Sb,f,u)(d):d===45||d===95||He(d)?(l=!0,e.consume(d),a):f(d)}function u(d){return e.consume(d),i=!0,a}function f(d){return l&&i&&qe(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Eb(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Im.call(r,r.previous)||Bu(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(bb,e.attempt(Tm,e.attempt(Lm,l),n),n)(o))}function l(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Nb(e,t,n){const r=this;let i="",l=!1;return o;function o(d){return(d===72||d===104)&&Dm.call(r,r.previous)&&!Bu(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(qe(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),a}return n(d)}function a(d){return d===47?(e.consume(d),l?u:(l=!0,a)):n(d)}function u(d){return d===null||Hl(d)||fe(d)||On(d)||po(d)?n(d):e.attempt(Tm,e.attempt(Lm,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Tb(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),l):n(o)}function l(o){return o===null?n(o):t(o)}}function Lb(e,t,n){let r,i,l;return o;function o(u){return u===46||u===95?e.check(Pm,a,s)(u):u===null||fe(u)||On(u)||u!==45&&po(u)?a(u):(l=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function a(u){return i||r||!l?n(u):t(u)}}function Pb(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?l(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Pm,t,l)(o):o===null||fe(o)||On(o)?t(o):(e.consume(o),i)}function l(o){return o===41&&r++,e.consume(o),i}}function _b(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),l):s===93?(e.consume(s),i):s===60||s===null||fe(s)||On(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||fe(s)||On(s)?t(s):r(s)}function l(s){return qe(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):qe(s)?(e.consume(s),o):n(s)}}function Mb(e,t,n){return r;function r(l){return e.consume(l),i}function i(l){return He(l)?n(l):t(l)}}function Im(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||fe(e)}function Dm(e){return!qe(e)}function Am(e){return!(e===47||Sa(e))}function Sa(e){return e===43||e===45||e===46||e===95||He(e)}function Bu(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ib={tokenize:$b,partial:!0};function Db(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Fb,continuation:{tokenize:Bb},exit:Ob}},text:{91:{name:"gfmFootnoteCall",tokenize:Rb},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ab,resolveTo:zb}}}}function Ab(e,t,n){const r=this;let i=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!o||!o._balanced)return n(a);const u=Mt(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function zb(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Rb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),a}function a(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(l>999||d===93&&!o||d===null||d===91||fe(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Mt(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return fe(d)||(o=!0),l++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),l++,u):u(d)}}function Fb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,o=0,s;return a;function a(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(g)}function f(g){if(o>999||g===93&&!s||g===null||g===91||fe(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return l=Mt(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return fe(g)||(s=!0),o++,e.consume(g),g===92?d:f}function d(g){return g===91||g===92||g===93?(e.consume(g),o++,f):f(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(l)||i.push(l),ie(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function Bb(e,t,n){return e.check(Ii,t,e.attempt(Ib,t,n))}function Ob(e){e.exit("gfmFootnoteDefinition")}function $b(e,t,n){const r=this;return ie(e,i,"gfmFootnoteDefinitionIndent",5);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(l):n(l)}}function Ub(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},h=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&pt(h,h.length,0,ho(p,o.slice(u+1,a),s)),pt(h,h.length,0,[["exit",d,s],["enter",o[a][1],s],["exit",o[a][1],s],["exit",f,s]]),pt(o,u-1,a-u+3,h),a=u+h.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function l(o,s,a){const u=this.previous,f=this.events;let d=0;return h;function h(g){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const v=Sr(u);if(g===126)return d>1?a(g):(o.consume(g),d++,p);if(d<2&&!n)return a(g);const w=o.exit("strikethroughSequenceTemporary"),m=Sr(g);return w._open=!m||m===2&&!!v,w._close=!v||v===2&&!!m,s(g)}}}class Hb{constructor(){this.map=[]}add(t,n,r){Wb(this,t,n,r)}consume(t){if(this.map.sort(function(l,o){return l[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const l of i)t.push(l);i=r.pop()}this.map.length=0}}function Wb(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Vb(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Qb(){return{flow:{null:{name:"table",tokenize:Kb,resolveAll:qb}}}}function Kb(e,t,n){const r=this;let i=0,l=0,o;return s;function s(E){let F=r.events.length-1;for(;F>-1;){const Y=r.events[F][1].type;if(Y==="lineEnding"||Y==="linePrefix")F--;else break}const $=F>-1?r.events[F][1].type:null,K=$==="tableHead"||$==="tableRow"?j:a;return K===j&&r.parser.lazy[r.now().line]?n(E):K(E)}function a(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,l+=1),f(E)}function f(E){return E===null?n(E):q(E)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),p):n(E):te(E)?ie(e,f,"whitespace")(E):(l+=1,o&&(o=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),d(E)))}function d(E){return E===null||E===124||fe(E)?(e.exit("data"),f(E)):(e.consume(E),E===92?h:d)}function h(E){return E===92||E===124?(e.consume(E),d):d(E)}function p(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,te(E)?ie(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):g(E))}function g(E){return E===45||E===58?w(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),v):T(E)}function v(E){return te(E)?ie(e,w,"whitespace")(E):w(E)}function w(E){return E===58?(l+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),m):E===45?(l+=1,m(E)):E===null||q(E)?C(E):T(E)}function m(E){return E===45?(e.enter("tableDelimiterFiller"),x(E)):T(E)}function x(E){return E===45?(e.consume(E),x):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(E))}function y(E){return te(E)?ie(e,C,"whitespace")(E):C(E)}function C(E){return E===124?g(E):E===null||q(E)?!o||i!==l?T(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):T(E)}function T(E){return n(E)}function j(E){return e.enter("tableRow"),L(E)}function L(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),L):E===null||q(E)?(e.exit("tableRow"),t(E)):te(E)?ie(e,L,"whitespace")(E):(e.enter("data"),_(E))}function _(E){return E===null||E===124||fe(E)?(e.exit("data"),L(E)):(e.consume(E),E===92?I:_)}function I(E){return E===92||E===124?(e.consume(E),_):_(E)}}function qb(e,t){let n=-1,r=!0,i=0,l=[0,0,0,0],o=[0,0,0,0],s=!1,a=0,u,f,d;const h=new Hb;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(s=!1,a!==0&&(ef(h,t,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,l=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",f,t]])),i=g.type==="tableDelimiterRow"?2:f?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(l[1]!==0&&(o[0]=o[1],d=nl(h,t,l,i,void 0,d),l=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(o[0]=o[1],d=nl(h,t,l,i,void 0,d)),l=o,o=[l[1],n,0,0])):g.type==="tableHead"?(s=!0,a=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(a=n,l[1]!==0?(o[0]=o[1],d=nl(h,t,l,i,n,d)):o[1]!==0&&(d=nl(h,t,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&ef(h,t,a,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Vb(t.events,n))}return e}function nl(e,t,n,r,i,l){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(l.end=Object.assign({},Gn(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const a=Gn(t.events,n[1]);if(l={type:o,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const u=Gn(t.events,n[2]),f=Gn(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,v=n[3]-n[2]-1;e.add(g,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(l.end=Object.assign({},Gn(t.events,i)),e.add(i,0,[["exit",l,t]]),l=void 0),l}function ef(e,t,n,r,i){const l=[],o=Gn(t.events,n);i&&(i.end=Object.assign({},o),l.push(["exit",i,t])),r.end=Object.assign({},o),l.push(["exit",r,t]),e.add(n+1,0,l)}function Gn(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Gb={name:"tasklistCheck",tokenize:Yb};function Xb(){return{text:{91:Gb}}}function Yb(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),l)}function l(a){return fe(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(a)}function s(a){return q(a)?t(a):te(a)?e.check({tokenize:Jb},t,n)(a):n(a)}}function Jb(e,t,n){return ie(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Zb(e){return Wh([Cb(),Db(),Ub(e),Qb(),Xb()])}const eS={};function vo(e){const t=this,n=e||eS,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Zb(n)),l.push(kb()),o.push(wb(n))}function tS(e){fm(e,[/\r?\n|\r/g,nS])}function nS(){return{type:"break"}}function Ou(){return function(e){tS(e)}}const rS=200;function iS(e,t=rS){return e.length<=t?e:e.slice(0,t)+"..."}function ko(e){if(!e)return"";const t=e.match(/^mcp__[^_]+__(.+)$/);return t?t[1]:e}function et(e,t){return e?e.length>t?e.slice(0,t-3)+"...":e:null}function Hr(e){if(!e)return null;const t=e.split("/");return t[t.length-1]||null}function lS(e){if(!e)return null;try{return new URL(e).hostname}catch{return et(e,30)}}function zm(e,t,n){var l,o;if(!t)return null;const r=ko(e),i=(n==null?void 0:n.maxLength)??40;switch(r){case"Bash":{const s=t.command;return et(s,i)}case"Glob":{const s=t.pattern;return et(s,i)}case"Grep":{const s=t.pattern,a=t.path;if(!s)return null;const u=a?` in ${Hr(a)||a}`:"";return et(`"${s}"${u}`,i)}case"Read":{const s=t.file_path||t.path;return Hr(s)||et(s,i)}case"Write":{const s=t.file_path||t.path;return Hr(s)||et(s,i)}case"Edit":{const s=t.file_path||t.path;return Hr(s)||et(s,i)}case"NotebookEdit":{const s=t.notebook_path;return Hr(s)||et(s,i)}case"WebFetch":{const s=t.url;return lS(s)}case"WebSearch":{const s=t.query;return s?et(`"${s}"`,i):null}case"Task":{const s=t.description||t.prompt;return et(s,i)}case"SpawnThread":{const s=t.title;return et(s,i)}case"ReadThread":case"ArchiveThread":case"SendToThread":{const s=t.thread_id;return s?((l=n==null?void 0:n.getThreadTitle)==null?void 0:l.call(n,s))||et(s,8)+"...":null}case"AskUserQuestion":{const s=t.questions,a=(o=s==null?void 0:s[0])==null?void 0:o.question;return et(a,i)}case"EnterPlanMode":return"Planning...";case"ExitPlanMode":return"Plan ready";default:{const s=["command","query","path","file_path","url","message","content","title","name","description"];for(const a of s){const u=t[a];if(typeof u=="string"&&u.length>0)return et(u,i)}return null}}}function Rm({tools:e,onNavigateToThread:t}){const[n,r]=N.useState(!1),i=Z(v=>v.threads),l=v=>{const w=i.find(m=>m.title===v);return(w==null?void 0:w.id)||null},o=v=>{const w=i.find(m=>m.id===v);return(w==null?void 0:w.title)||null},s=e.every(v=>v.isComplete),a=N.useRef(!s);if(N.useEffect(()=>{if(s&&a.current&&n){const v=setTimeout(()=>r(!1),vu);return a.current=!1,()=>clearTimeout(v)}s&&(a.current=!1)},[s,n]),e.length===0)return null;const u=e[e.length-1],f=e.filter(v=>v.isComplete).length,d=e.length,h=e.some(v=>!v.isComplete),p=zm(u.name,u.input,{maxLength:35,getThreadTitle:o}),g=d-1;return c.jsx(Nr,{children:c.jsxs("div",{className:"tool-history-block bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg my-2 overflow-hidden",children:[c.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors","aria-expanded":n,children:[c.jsx("span",{className:"w-5 h-5 bg-gray-500 dark:bg-gray-400 rounded-full flex items-center justify-center text-white dark:text-gray-900 text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsxs("span",{className:"flex-1 text-left text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs",children:ko(u.name)}),p&&c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:p}),g>0&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" +",g," more"]}),h?c.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 ml-auto",children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f,"/",d]}):c.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 ml-auto",children:[" ",f,"/",d]})]}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 animate-slide-down",children:e.map((v,w)=>c.jsx(oS,{tool:v,getThreadTitle:o,findThreadByTitle:l,onNavigateToThread:t},v.id||w))})]})})}function oS({tool:e,getThreadTitle:t,findThreadByTitle:n,onNavigateToThread:r}){var p;const[i,l]=N.useState(!1),s=e.input&&Object.keys(e.input).length>0&&JSON.stringify(e.input)!=="{}",a=zm(e.name,e.input,{maxLength:45,getThreadTitle:t}),u=e.name==="SpawnThread",f=u&&((p=e.input)!=null&&p.title)?String(e.input.title):null,d=f?n(f):null,h=g=>{g.stopPropagation(),d&&r&&r(d)};return c.jsxs("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50 last:border-b-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{onClick:()=>s&&l(!i),className:`flex-1 flex items-center gap-2 px-4 py-1.5 text-sm ${s?"cursor-pointer hover:bg-gray-200/30 dark:hover:bg-gray-700/30":"cursor-default"}`,disabled:!s,children:[e.isComplete?c.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs w-4 flex-shrink-0",children:""}):c.jsxs("svg",{className:"w-3 h-3 text-gray-500 animate-spin flex-shrink-0",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 flex-shrink-0",children:ko(e.name)}),a&&c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate flex-1 text-left font-mono",children:a}),s&&!u&&c.jsx("svg",{className:`w-3 h-3 text-gray-400 flex-shrink-0 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&d&&r&&c.jsx("button",{onClick:h,className:"px-2 py-1 mr-2 text-xs text-primary hover:bg-primary/10 rounded transition-colors flex items-center gap-1",title:"Jump to thread",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i&&s&&c.jsx("div",{className:"px-4 pb-2 text-xs text-gray-500 dark:text-gray-500 overflow-hidden max-w-full",children:c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono leading-relaxed bg-gray-200/50 dark:bg-gray-900/50 p-2 rounded",children:JSON.stringify(e.input,null,2)})})]})}function sS(e,t){if(!e||!t)return"";let n="";switch(e){case"Bash":n=t.command?String(t.command):"";break;case"Read":case"Write":case"Edit":n=t.file_path?String(t.file_path):"";break;case"Glob":case"Grep":n=t.pattern?String(t.pattern):"";break;case"Task":n=t.description?String(t.description):"";break;case"WebFetch":n=t.url?String(t.url):"";break;case"SpawnThread":n=t.title?String(t.title):"";break;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":n="";break;default:n=""}return iS(n,100)}function tf(e,t){if(!t)return!1;const n=Object.keys(t);if(n.length===0)return!1;switch(e){case"Write":return!1;case"Read":return!1;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":return!1}return n.some(r=>{const i=t[r];return i!=null&&i!==""&&!(typeof i=="object"&&Object.keys(i).length===0)})}function Ca({name:e,input:t,isComplete:n,isCollapsed:r,isError:i}){const l=tf(e,t),[o,s]=N.useState(!r&&l),a=sS(e,t),u=N.useRef(!n);return N.useEffect(()=>{r&&s(!1)},[r]),N.useEffect(()=>{if(n&&u.current&&o){const f=setTimeout(()=>s(!1),vu);return u.current=!1,()=>clearTimeout(f)}n&&(u.current=!1)},[n,o]),c.jsx(Nr,{children:c.jsxs("div",{className:"my-2",children:[c.jsxs("button",{onClick:()=>l&&s(!o),className:`flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground rounded-lg transition-colors w-full text-left ${i?"bg-red-500/10 hover:bg-red-500/20 border border-red-500/50":"bg-muted/30 hover:bg-muted/50"} ${l?"":"cursor-default"}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n?c.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):c.jsxs("svg",{className:"w-4 h-4 animate-spin flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:`font-medium ${i?"text-red-600":""}`,children:ko(e)}),a&&c.jsx("span",{className:"text-xs opacity-70 truncate flex-1 font-mono",children:a}),l&&c.jsx("svg",{className:`w-4 h-4 transition-transform flex-shrink-0 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&t&&tf(e,t)&&c.jsx("div",{className:"mt-1 ml-6 p-2 bg-muted/20 rounded text-xs font-mono overflow-hidden max-w-full",children:c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(t,null,2)})})]})})}function aS(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"?n.push(r):(n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n})),t}function uS({block:e}){switch(e.type){case"text":return e.content?c.jsx(Nr,{children:c.jsx("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(yo,{remarkPlugins:[vo,Ou],children:e.content})})})}):null;case"thinking":return e.content?c.jsx(Lh,{content:e.content,isStreaming:!1}):null;case"tool_use":return c.jsx(Ca,{name:e.name,input:e.input,isComplete:e.isComplete??!0});default:return null}}function cS({group:e}){if(e.type==="single")return c.jsx(uS,{block:e.block});const t=e.blocks.map(n=>({name:n.name||"unknown",input:n.input,id:n.id,isComplete:n.isComplete??!0}));return c.jsx(Rm,{tools:t})}const dS=N.memo(function({message:t}){const n=t.role==="user",r=t.role==="system",i=N.useMemo(()=>{if(n||!t.content_blocks)return null;try{return JSON.parse(t.content_blocks)}catch{return null}},[n,t.content_blocks]);if(r)return c.jsx("div",{className:"flex justify-center animate-fade-in my-1",children:c.jsx("div",{className:"max-w-[60%] px-3 py-1.5 text-xs text-muted-foreground italic text-center",children:t.content})});if(n&&t.content.startsWith("[notification]"))return null;if(!n&&i&&i.length>0){const o=aS(i);return c.jsxs("div",{className:"animate-fade-in space-y-2",children:[o.map((s,a)=>c.jsx(cS,{group:s},`${t.id}-group-${a}`)),c.jsx("p",{className:"text-xs opacity-70 px-4",children:new Date(t.timestamp).toLocaleTimeString()})]})}return c.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} animate-fade-in`,children:c.jsxs("div",{className:`message-bubble max-w-[60%] px-4 py-2 rounded-lg ${n?"message-bubble-user text-primary-foreground":"message-bubble-assistant text-foreground"}`,children:[n?c.jsx("p",{className:"whitespace-pre-wrap",children:t.content}):c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(yo,{remarkPlugins:[vo,Ou],children:t.content})}),c.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(t.timestamp).toLocaleTimeString()})]})})});function fS({content:e,isStreaming:t=!0}){return c.jsx(Nr,{className:"animate-fade-in","aria-live":"polite",children:c.jsxs("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:[c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(yo,{remarkPlugins:[vo,Ou],children:e})}),t&&c.jsx(Th,{})]})})}function pS({name:e,input:t,isComplete:n,isCollapsed:r,isError:i,submittedAnswers:l}){if(e==="AskUserQuestion"){const o=l?Object.entries(l).map(([,s])=>s).join(", "):null;return c.jsx(Ca,{name:e,input:o?{"Your answers":o}:void 0,isComplete:n||!!l,isCollapsed:l?r:!0,isError:i})}return c.jsx(Ca,{name:e,input:t,isComplete:n,isCollapsed:r,isError:i})}function hS({planFilePath:e,planContent:t,threadId:n,onProceed:r,onModify:i,onCompact:l}){const[o,s]=N.useState(!0),[a,u]=N.useState(!1),[f,d]=N.useState(!1),h=async p=>{d(!0);try{await r(p)}finally{d(!1)}};return N.useEffect(()=>{const p=g=>{if(!f&&!(g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement))switch(g.key){case"1":g.preventDefault(),h("default");break;case"2":g.preventDefault(),h("acceptEdits");break;case"3":g.preventDefault(),h("bypassPermissions");break;case"m":case"M":g.preventDefault(),i();break;case"c":case"C":!g.metaKey&&!g.ctrlKey&&(g.preventDefault(),l());break}};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[f,i,l]),c.jsxs("div",{className:`flex justify-start my-4 ${a?"fixed inset-4 z-50":""}`,children:[a&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>u(!1)}),c.jsxs("div",{className:`rounded-xl overflow-hidden shadow-lg border-2 border-blue-500/40 dark:border-blue-400/30 ${a?"fixed inset-8 z-50 flex flex-col bg-background":"max-w-[85%] w-full"}`,children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-blue-600 to-blue-500 dark:from-blue-700 dark:to-blue-600",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:["Plan Ready for Review",c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-white/20 text-white",children:"Waiting"})]}),c.jsx("p",{className:"text-xs text-blue-100 truncate max-w-md mt-0.5",children:"Review and approve before execution"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(!a),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":a?"Exit fullscreen":"Fullscreen",title:a?"Exit fullscreen":"Expand for easier reading",children:a?c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),c.jsx("button",{onClick:()=>s(!o),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":o?"Collapse plan":"Expand plan",children:c.jsx("svg",{className:`w-5 h-5 text-white transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o&&c.jsx("div",{className:`px-5 py-4 bg-slate-50 dark:bg-slate-900/50 overflow-y-auto ${a?"max-h-[70vh]":"max-h-96"}`,children:c.jsx("div",{className:"prose prose-sm max-w-none text-foreground prose-p:my-2 prose-p:text-foreground prose-headings:text-foreground prose-headings:font-semibold prose-h1:text-lg prose-h2:text-base prose-h3:text-sm prose-strong:text-foreground prose-code:text-foreground prose-code:bg-slate-200 dark:prose-code:bg-slate-700 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none prose-ul:my-2 prose-ol:my-2 prose-li:my-0.5 prose-table:text-sm prose-th:bg-slate-100 dark:prose-th:bg-slate-800 prose-th:px-3 prose-th:py-1.5 prose-td:px-3 prose-td:py-1.5 prose-td:border-slate-200 dark:prose-td:border-slate-700",children:c.jsx(yo,{remarkPlugins:[vo],children:t||"Plan content not available"})})}),c.jsxs("div",{className:"px-5 py-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("button",{onClick:()=>h("default"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg
                         hover:bg-blue-700 active:bg-blue-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Proceed",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-blue-500 rounded font-mono",children:"1"})]}),c.jsxs("button",{onClick:()=>h("acceptEdits"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-emerald-600 text-white rounded-lg
                         hover:bg-emerald-700 active:bg-emerald-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Auto-accept file changes",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Accept Edits",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-emerald-500 rounded font-mono",children:"2"})]}),c.jsxs("button",{onClick:()=>h("bypassPermissions"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg
                         hover:bg-red-700 active:bg-red-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Skip all permission prompts (use with caution)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bypass",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-red-500 rounded font-mono",children:"3"})]}),c.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600 mx-1"}),c.jsxs("button",{onClick:i,disabled:f,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Request changes to the plan",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Modify",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"m"})]}),c.jsxs("button",{onClick:l,disabled:f,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Summarize conversation to free up context",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Compact",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"c"})]})]}),c.jsxs("p",{className:"mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:["Keyboard: ",c.jsx("span",{className:"font-medium",children:"1-3"})," proceed  ",c.jsx("span",{className:"font-medium",children:"m"})," modify  ",c.jsx("span",{className:"font-medium",children:"c"})," compact"]})]})]})]})}function mS(){return c.jsx(Nr,{children:c.jsx("div",{className:"processing-block bg-blue-50/60 dark:bg-blue-900/15 border border-blue-200 dark:border-blue-800 rounded-lg px-3 py-2",children:c.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[c.jsx("span",{className:"w-5 h-5 bg-blue-400 dark:bg-blue-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),c.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:["Connecting to Claude",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})})}function gS(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"?n.push(r):(n.length>0&&(t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),t}function xS(e){const[t,n]=N.useState(null),[r,i]=N.useState(!1);return N.useEffect(()=>{if(!e){n(null);return}let l=!1;const o=async()=>{i(!0);try{const a=await fetch(`/api/threads/${e}/tokens`);if(a.ok&&!l){const u=await a.json();n(u)}}catch{}finally{l||i(!1)}};o();const s=setInterval(o,6e4);return()=>{l=!0,clearInterval(s)}},[e]),{tokenInfo:t,isLoading:r}}function yS({block:e,threadId:t,expandedBlockId:n,onToggleExpanded:r}){const i=e.type==="thinking"?`thinking-${e.timestamp}`:e.id,l=!e.isFinalized;switch(e.type){case"text":return e.content?c.jsx(fS,{content:e.content,isStreaming:l}):null;case"thinking":return e.content?c.jsx(Lh,{content:e.content,isStreaming:l,blockId:i,isExpanded:n===i,onToggle:()=>r(i)}):null;case"tool_use":return c.jsx(pS,{name:e.name,input:e.input,isComplete:e.isComplete,toolUseId:e.id,isCollapsed:e.isCollapsed,isError:e.isError,submittedAnswers:e.submittedAnswers});default:return null}}function vS(){const e=Z(z=>z.threads),t=Z(z=>z.activeThreadId),n=Z(z=>z.streamingBlocks),r=Z(z=>z.expandedStreamingBlockId),i=Z(z=>z.pendingQuestion),l=Z(z=>z.pendingPlanApproval),o=Z(z=>z.handlePlanAction),s=Z(z=>z.threadNotifications),a=Z(z=>z.spawnedThreadIds),u=Z(z=>z.error),f=Z(z=>z.sendMessage),d=Z(z=>z.createThread),h=Z(z=>z.setActiveThread),p=Z(z=>z.setExpandedStreamingBlockId),g=Z(z=>z.clearPendingQuestion),v=Z(z=>z.answerQuestion),w=Z(z=>z.updateThreadConfig),m=Z(z=>z.clearThreadMessages),x=Z(z=>z.archiveThread),y=Z(z=>z.stopThread),[C,T]=N.useState(!1),[j,L]=N.useState(!1),[_,I]=N.useState(!1),[E,F]=N.useState(null),[$,K]=N.useState(!1),Y=N.useRef(null),X=N.useRef(null),{ref:se,inView:R}=xx({threshold:1}),{tokenInfo:P}=xS(t),D=N.useMemo(()=>e.find(z=>z.id===t),[e,t]),k=N.useMemo(()=>D!=null&&D.parentId?e.find(z=>z.id===D.parentId):null,[e,D]),H=(D==null?void 0:D.messages)||[],W=N.useMemo(()=>t?n[t]||[]:[],[t,n]),S=N.useMemo(()=>t?i[t]:void 0,[t,i]),de=N.useMemo(()=>t?l[t]:void 0,[t,l]),me=N.useMemo(()=>t?s[t]||[]:[],[t,s]),le=N.useMemo(()=>t&&r[t]||null,[t,r]),be=(D==null?void 0:D.status)==="pending"&&W.length===0;N.useEffect(()=>(be?(K(!0),Y.current&&(clearTimeout(Y.current),Y.current=null)):$&&(Y.current=setTimeout(()=>{K(!1),Y.current=null},400)),()=>{Y.current&&clearTimeout(Y.current)}),[be,$]);const Ae=N.useCallback(z=>{if(!t)return;p(t,le===z?null:z)},[t,le,p]),_e=N.useMemo(()=>new Set(Object.values(a||{})),[a]),Be=N.useMemo(()=>{const z=me.filter(je=>je.status?!0:!_e.has(je.threadId));return[...H.map(je=>({type:"message",data:je,timestamp:je.timestamp})),...z.map(je=>({type:"notification",data:je,timestamp:je.timestamp}))].sort((je,Dt)=>new Date(je.timestamp).getTime()-new Date(Dt.timestamp).getTime())},[H,me,_e]);N.useEffect(()=>{var z;R&&W.length>0&&((z=X.current)==null||z.scrollIntoView({behavior:"smooth"}))},[W,R]);const A=N.useRef(null);N.useEffect(()=>{var ee;const z=A.current!==t;A.current=t,(z||R)&&((ee=X.current)==null||ee.scrollIntoView({behavior:"smooth"}))},[H.length,t,R]),N.useEffect(()=>{if(E){const z=setTimeout(()=>F(null),3e4);return()=>clearTimeout(z)}},[E]);const V=N.useCallback(async(z,ee,je)=>{if(!t)return;F(null);const Dt=ee==null?void 0:ee.map(b=>({data:b.data,media_type:b.media_type}));await f(t,z,{images:Dt,fileRefs:je})},[t,f]),re=async z=>{I(!1),F(null);try{T(!0);const ee=await d(z);h(ee.id)}catch(ee){F(ee instanceof Error?ee.message:"Failed to create thread")}finally{T(!1)}},ae=async z=>{L(!1),F(null);try{const ee=await d({title:z.title,parentId:t||void 0,model:z.model,permissionMode:z.permissionMode});h(ee.id)}catch(ee){F(ee instanceof Error?ee.message:"Failed to create thread")}},Se=N.useCallback(async z=>{t&&await w(t,{model:z})},[t,w]),jt=N.useCallback(async z=>{D&&await w(D.id,{extendedThinking:z})},[D,w]),xt=N.useCallback(async z=>{D&&await w(D.id,{permissionMode:z})},[D,w]),Pr=N.useCallback(async()=>{if(t&&confirm("Clear all messages in this thread? This cannot be undone."))try{await m(t)}catch(z){F(z instanceof Error?z.message:"Failed to clear thread")}},[t,m]),Wn=N.useCallback(async()=>{if(t)try{await x(t)}catch(z){F(z instanceof Error?z.message:"Failed to archive thread")}},[t,x]),Vn=N.useCallback(async()=>{if(t)try{await y(t)}catch(z){F(z instanceof Error?z.message:"Failed to stop thread")}},[t,y]),jn=E||u;return c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[jn&&c.jsxs("div",{className:"bg-red-500/10 border-b border-red-500/30 px-4 py-3 flex items-start gap-3",children:[c.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),c.jsx("p",{className:"text-red-600/80 text-sm font-mono mt-0.5",children:jn})]}),c.jsx("button",{onClick:()=>F(null),className:"text-red-500 hover:text-red-700 p-1","aria-label":"Dismiss error",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D&&c.jsx(uy,{thread:D,parentThread:k||void 0,tokenInfo:P,onNavigateToParent:()=>k&&h(k.id),onClearThread:Pr,onArchiveThread:Wn}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[H.length===0&&me.length===0&&W.length===0&&c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx("p",{className:"text-lg",children:"Start a conversation"}),c.jsx("p",{className:"text-sm",children:"Type a message below to begin"})]}),Be.map(z=>z.type==="message"?c.jsx(dS,{message:z.data},z.data.id):z.data.status?c.jsx(sy,{notification:z.data,onNavigate:ee=>h(ee)},`completion-${z.data.threadId}-${z.timestamp}`):c.jsx(oy,{notification:z.data,onNavigate:ee=>h(ee)},`created-${z.data.threadId}`)),t&&gS(W).map(z=>{if(z.type==="single"){const ee=z.block,je=ee.id||`block-${ee.timestamp}`;return c.jsx(yS,{block:ee,threadId:t,expandedBlockId:le,onToggleExpanded:Ae},je)}else{const ee=z.blocks[0],je=`tool-group-${ee.id||ee.timestamp}`,Dt=z.blocks.map(b=>({name:b.name||"unknown",input:b.input,id:b.id,isComplete:b.isComplete??!1}));return c.jsx(Rm,{tools:Dt,onNavigateToThread:h},je)}}),$&&c.jsx(mS,{}),S&&t&&c.jsx(ly,{questions:S,onAnswer:async z=>{try{await v(t,z)}catch(ee){F(ee instanceof Error?ee.message:"Failed to submit answer")}},onCancel:()=>{t&&g(t)}}),de&&t&&c.jsx(hS,{planFilePath:de.planFilePath,planContent:de.planContent,threadId:t,onProceed:async z=>{try{await o(t,"proceed",z)}catch(ee){F(ee instanceof Error?ee.message:"Failed to proceed with plan")}},onModify:async()=>{try{await o(t,"modify")}catch(z){F(z instanceof Error?z.message:"Failed to modify plan")}},onCompact:async()=>{try{await o(t,"compact")}catch(z){F(z instanceof Error?z.message:"Failed to compact context")}}}),c.jsx("div",{ref:se,className:"h-1"}),c.jsx("div",{ref:X})]}),D&&c.jsx(fy,{thread:D,disabled:C,onSendMessage:V,onCreateThread:()=>L(!0),onModelChange:Se,onPermissionModeChange:xt,onThinkingToggle:jt,onStopThread:Vn,onError:F}),c.jsx(Qx,{isOpen:j,parentModel:(D==null?void 0:D.model)||"claude-opus-4-5",parentPermissionMode:(D==null?void 0:D.permissionMode)||"acceptEdits",onSubmit:ae,onCancel:()=>L(!1)}),c.jsx(Nh,{isOpen:_,onSubmit:re,onCancel:()=>I(!1)})]})}const $u={needs_attention:{bg:"bg-red-500",label:"Needs attention"},pending:{bg:"bg-orange-500",label:"Processing"},active:{bg:"bg-green-500",label:"Active"},done:{bg:"bg-green-500",label:"Done"},new_message:{bg:"bg-red-500",label:"New message"}};function Fm({status:e}){const t=$u[e],n=e==="pending";return c.jsx("span",{className:`w-2 h-2 rounded-full ${t.bg} flex-shrink-0 ${n?"animate-neon-blink":""}`,title:t.label,"aria-label":`Thread status: ${t.label}`,role:"status"})}function Bm({mode:e}){return e==="plan"?c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-blue-500/20 text-blue-600 dark:text-blue-400",title:"Plan mode - requires approval before execution",children:"Plan"}):e==="bypassPermissions"?c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-red-500/20 text-red-600",title:"Bypass mode - no permission prompts",children:"Bypass"}):null}const Uu={"claude-sonnet-4-5":{short:"Sonnet",full:"Sonnet 4.5",color:"bg-muted text-muted-foreground"},"claude-opus-4-5":{short:"Opus",full:"Opus 4.5",color:"bg-muted text-muted-foreground"},"claude-haiku-4-5":{short:"Haiku",full:"Haiku 4.5",color:"bg-muted text-muted-foreground"}},Hu={short:"?",full:"Unknown",color:"bg-muted text-muted-foreground"};function kS(){const e=Z(R=>R.threads),t=Z(R=>R.activeThreadId),n=Z(R=>R.showArchived),r=Z(R=>R.setActiveThread),i=Z(R=>R.createThread),l=Z(R=>R.archiveThread),o=Z(R=>R.unarchiveThread),s=Z(R=>R.resetAllThreads),a=Z(R=>R.setShowArchived),u=Z(R=>R.stopThread);Z(R=>R.sendMessage);const f=Z(R=>R.updateThreadTitle),d=$t(R=>R.isCreateThreadModalOpen),h=$t(R=>R.openCreateThreadModal),p=$t(R=>R.closeCreateThreadModal),[g,v]=N.useState(!1),[w,m]=N.useState(null),[x,y]=N.useState(new Set),C=N.useRef(new Map),{mainThreads:T,archivedMainThreads:j,archivedSubThreads:L,subThreadsByParent:_,totalArchivedCount:I}=N.useMemo(()=>{const R=e.filter(H=>!H.parentId&&!H.archivedAt),P=e.filter(H=>!H.parentId&&H.archivedAt),D=e.filter(H=>H.parentId&&H.archivedAt),k=new Map;return e.filter(H=>H.parentId&&!H.archivedAt).forEach(H=>{const W=k.get(H.parentId)||[];k.set(H.parentId,[...W,H])}),{mainThreads:R,archivedMainThreads:P,archivedSubThreads:D,subThreadsByParent:k,totalArchivedCount:P.length+D.length}},[e]);N.useEffect(()=>{const R=new Set;_.forEach((D,k)=>{const H=C.current.get(k)||0,W=D.length;H===0&&W>0&&R.add(k)}),R.size>0&&y(D=>{const k=new Set(D);return R.forEach(H=>k.add(H)),k});const P=new Map;_.forEach((D,k)=>{P.set(k,D.length)}),C.current=P},[_]);const E=async R=>{p(),m(null);try{const P=await i(R);r(P.id)}catch(P){const D=P instanceof Error?P.message:"Failed to create thread";m(D)}},F=async R=>{m(null);try{await l(R)}catch(P){const D=P instanceof Error?P.message:"Failed to archive thread";m(D)}},$=R=>{y(P=>{const D=new Set(P);return D.has(R)?D.delete(R):D.add(R),D})},K=async R=>{m(null);try{await o(R)}catch(P){const D=P instanceof Error?P.message:"Failed to unarchive thread";m(D)}},Y=async R=>{m(null);try{await u(R)}catch(P){const D=P instanceof Error?P.message:"Failed to stop thread";m(D)}},X=async()=>{v(!1),m(null);try{await s()}catch(R){const P=R instanceof Error?R.message:"Failed to reset threads";m(P)}},se=async(R,P)=>{m(null);try{await f(R,P)}catch(D){const k=D instanceof Error?D.message:"Failed to rename thread";throw m(k),D}};return c.jsxs("aside",{className:"w-full h-full border-l border-border bg-muted/30 flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between flex-shrink-0",children:[c.jsx("h2",{className:"font-semibold",children:"Threads"}),c.jsx("button",{onClick:h,className:"text-sm px-2 py-1 rounded hover:bg-muted","aria-label":"Create new thread",title:"Create new thread (N)",children:"+ New"})]}),w&&c.jsx("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-500/10",children:w}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[e.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No threads yet"}),T.map(R=>c.jsx(wS,{thread:R,subThreads:_.get(R.id)||[],isActive:R.id===t,onSelect:()=>r(R.id),activeThreadId:t,onSelectSub:r,onArchive:F,onStop:Y,onRename:se,isExpanded:x.has(R.id),onToggleExpand:$},R.id)),n&&I>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[c.jsx("p",{className:"text-xs text-muted-foreground px-2 mb-2 uppercase tracking-wide",children:"Archived"}),j.map(R=>c.jsx(rf,{thread:R,onUnarchive:K,onSelect:()=>r(R.id),isActive:R.id===t},R.id)),L.map(R=>c.jsx(rf,{thread:R,onUnarchive:K,onSelect:()=>r(R.id),isActive:R.id===t,isSubThread:!0},R.id))]})]}),c.jsxs("div",{className:"p-3 border-t border-border space-y-2 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ku,{enabled:n,onChange:a,label:"Show archived"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[I," archived"]})]}),c.jsx("button",{onClick:()=>v(!0),className:"w-full text-xs px-2 py-1.5 rounded border border-red-500/30 text-red-600 hover:bg-red-500/10",children:"Reset All Threads"})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 max-w-sm mx-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Reset All Threads?"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will permanently delete all threads and messages. This action cannot be undone."}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1.5 text-sm rounded border border-border hover:bg-muted",children:"Cancel"}),c.jsx("button",{onClick:X,className:"px-3 py-1.5 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Reset All"})]})]})}),c.jsx(Nh,{isOpen:d,onSubmit:E,onCancel:p})]})}function wS({thread:e,subThreads:t,isActive:n,onSelect:r,activeThreadId:i,onSelectSub:l,onArchive:o,onStop:s,onRename:a,isExpanded:u,onToggleExpand:f}){const d=$u[e.status],h=Uu[e.model]||Hu,p=t.length>0,[g,v]=N.useState(!1),[w,m]=N.useState(e.title),x=N.useRef(null),y=t.some(I=>I.id===i),C=u||y,T=I=>{I.stopPropagation(),f(e.id)},j=I=>{I.stopPropagation(),m(e.title),v(!0)},L=async()=>{const I=w.trim();if(I&&I!==e.title)try{await a(e.id,I)}catch{m(e.title)}else m(e.title);v(!1)},_=I=>{I.key==="Enter"?(I.preventDefault(),L()):I.key==="Escape"&&(I.preventDefault(),m(e.title),v(!1))};return N.useEffect(()=>{g&&x.current&&(x.current.focus(),x.current.select())},[g]),c.jsxs("div",{className:"mb-1 group",children:[c.jsxs("div",{className:"flex items-center",children:[p?c.jsx("button",{onClick:T,className:"w-5 h-5 flex items-center justify-center text-muted-foreground hover:text-foreground flex-shrink-0","aria-label":u?"Collapse sub-threads":"Expand sub-threads",children:c.jsx("svg",{className:`w-3 h-3 transition-transform ${C?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:r,onDoubleClick:j,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2
                      ${n?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select thread: ${e.title}, status: ${d.label}`,children:[c.jsx(Fm,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0",children:[g?c.jsx("input",{ref:x,type:"text",value:w,onChange:I=>m(I.target.value),onBlur:L,onKeyDown:_,onClick:I=>I.stopPropagation(),className:"w-full text-sm bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-sm",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${h.color}`,title:h.full,children:h.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,title:e.extendedThinking?"Extended thinking enabled":"Extended thinking disabled",children:"Thinking"}),c.jsx(Bm,{mode:e.permissionMode}),p&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:t.length}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[60px]",title:e.gitBranch,children:e.gitBranch})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),e.status==="pending"&&c.jsx("button",{onClick:I=>{I.stopPropagation(),s(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),c.jsx("button",{onClick:I=>{I.stopPropagation(),o(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]}),C&&t.length>0&&c.jsx(bS,{subThreads:t,activeThreadId:i,onSelectSub:l,onStop:s,onArchive:o,onRename:a})]})}const nf=5,hs=52;function bS({subThreads:e,activeThreadId:t,onSelectSub:n,onStop:r,onArchive:i,onRename:l}){const o=N.useRef(null),[s,a]=N.useState(!1),[u,f]=N.useState(!1),d=e.length>nf,h=nf*hs,p=()=>{const g=o.current;g&&(a(g.scrollTop>0),f(g.scrollTop<g.scrollHeight-g.clientHeight-1))};return N.useEffect(()=>{p()},[e.length]),N.useEffect(()=>{if(!t||!o.current)return;const g=e.findIndex(v=>v.id===t);if(g>=0){const v=g*hs;o.current.scrollTo({top:v-hs,behavior:"smooth"})}},[t,e]),c.jsxs("div",{className:"ml-5 mt-1 relative",children:[d&&s&&c.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-background to-transparent z-10 pointer-events-none flex items-start justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsx("div",{ref:o,onScroll:p,className:"space-y-1 border-l-2 border-muted pl-1 overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",style:d?{maxHeight:`${h}px`}:void 0,children:e.map(g=>c.jsx(SS,{sub:g,isActive:g.id===t,onSelect:()=>n(g.id),onStop:r,onArchive:i,onRename:l},g.id))}),d&&u&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-background to-transparent z-10 pointer-events-none flex items-end justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),d&&c.jsxs("div",{className:"text-[10px] text-muted-foreground text-center mt-1",children:[e.length," sub-threads"]})]})}function SS({sub:e,isActive:t,onSelect:n,onStop:r,onArchive:i,onRename:l}){const o=$u[e.status],s=Uu[e.model]||Hu,[a,u]=N.useState(!1),[f,d]=N.useState(e.title),h=N.useRef(null),p=w=>{w.stopPropagation(),d(e.title),u(!0)},g=async()=>{const w=f.trim();if(w&&w!==e.title)try{await l(e.id,w)}catch{d(e.title)}else d(e.title);u(!1)},v=w=>{w.key==="Enter"?(w.preventDefault(),g()):w.key==="Escape"&&(w.preventDefault(),d(e.title),u(!1))};return N.useEffect(()=>{a&&h.current&&(h.current.focus(),h.current.select())},[a]),c.jsxs("div",{className:"flex items-center group",children:[c.jsxs("button",{onClick:n,onDoubleClick:p,className:`flex-1 min-w-0 text-left px-2 py-1.5 rounded flex items-center gap-1.5
                    ${t?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select sub-thread: ${e.title}, status: ${o.label}`,children:[c.jsx(Fm,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[a?c.jsx("input",{ref:h,type:"text",value:f,onChange:w=>d(w.target.value),onBlur:g,onKeyDown:v,onClick:w=>w.stopPropagation(),className:"w-full text-xs bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-xs",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${s.color}`,title:s.full,children:s.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,title:e.extendedThinking?"Extended thinking enabled":"Extended thinking disabled",children:"Thinking"}),c.jsx(Bm,{mode:e.permissionMode}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[50px]",title:e.gitBranch,children:e.gitBranch}),e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"WT"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),e.status==="pending"&&c.jsx("button",{onClick:w=>{w.stopPropagation(),r(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),c.jsx("button",{onClick:w=>{w.stopPropagation(),i(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]})}function rf({thread:e,onUnarchive:t,onSelect:n,isActive:r,isSubThread:i}){const l=Uu[e.model]||Hu;return c.jsxs("div",{className:`mb-1 group flex items-center ${i?"ml-4":""}`,children:[c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:n,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2 opacity-60 hover:opacity-100
                    ${r?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select archived ${i?"sub-":""}thread: ${e.title}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}):c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[c.jsx("span",{className:"block truncate text-sm max-w-[160px]",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${l.color}`,title:l.full,children:l.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,children:"Thinking"}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[50px]",title:e.gitBranch,children:e.gitBranch}),i&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:"Sub"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),c.jsx("button",{onClick:o=>{o.stopPropagation(),t(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Restore thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})}const CS=[{value:"claude-opus-4-5",label:"Opus 4.5",desc:"Most intelligent"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5",desc:"Fast & capable"},{value:"claude-haiku-4-5",label:"Haiku 4.5",desc:"Quick & light"}],jS=[{value:"plan",label:"Plan Mode",desc:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-accept file changes"},{value:"default",label:"Normal",desc:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass All",desc:"Skip permission prompts",warning:!0}];function ES(){const{isSettingsOpen:e,closeSettings:t,defaultModel:n,defaultPermissionMode:r,defaultExtendedThinking:i,defaultAutoReact:l,showArchivedByDefault:o,experimentalAllowNestedSubthreads:s,experimentalMaxThreadDepth:a,updateSettings:u,resetToDefaults:f}=$t(),d=N.useRef(null),[h,p]=N.useState(!1);return N.useEffect(()=>{e&&(p(!0),requestAnimationFrame(()=>p(!1)))},[e]),N.useEffect(()=>{if(!e)return;const g=v=>v.key==="Escape"&&t();return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e,t]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:g=>g.target===g.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),c.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-label":"Settings",className:`
          relative bg-background/95 backdrop-blur-xl border border-border/50
          rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden
          transform transition-all duration-200 ease-out
          ${h?"scale-95 opacity-0":"scale-100 opacity-100"}
        `,children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Settings"}),c.jsxs("kbd",{className:`hidden sm:inline-flex items-center gap-1 px-2 py-0.5
                           text-[10px] font-medium text-muted-foreground
                           bg-muted/50 rounded-md border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),","]})]}),c.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-muted-foreground hover:text-foreground
                       hover:bg-muted/50 transition-colors`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"px-6 py-5 space-y-6 max-h-[60vh] overflow-y-auto",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Thread Defaults"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 space-y-4 border border-border/30",children:[c.jsx(ms,{label:"Default Model",description:"For new threads",children:c.jsx(lf,{value:n,options:CS,onChange:g=>u({defaultModel:g})})}),c.jsx(ms,{label:"Permission Mode",description:"How Claude asks for approval",children:c.jsx(lf,{value:r,options:jS,onChange:g=>u({defaultPermissionMode:g}),warning:r==="bypassPermissions"})}),c.jsxs("div",{className:"border-t border-border/30 pt-4 space-y-3",children:[c.jsx(rl,{label:"Extended Thinking",description:"Enable deep reasoning",enabled:i,onChange:g=>u({defaultExtendedThinking:g})}),c.jsx(rl,{label:"Auto-React",description:"Respond to sub-thread completions",enabled:l,onChange:g=>u({defaultAutoReact:g})})]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Display"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(NS,{}),c.jsx("div",{className:"border-t border-border/30 pt-4",children:c.jsx(rl,{label:"Show Archived",description:"Display archived threads by default",enabled:o,onChange:g=>u({showArchivedByDefault:g})})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Keyboard Shortcuts"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 border border-border/30 space-y-2",children:[c.jsx(Wr,{keys:["&#8984;","K"],description:"Command palette"}),c.jsx(Wr,{keys:["&#8984;",","],description:"Open settings"}),c.jsx(Wr,{keys:["Shift","Enter"],description:"Cycle permission mode"}),c.jsx(Wr,{keys:["Esc"],description:"Stop running thread"}),c.jsx(Wr,{keys:["Esc"],description:"Close modals/settings"})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Experimental"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(rl,{label:"Nested Sub-threads",description:"Allow sub-threads to spawn their own sub-threads",enabled:s,onChange:g=>u({experimentalAllowNestedSubthreads:g})}),s&&c.jsx(ms,{label:"Max Depth",description:"Maximum nesting level (2-5)",children:c.jsx("input",{type:"number",min:2,max:5,value:a,onChange:g=>u({experimentalMaxThreadDepth:Math.min(5,Math.max(2,parseInt(g.target.value)||3))}),className:`w-16 px-2 py-1 rounded border border-border bg-background text-sm
                               focus:outline-none focus:ring-2 focus:ring-primary`})})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border/50 bg-muted/20",children:[c.jsx("button",{onClick:f,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Reset to Defaults"}),c.jsx("button",{onClick:t,className:`px-4 py-2 bg-primary text-primary-foreground text-sm font-medium
                       rounded-lg hover:bg-primary/90 transition-colors`,children:"Done"})]})]})]}):null}function ms({label:e,description:t,children:n}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),n]})}function rl({label:e,description:t,enabled:n,onChange:r}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),c.jsx("button",{role:"switch","aria-checked":n,onClick:()=>r(!n),className:`
          relative w-11 h-6 rounded-full transition-colors duration-200
          ${n?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
          absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm
          transition-transform duration-200 ${n?"translate-x-5":""}
        `})})]})}function Wr({keys:e,description:t}){return c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:t}),c.jsx("div",{className:"flex items-center gap-1",children:e.map((n,r)=>c.jsxs("span",{children:[c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-background border border-border/50 rounded",dangerouslySetInnerHTML:{__html:n}}),r<e.length-1&&c.jsx("span",{className:"text-muted-foreground mx-0.5",children:"+"})]},r))})]})}function NS(){const e=$t(r=>r.theme),t=$t(r=>r.updateSettings),n=[{value:"light",label:"Light",icon:""},{value:"dark",label:"Dark",icon:""},{value:"system",label:"System",icon:""}];return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:"Theme"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Light, dark, or system"})]}),c.jsx("div",{className:"flex gap-1 bg-background/50 rounded-lg p-1 border border-border/30",children:n.map(r=>c.jsx("button",{onClick:()=>t({theme:r.value}),className:`
              px-3 py-1.5 text-sm rounded-md transition-colors
              ${e===r.value?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
            `,children:r.label},r.value))})]})}function lf({value:e,options:t,onChange:n,warning:r}){const[i,l]=N.useState(!1),o=t.find(s=>s.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>l(!i),className:`
          flex items-center justify-between gap-2 w-40 px-3 py-1.5 text-sm
          rounded-lg border transition-colors text-left
          ${r?"border-red-500/50 bg-red-500/10 text-red-400":"border-border/50 bg-background/50 hover:bg-muted/50"}
        `,children:[c.jsx("span",{className:"truncate",children:o==null?void 0:o.label}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),c.jsx("div",{className:`absolute right-0 mt-1 w-56 bg-background border border-border
                          rounded-lg shadow-lg z-20 py-1 overflow-hidden`,children:t.map(s=>c.jsxs("button",{onClick:()=>{n(s.value),l(!1)},className:`
                  w-full px-3 py-2 text-left hover:bg-muted/50 transition-colors
                  ${s.value===e?"bg-muted/30":""}
                  ${s.warning?"text-red-400":""}
                `,children:[c.jsx("div",{className:"text-sm font-medium",children:s.label}),c.jsx("div",{className:"text-xs text-muted-foreground",children:s.desc})]},s.value))})]})]})}function TS(){const{isCommandPaletteOpen:e,closeCommandPalette:t,openSettings:n,openCreateThreadModal:r}=$t(),{activeThreadId:i,threads:l,stopThread:o,clearThreadMessages:s}=Z(),[a,u]=N.useState(""),[f,d]=N.useState(0),h=N.useRef(null),p=N.useRef(null),g=l.find(C=>C.id===i),v=(g==null?void 0:g.status)==="pending",w=l.filter(C=>C.parentId&&C.status==="pending"),m=w.length>0,x=N.useMemo(()=>[{id:"new-thread",label:"New Thread",shortcut:"N",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})}),action:()=>{t(),r()}},{id:"settings",label:"Settings",shortcut:",",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),action:()=>{t(),n()}},{id:"stop-thread",label:v?"Stop Thread":"Stop Thread (not running)",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),action:()=>{i&&v&&o(i),t()}},{id:"clear-messages",label:"Clear Messages",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:()=>{i&&s(i),t()}},{id:"stop-all-subthreads",label:m?`Stop All Subthreads (${w.length} running)`:"Stop All Subthreads (none running)",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),danger:!0,action:async()=>{m&&await Promise.all(w.map(C=>o(C.id))),t()}}],[i,v,m,w,t,n,r,o,s]),y=N.useMemo(()=>{if(!a.trim())return x;const C=a.toLowerCase();return x.filter(T=>T.label.toLowerCase().includes(C)||T.id.toLowerCase().includes(C))},[x,a]);return N.useEffect(()=>{d(0)},[a]),N.useEffect(()=>{e&&(u(""),d(0),setTimeout(()=>{var C;return(C=h.current)==null?void 0:C.focus()},0))},[e]),N.useEffect(()=>{if(!e)return;const C=T=>{switch(T.key){case"ArrowDown":T.preventDefault(),d(j=>Math.min(j+1,y.length-1));break;case"ArrowUp":T.preventDefault(),d(j=>Math.max(j-1,0));break;case"Enter":T.preventDefault(),y[f]&&y[f].action();break;case"Escape":T.preventDefault(),t();break}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[e,f,y,t]),N.useEffect(()=>{var T;if(!p.current)return;(T=p.current.querySelectorAll("[data-command]")[f])==null||T.scrollIntoView({block:"nearest"})},[f]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh]",onClick:C=>C.target===C.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs("div",{className:`relative bg-background/95 backdrop-blur-xl border border-border/50
                      rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden`,children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border/50",children:[c.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{ref:h,type:"text",value:a,onChange:C=>u(C.target.value),placeholder:"Type a command...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground"}),c.jsx("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                          bg-muted/50 rounded border border-border/50`,children:"esc"})]}),c.jsx("div",{ref:p,className:"max-h-[300px] overflow-y-auto py-2",children:y.length===0?c.jsx("div",{className:"px-4 py-6 text-center text-sm text-muted-foreground",children:"No commands found"}):y.map((C,T)=>c.jsxs("button",{"data-command":C.id,onClick:C.action,onMouseEnter:()=>d(T),className:`
                  w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors
                  ${T===f?"bg-muted/50":"hover:bg-muted/30"}
                  ${C.id==="stop-thread"&&!v?"opacity-50":""}
                  ${C.id==="stop-all-subthreads"&&!m?"opacity-50":""}
                  ${C.danger?"text-red-400":""}
                `,children:[c.jsx("span",{className:"text-muted-foreground",children:C.icon}),c.jsx("span",{className:"flex-1 text-sm",children:C.label}),C.shortcut&&c.jsxs("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                                  bg-muted/50 rounded border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),C.shortcut]})]},C.id))}),c.jsx("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/20",children:c.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"navigate"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"select"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:"esc"}),"close"]})]})})]})]}):null}const of="mainthread_welcome_shown";function LS(){const[e,t]=N.useState(!1);N.useEffect(()=>{try{localStorage.getItem(of)||t(!0)}catch{t(!0)}},[]);const n=N.useCallback(()=>{try{localStorage.setItem(of,"true")}catch{}t(!1)},[]);return N.useEffect(()=>{if(!e)return;const r=i=>{i.key==="Escape"&&n()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,n]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-title",children:c.jsxs("div",{className:"bg-background border border-border rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[c.jsxs("div",{className:"relative px-8 pt-10 pb-6 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 text-white",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2220%22 height=%2220%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath d=%22M0 0h20v20H0z%22 fill=%22none%22/%3E%3Ccircle cx=%221%22 cy=%221%22 r=%221%22 fill=%22rgba(255,255,255,0.1)%22/%3E%3C/svg%3E')] opacity-50"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("h1",{id:"welcome-title",className:"text-2xl font-bold",children:"Welcome to MainThread"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Multi-threaded AI conversations"})]})]}),c.jsxs("div",{className:"px-8 py-6 space-y-4",children:[c.jsx("p",{className:"text-foreground leading-relaxed",children:"MainThread helps you manage all your Claude agent conversations in one place."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Spawn Parallel Agents"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Agents can spawn other agents to work on tasks in parallel"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Visual Thread Management"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Jump into any conversation at any time with an intuitive interface"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsxs("svg",{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Full Visibility"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"See agent thinking, tool usage, and real-time progress"})]})]})]})]}),c.jsx("div",{className:"px-8 pb-8",children:c.jsx("button",{onClick:n,autoFocus:!0,className:`w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700
                       text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`,children:"Get Started"})})]})}):null}function PS(){const e=$t(t=>t.theme);N.useEffect(()=>{const t=()=>{const n=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(t(),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",t),()=>n.removeEventListener("change",t)}},[e])}const gs=200,xs=500,_S=288,sf="mainthread-sidebar-width";function MS(){const e=Z(l=>l.activeThreadId),t=Z(l=>l.threads),n=Z(l=>l.setActiveThread),r=N.useRef(!1),i=N.useRef(!1);N.useEffect(()=>{if(i.current||t.length===0)return;i.current=!0;const l=window.location.pathname.slice(1)||null;l&&(t.some(s=>s.id===l)?(r.current=!0,n(l)):window.history.replaceState({},"","/"))},[t,n]),N.useEffect(()=>{if(r.current){r.current=!1;return}const l=window.location.pathname.slice(1)||null;if(e!==l){const o=e?`/${e}`:"/";window.history.pushState({},"",o)}},[e]),N.useEffect(()=>{const l=()=>{const o=window.location.pathname.slice(1)||null,s=Z.getState().threads;if(o)s.some(u=>u.id===o)&&(r.current=!0,n(o));else{const a=s.find(u=>!u.parentId)||s[0];a&&(r.current=!0,n(a.id))}};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[n])}function IS(){const{fetchThreads:e,activeThreadId:t,createThread:n,setActiveThread:r,setShowArchived:i}=Z(),{toggleSettings:l,showArchivedByDefault:o,toggleCommandPalette:s}=$t();PS(),MS();const a=N.useRef(!1),u=N.useRef(0),[f,d]=N.useState(()=>{const m=localStorage.getItem(sf);return m?Math.min(Math.max(parseInt(m,10),gs),xs):_S}),[h,p]=N.useState(!1),g=N.useRef(null),v=N.useCallback(m=>{m.preventDefault(),p(!0),g.current={startX:m.clientX,startWidth:f}},[f]);N.useEffect(()=>{if(!h)return;const m=y=>{if(!g.current)return;const C=g.current.startX-y.clientX,T=Math.min(Math.max(g.current.startWidth+C,gs),xs);d(T)},x=y=>{if(g.current){const C=g.current.startX-y.clientX,T=Math.min(Math.max(g.current.startWidth+C,gs),xs);localStorage.setItem(sf,String(T))}p(!1),g.current=null};return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[h]);const w=N.useCallback(m=>{const x=Date.now();x-u.current<5e3||(u.current=x,e(m))},[e]);return N.useEffect(()=>{if(a.current)return;a.current=!0,(async()=>{u.current=Date.now(),await e(!0);const x=Z.getState(),y=x.threads;if(y.length===0)try{const C=await n({title:"Main Thread",workDir:void 0});r(C.id)}catch(C){console.error("Failed to create default thread:",C)}else if(!x.activeThreadId){const C=y.find(T=>!T.parentId)||y[0];r(C.id)}})()},[]),N.useEffect(()=>{const m=()=>{document.visibilityState==="visible"&&w(!0)};return document.addEventListener("visibilitychange",m),()=>document.removeEventListener("visibilitychange",m)},[w]),N.useEffect(()=>{const m=setInterval(()=>{document.visibilityState==="visible"&&w(!0)},6e4);return()=>clearInterval(m)},[w]),N.useEffect(()=>{i(o)},[]),N.useEffect(()=>{const m=x=>{(x.metaKey||x.ctrlKey)&&x.key===","?(x.preventDefault(),l()):(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),s())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[l,s]),c.jsxs("div",{className:`flex h-screen bg-background overflow-hidden ${h?"select-none":""}`,children:[c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[c.jsxs("header",{className:"border-b border-border px-6 py-4 flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-semibold",children:"MainThread"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t?`Thread: ${t}`:"Main conversation"})]}),c.jsx(vS,{})]}),c.jsx("div",{className:`w-1 cursor-col-resize hover:bg-primary/30 transition-colors flex-shrink-0 ${h?"bg-primary/50":"bg-transparent"}`,onMouseDown:v,role:"separator","aria-orientation":"vertical","aria-label":"Resize sidebar"}),c.jsx("div",{style:{width:f},className:"flex-shrink-0",children:c.jsx(kS,{})}),c.jsx(ES,{}),c.jsx(TS,{}),c.jsx(LS,{})]})}ys.createRoot(document.getElementById("root")).render(c.jsx(yf.StrictMode,{children:c.jsx(IS,{})}));
