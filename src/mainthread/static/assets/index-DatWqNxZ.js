(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hf={exports:{}},Yl={},mf={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=Symbol.for("react.element"),qm=Symbol.for("react.portal"),Gm=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Jm=Symbol.for("react.provider"),Zm=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),ng=Symbol.for("react.memo"),rg=Symbol.for("react.lazy"),Gu=Symbol.iterator;function ig(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xf=Object.assign,yf={};function Cr(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||gf}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vf(){}vf.prototype=Cr.prototype;function Pa(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||gf}var _a=Pa.prototype=new vf;_a.constructor=Pa;xf(_a,Cr.prototype);_a.isPureReactComponent=!0;var Xu=Array.isArray,kf=Object.prototype.hasOwnProperty,Ia={current:null},wf={key:!0,ref:!0,__self:!0,__source:!0};function bf(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)kf.call(t,r)&&!wf.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Li,type:e,key:l,ref:o,props:i,_owner:Ia.current}}function lg(e,t){return{$$typeof:Li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ma(e){return typeof e=="object"&&e!==null&&e.$$typeof===Li}function og(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yu=/\/+/g;function jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?og(""+e.key):t.toString(36)}function sl(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Li:case qm:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+jo(o,0):r,Xu(i)?(n="",e!=null&&(n=e.replace(Yu,"$&/")+"/"),sl(i,t,n,"",function(u){return u})):i!=null&&(Ma(i)&&(i=lg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Yu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Xu(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+jo(l,s);o+=sl(l,t,n,a,i)}else if(a=ig(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+jo(l,s++),o+=sl(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ri(e,t,n){if(e==null)return e;var r=[],i=0;return sl(e,r,"","",function(l){return t.call(n,l,i++)}),r}function sg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},al={transition:null},ag={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:al,ReactCurrentOwner:Ia};function Sf(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ri,forEach:function(e,t,n){Ri(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ri(e,function(){t++}),t},toArray:function(e){return Ri(e,function(t){return t})||[]},only:function(e){if(!Ma(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Cr;re.Fragment=Gm;re.Profiler=Ym;re.PureComponent=Pa;re.StrictMode=Xm;re.Suspense=tg;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;re.act=Sf;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xf({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Ia.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)kf.call(t,a)&&!wf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Li,type:e.type,key:i,ref:l,props:r,_owner:o}};re.createContext=function(e){return e={$$typeof:Zm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jm,_context:e},e.Consumer=e};re.createElement=bf;re.createFactory=function(e){var t=bf.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:eg,render:e}};re.isValidElement=Ma;re.lazy=function(e){return{$$typeof:rg,_payload:{_status:-1,_result:e},_init:sg}};re.memo=function(e,t){return{$$typeof:ng,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};re.unstable_act=Sf;re.useCallback=function(e,t){return Xe.current.useCallback(e,t)};re.useContext=function(e){return Xe.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};re.useEffect=function(e,t){return Xe.current.useEffect(e,t)};re.useId=function(){return Xe.current.useId()};re.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Xe.current.useMemo(e,t)};re.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};re.useRef=function(e){return Xe.current.useRef(e)};re.useState=function(e){return Xe.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return Xe.current.useTransition()};re.version="18.3.1";mf.exports=re;var N=mf.exports;const jf=Xl(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug=N,cg=Symbol.for("react.element"),dg=Symbol.for("react.fragment"),fg=Object.prototype.hasOwnProperty,pg=ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hg={key:!0,ref:!0,__self:!0,__source:!0};function Cf(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fg.call(t,r)&&!hg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cg,type:e,key:l,ref:o,props:i,_owner:pg.current}}Yl.Fragment=dg;Yl.jsx=Cf;Yl.jsxs=Cf;hf.exports=Yl;var c=hf.exports,Ss={},Ef={exports:{}},mt={},Nf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,B){var k=_.length;_.push(B);e:for(;0<k;){var Q=k-1>>>1,q=_[Q];if(0<i(q,B))_[Q]=B,_[k]=q,k=Q;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var B=_[0],k=_.pop();if(k!==B){_[0]=k;e:for(var Q=0,q=_.length,S=q>>>1;Q<S;){var K=2*(Q+1)-1,we=_[K],te=K+1,de=_[te];if(0>i(we,k))te<q&&0>i(de,we)?(_[Q]=de,_[te]=k,Q=te):(_[Q]=we,_[K]=k,Q=K);else if(te<q&&0>i(de,k))_[Q]=de,_[te]=k,Q=te;else break e}}return B}function i(_,B){var k=_.sortIndex-B.sortIndex;return k!==0?k:_.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],u=[],f=1,d=null,p=3,h=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=_)r(u),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(u)}}function b(_){if(v=!1,y(_),!g)if(n(a)!==null)g=!0,ue(L);else{var B=n(u);B!==null&&z(b,B.startTime-_)}}function L(_,B){g=!1,v&&(v=!1,m(I),I=-1),h=!0;var k=p;try{for(y(B),d=n(a);d!==null&&(!(d.expirationTime>B)||_&&!O());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,p=d.priorityLevel;var q=Q(d.expirationTime<=B);B=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(a)&&r(a),y(B)}else r(a);d=n(a)}if(d!==null)var S=!0;else{var K=n(u);K!==null&&z(b,K.startTime-B),S=!1}return S}finally{d=null,p=k,h=!1}}var C=!1,P=null,I=-1,A=5,E=-1;function O(){return!(e.unstable_now()-E<A)}function $(){if(P!==null){var _=e.unstable_now();E=_;var B=!0;try{B=P(!0,_)}finally{B?G():(C=!1,P=null)}}else C=!1}var G;if(typeof x=="function")G=function(){x($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,J=Y.port2;Y.port1.onmessage=$,G=function(){J.postMessage(null)}}else G=function(){w($,0)};function ue(_){P=_,C||(C=!0,G())}function z(_,B){I=w(function(){_(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,ue(L))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(_){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var k=p;p=B;try{return _()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,B){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var k=p;p=_;try{return B()}finally{p=k}},e.unstable_scheduleCallback=function(_,B,k){var Q=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,_){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=k+q,_={id:f++,callback:B,priorityLevel:_,startTime:k,expirationTime:q,sortIndex:-1},k>Q?(_.sortIndex=k,t(u,_),n(a)===null&&_===n(u)&&(v?(m(I),I=-1):v=!0,z(b,k-Q))):(_.sortIndex=q,t(a,_),g||h||(g=!0,ue(L))),_},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(_){var B=p;return function(){var k=p;p=B;try{return _.apply(this,arguments)}finally{p=k}}}})(Tf);Nf.exports=Tf;var mg=Nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=N,ht=mg;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lf=new Set,ui={};function On(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(ui[e]=t,e=0;e<t.length;e++)Lf.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=Object.prototype.hasOwnProperty,xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ju={},Zu={};function yg(e){return js.call(Zu,e)?!0:js.call(Ju,e)?!1:xg.test(e)?Zu[e]=!0:(Ju[e]=!0,!1)}function vg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kg(e,t,n,r){if(t===null||typeof t>"u"||vg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Da=/[\-:]([a-z])/g;function Aa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Da,Aa);Fe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Da,Aa);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Da,Aa);Fe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function za(e,t,n,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kg(t,n,i,r)&&(n=null),r||i===null?yg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),Ra=Symbol.for("react.strict_mode"),Cs=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),Ba=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),Fa=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),If=Symbol.for("react.offscreen"),ec=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Co;function Kr(e){if(Co===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Co=t&&t[1]||""}return`
`+Co+e}var Eo=!1;function No(e,t){if(!e||Eo)return"";Eo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{Eo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kr(e):""}function wg(e){switch(e.tag){case 5:return Kr(e.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 2:case 15:return e=No(e.type,!1),e;case 11:return e=No(e.type.render,!1),e;case 1:return e=No(e.type,!0),e;default:return""}}function Ts(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Yn:return"Portal";case Cs:return"Profiler";case Ra:return"StrictMode";case Es:return"Suspense";case Ns:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _f:return(e.displayName||"Context")+".Consumer";case Pf:return(e._context.displayName||"Context")+".Provider";case Ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fa:return t=e.displayName||null,t!==null?t:Ts(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return Ts(e(t))}catch{}}return null}function bg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ts(t);case 8:return t===Ra?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e){var t=Mf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=Sg(e))}function Df(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ls(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Af(e,t){t=t.checked,t!=null&&za(e,"checked",t,!1)}function Ps(e,t){Af(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_s(e,t.type,n):t.hasOwnProperty("defaultValue")&&_s(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _s(e,t,n){(t!=="number"||bl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qr=Array.isArray;function ur(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Is(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(qr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function zf(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ic(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ms(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oi,Bf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ci(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yr[t]=Yr[e]})});function Ff(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+t).trim():t+"px"}function Of(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ff(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Cg=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(e,t){if(t){if(Cg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function As(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,cr=null,dr=null;function lc(e){if(e=Ii(e)){if(typeof Rs!="function")throw Error(R(280));var t=e.stateNode;t&&(t=no(t),Rs(e.stateNode,e.type,t))}}function $f(e){cr?dr?dr.push(e):dr=[e]:cr=e}function Wf(){if(cr){var e=cr,t=dr;if(dr=cr=null,lc(e),t)for(e=0;e<t.length;e++)lc(t[e])}}function Hf(e,t){return e(t)}function Uf(){}var To=!1;function Vf(e,t,n){if(To)return e(t,n);To=!0;try{return Hf(e,t,n)}finally{To=!1,(cr!==null||dr!==null)&&(Uf(),Wf())}}function di(e,t){var n=e.stateNode;if(n===null)return null;var r=no(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Bs=!1;if(Xt)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Bs=!1}function Eg(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Jr=!1,Sl=null,jl=!1,Fs=null,Ng={onError:function(e){Jr=!0,Sl=e}};function Tg(e,t,n,r,i,l,o,s,a){Jr=!1,Sl=null,Eg.apply(Ng,arguments)}function Lg(e,t,n,r,i,l,o,s,a){if(Tg.apply(this,arguments),Jr){if(Jr){var u=Sl;Jr=!1,Sl=null}else throw Error(R(198));jl||(jl=!0,Fs=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oc(e){if($n(e)!==e)throw Error(R(188))}function Pg(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return oc(i),e;if(l===r)return oc(i),t;l=l.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Kf(e){return e=Pg(e),e!==null?qf(e):null}function qf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qf(e);if(t!==null)return t;e=e.sibling}return null}var Gf=ht.unstable_scheduleCallback,sc=ht.unstable_cancelCallback,_g=ht.unstable_shouldYield,Ig=ht.unstable_requestPaint,je=ht.unstable_now,Mg=ht.unstable_getCurrentPriorityLevel,$a=ht.unstable_ImmediatePriority,Xf=ht.unstable_UserBlockingPriority,Cl=ht.unstable_NormalPriority,Dg=ht.unstable_LowPriority,Yf=ht.unstable_IdlePriority,Jl=null,Ot=null;function Ag(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Bg,zg=Math.log,Rg=Math.LN2;function Bg(e){return e>>>=0,e===0?32:31-(zg(e)/Rg|0)|0}var $i=64,Wi=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function El(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Gr(s):(l&=o,l!==0&&(r=Gr(l)))}else o=n&~i,o!==0?r=Gr(o):l!==0&&(r=Gr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),i=1<<n,r|=e[n],t&=~i;return r}function Fg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-_t(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=Fg(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function Os(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jf(){var e=$i;return $i<<=1,!($i&4194240)&&($i=64),e}function Lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function $g(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_t(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Wa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ce=0;function Zf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ep,Ha,tp,np,rp,$s=!1,Hi=[],dn=null,fn=null,pn=null,fi=new Map,pi=new Map,sn=[],Wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function Rr(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Ii(t),t!==null&&Ha(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Hg(e,t,n,r,i){switch(t){case"focusin":return dn=Rr(dn,e,t,n,r,i),!0;case"dragenter":return fn=Rr(fn,e,t,n,r,i),!0;case"mouseover":return pn=Rr(pn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return fi.set(l,Rr(fi.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,pi.set(l,Rr(pi.get(l)||null,e,t,n,r,i)),!0}return!1}function ip(e){var t=Ln(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=Qf(n),t!==null){e.blockedOn=t,rp(e.priority,function(){tp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ws(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zs=r,n.target.dispatchEvent(r),zs=null}else return t=Ii(n),t!==null&&Ha(t),e.blockedOn=n,!1;t.shift()}return!0}function uc(e,t,n){ul(e)&&n.delete(t)}function Ug(){$s=!1,dn!==null&&ul(dn)&&(dn=null),fn!==null&&ul(fn)&&(fn=null),pn!==null&&ul(pn)&&(pn=null),fi.forEach(uc),pi.forEach(uc)}function Br(e,t){e.blockedOn===t&&(e.blockedOn=null,$s||($s=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Ug)))}function hi(e){function t(i){return Br(i,e)}if(0<Hi.length){Br(Hi[0],e);for(var n=1;n<Hi.length;n++){var r=Hi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Br(dn,e),fn!==null&&Br(fn,e),pn!==null&&Br(pn,e),fi.forEach(t),pi.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)ip(n),n.blockedOn===null&&sn.shift()}var fr=en.ReactCurrentBatchConfig,Nl=!0;function Vg(e,t,n,r){var i=ce,l=fr.transition;fr.transition=null;try{ce=1,Ua(e,t,n,r)}finally{ce=i,fr.transition=l}}function Qg(e,t,n,r){var i=ce,l=fr.transition;fr.transition=null;try{ce=4,Ua(e,t,n,r)}finally{ce=i,fr.transition=l}}function Ua(e,t,n,r){if(Nl){var i=Ws(e,t,n,r);if(i===null)Fo(e,t,r,Tl,n),ac(e,r);else if(Hg(i,e,t,n,r))r.stopPropagation();else if(ac(e,r),t&4&&-1<Wg.indexOf(e)){for(;i!==null;){var l=Ii(i);if(l!==null&&ep(l),l=Ws(e,t,n,r),l===null&&Fo(e,t,r,Tl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Fo(e,t,r,null,n)}}var Tl=null;function Ws(e,t,n,r){if(Tl=null,e=Oa(r),e=Ln(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function lp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case $a:return 1;case Xf:return 4;case Cl:case Dg:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var un=null,Va=null,cl=null;function op(){if(cl)return cl;var e,t=Va,n=t.length,r,i="value"in un?un.value:un.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return cl=i.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function cc(){return!1}function gt(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ui:cc,this.isPropagationStopped=cc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=gt(Er),_i=ke({},Er,{view:0,detail:0}),Kg=gt(_i),Po,_o,Fr,Zl=ke({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(Po=e.screenX-Fr.screenX,_o=e.screenY-Fr.screenY):_o=Po=0,Fr=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),dc=gt(Zl),qg=ke({},Zl,{dataTransfer:0}),Gg=gt(qg),Xg=ke({},_i,{relatedTarget:0}),Io=gt(Xg),Yg=ke({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=gt(Yg),Zg=ke({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ex=gt(Zg),tx=ke({},Er,{data:0}),fc=gt(tx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ix[e])?!!t[e]:!1}function Ka(){return lx}var ox=ke({},_i,{key:function(e){if(e.key){var t=nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sx=gt(ox),ax=ke({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=gt(ax),ux=ke({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),cx=gt(ux),dx=ke({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),fx=gt(dx),px=ke({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hx=gt(px),mx=[9,13,27,32],qa=Xt&&"CompositionEvent"in window,Zr=null;Xt&&"documentMode"in document&&(Zr=document.documentMode);var gx=Xt&&"TextEvent"in window&&!Zr,sp=Xt&&(!qa||Zr&&8<Zr&&11>=Zr),hc=" ",mc=!1;function ap(e,t){switch(e){case"keyup":return mx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function xx(e,t){switch(e){case"compositionend":return up(t);case"keypress":return t.which!==32?null:(mc=!0,hc);case"textInput":return e=t.data,e===hc&&mc?null:e;default:return null}}function yx(e,t){if(Zn)return e==="compositionend"||!qa&&ap(e,t)?(e=op(),cl=Va=un=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sp&&t.locale!=="ko"?null:t.data;default:return null}}var vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vx[e.type]:t==="textarea"}function cp(e,t,n,r){$f(r),t=Ll(t,"onChange"),0<t.length&&(n=new Qa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ei=null,mi=null;function kx(e){wp(e,0)}function eo(e){var t=nr(e);if(Df(t))return e}function wx(e,t){if(e==="change")return t}var dp=!1;if(Xt){var Mo;if(Xt){var Do="oninput"in document;if(!Do){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Do=typeof xc.oninput=="function"}Mo=Do}else Mo=!1;dp=Mo&&(!document.documentMode||9<document.documentMode)}function yc(){ei&&(ei.detachEvent("onpropertychange",fp),mi=ei=null)}function fp(e){if(e.propertyName==="value"&&eo(mi)){var t=[];cp(t,mi,e,Oa(e)),Vf(kx,t)}}function bx(e,t,n){e==="focusin"?(yc(),ei=t,mi=n,ei.attachEvent("onpropertychange",fp)):e==="focusout"&&yc()}function Sx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eo(mi)}function jx(e,t){if(e==="click")return eo(t)}function Cx(e,t){if(e==="input"||e==="change")return eo(t)}function Ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Ex;function gi(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!js.call(t,i)||!Dt(e[i],t[i]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=vc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vc(n)}}function pp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hp(){for(var e=window,t=bl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bl(e.document)}return t}function Ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nx(e){var t=hp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pp(n.ownerDocument.documentElement,n)){if(r!==null&&Ga(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=kc(n,l);var o=kc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tx=Xt&&"documentMode"in document&&11>=document.documentMode,er=null,Hs=null,ti=null,Us=!1;function wc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Us||er==null||er!==bl(r)||(r=er,"selectionStart"in r&&Ga(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ti&&gi(ti,r)||(ti=r,r=Ll(Hs,"onSelect"),0<r.length&&(t=new Qa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=er)))}function Vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},Ao={},mp={};Xt&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function to(e){if(Ao[e])return Ao[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mp)return Ao[e]=t[n];return e}var gp=to("animationend"),xp=to("animationiteration"),yp=to("animationstart"),vp=to("transitionend"),kp=new Map,bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){kp.set(e,t),On(t,[e])}for(var zo=0;zo<bc.length;zo++){var Ro=bc[zo],Lx=Ro.toLowerCase(),Px=Ro[0].toUpperCase()+Ro.slice(1);wn(Lx,"on"+Px)}wn(gp,"onAnimationEnd");wn(xp,"onAnimationIteration");wn(yp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(vp,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_x=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function Sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lg(r,t,void 0,e),e.currentTarget=null}function wp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;Sc(i,s,u),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;Sc(i,s,u),l=a}}}if(jl)throw e=Fs,jl=!1,Fs=null,e}function me(e,t){var n=t[Gs];n===void 0&&(n=t[Gs]=new Set);var r=e+"__bubble";n.has(r)||(bp(t,e,2,!1),n.add(r))}function Bo(e,t,n){var r=0;t&&(r|=4),bp(n,e,r,t)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function xi(e){if(!e[Qi]){e[Qi]=!0,Lf.forEach(function(n){n!=="selectionchange"&&(_x.has(n)||Bo(n,!1,e),Bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qi]||(t[Qi]=!0,Bo("selectionchange",!1,t))}}function bp(e,t,n,r){switch(lp(t)){case 1:var i=Vg;break;case 4:i=Qg;break;default:i=Ua}n=i.bind(null,t,n,e),i=void 0,!Bs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fo(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ln(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Vf(function(){var u=l,f=Oa(n),d=[];e:{var p=kp.get(e);if(p!==void 0){var h=Qa,g=e;switch(e){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":h=sx;break;case"focusin":g="focus",h=Io;break;case"focusout":g="blur",h=Io;break;case"beforeblur":case"afterblur":h=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cx;break;case gp:case xp:case yp:h=Jg;break;case vp:h=fx;break;case"scroll":h=Kg;break;case"wheel":h=hx;break;case"copy":case"cut":case"paste":h=ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=pc}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=di(x,m),b!=null&&v.push(yi(x,b,y)))),w)break;x=x.return}0<v.length&&(p=new h(p,g,null,n,f),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==zs&&(g=n.relatedTarget||n.fromElement)&&(Ln(g)||g[Yt]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ln(g):null,g!==null&&(w=$n(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(v=dc,b="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=pc,b="onPointerLeave",m="onPointerEnter",x="pointer"),w=h==null?p:nr(h),y=g==null?p:nr(g),p=new v(b,x+"leave",h,n,f),p.target=w,p.relatedTarget=y,b=null,Ln(f)===u&&(v=new v(m,x+"enter",g,n,f),v.target=y,v.relatedTarget=w,b=v),w=b,h&&g)t:{for(v=h,m=g,x=0,y=v;y;y=qn(y))x++;for(y=0,b=m;b;b=qn(b))y++;for(;0<x-y;)v=qn(v),x--;for(;0<y-x;)m=qn(m),y--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=qn(v),m=qn(m)}v=null}else v=null;h!==null&&jc(d,p,h,v,!1),g!==null&&w!==null&&jc(d,w,g,v,!0)}}e:{if(p=u?nr(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var L=wx;else if(gc(p))if(dp)L=Cx;else{L=Sx;var C=bx}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=jx);if(L&&(L=L(e,u))){cp(d,L,n,f);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&_s(p,"number",p.value)}switch(C=u?nr(u):window,e){case"focusin":(gc(C)||C.contentEditable==="true")&&(er=C,Hs=u,ti=null);break;case"focusout":ti=Hs=er=null;break;case"mousedown":Us=!0;break;case"contextmenu":case"mouseup":case"dragend":Us=!1,wc(d,n,f);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":wc(d,n,f)}var P;if(qa)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Zn?ap(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(sp&&n.locale!=="ko"&&(Zn||I!=="onCompositionStart"?I==="onCompositionEnd"&&Zn&&(P=op()):(un=f,Va="value"in un?un.value:un.textContent,Zn=!0)),C=Ll(u,I),0<C.length&&(I=new fc(I,e,null,n,f),d.push({event:I,listeners:C}),P?I.data=P:(P=up(n),P!==null&&(I.data=P)))),(P=gx?xx(e,n):yx(e,n))&&(u=Ll(u,"onBeforeInput"),0<u.length&&(f=new fc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=P))}wp(d,t)})}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=di(e,n),l!=null&&r.unshift(yi(e,l,i)),l=di(e,t),l!=null&&r.push(yi(e,l,i))),e=e.return}return r}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jc(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=di(n,l),a!=null&&o.unshift(yi(n,a,s))):i||(a=di(n,l),a!=null&&o.push(yi(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ix=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(Ix,`
`).replace(Mx,"")}function Ki(e,t,n){if(t=Cc(t),Cc(e)!==t&&n)throw Error(R(425))}function Pl(){}var Vs=null,Qs=null;function Ks(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qs=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(zx)}:qs;function zx(e){setTimeout(function(){throw e})}function Oo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hi(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Nr,vi="__reactProps$"+Nr,Yt="__reactContainer$"+Nr,Gs="__reactEvents$"+Nr,Rx="__reactListeners$"+Nr,Bx="__reactHandles$"+Nr;function Ln(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nc(e);e!==null;){if(n=e[Ft])return n;e=Nc(e)}return t}e=n,n=e.parentNode}return null}function Ii(e){return e=e[Ft]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function no(e){return e[vi]||null}var Xs=[],rr=-1;function bn(e){return{current:e}}function ge(e){0>rr||(e.current=Xs[rr],Xs[rr]=null,rr--)}function he(e,t){rr++,Xs[rr]=e.current,e.current=t}var kn={},Ue=bn(kn),nt=bn(!1),Dn=kn;function xr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function _l(){ge(nt),ge(Ue)}function Tc(e,t,n){if(Ue.current!==kn)throw Error(R(168));he(Ue,t),he(nt,n)}function Sp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,bg(e)||"Unknown",i));return ke({},n,r)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Dn=Ue.current,he(Ue,e),he(nt,nt.current),!0}function Lc(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Sp(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,ge(nt),ge(Ue),he(Ue,e)):ge(nt),he(nt,n)}var Vt=null,ro=!1,$o=!1;function jp(e){Vt===null?Vt=[e]:Vt.push(e)}function Fx(e){ro=!0,jp(e)}function Sn(){if(!$o&&Vt!==null){$o=!0;var e=0,t=ce;try{var n=Vt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,ro=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),Gf($a,Sn),i}finally{ce=t,$o=!1}}return null}var ir=[],lr=0,Ml=null,Dl=0,yt=[],vt=0,An=null,Kt=1,qt="";function En(e,t){ir[lr++]=Dl,ir[lr++]=Ml,Ml=e,Dl=t}function Cp(e,t,n){yt[vt++]=Kt,yt[vt++]=qt,yt[vt++]=An,An=e;var r=Kt;e=qt;var i=32-_t(r)-1;r&=~(1<<i),n+=1;var l=32-_t(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kt=1<<32-_t(t)+i|n<<i|r,qt=l+e}else Kt=1<<l|n<<i|r,qt=e}function Xa(e){e.return!==null&&(En(e,1),Cp(e,1,0))}function Ya(e){for(;e===Ml;)Ml=ir[--lr],ir[lr]=null,Dl=ir[--lr],ir[lr]=null;for(;e===An;)An=yt[--vt],yt[vt]=null,qt=yt[--vt],yt[vt]=null,Kt=yt[--vt],yt[vt]=null}var ft=null,dt=null,xe=!1,Pt=null;function Ep(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Kt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function Ys(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Js(e){if(xe){var t=dt;if(t){var n=t;if(!Pc(e,t)){if(Ys(e))throw Error(R(418));t=hn(n.nextSibling);var r=ft;t&&Pc(e,t)?Ep(r,n):(e.flags=e.flags&-4097|2,xe=!1,ft=e)}}else{if(Ys(e))throw Error(R(418));e.flags=e.flags&-4097|2,xe=!1,ft=e}}}function _c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function qi(e){if(e!==ft)return!1;if(!xe)return _c(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ks(e.type,e.memoizedProps)),t&&(t=dt)){if(Ys(e))throw Np(),Error(R(418));for(;t;)Ep(e,t),t=hn(t.nextSibling)}if(_c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?hn(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=dt;e;)e=hn(e.nextSibling)}function yr(){dt=ft=null,xe=!1}function Ja(e){Pt===null?Pt=[e]:Pt.push(e)}var Ox=en.ReactCurrentBatchConfig;function Or(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Gi(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ic(e){var t=e._init;return t(e._payload)}function Tp(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=yn(m,x),m.index=0,m.sibling=null,m}function l(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,x,y,b){return x===null||x.tag!==6?(x=qo(y,m.mode,b),x.return=m,x):(x=i(x,y),x.return=m,x)}function a(m,x,y,b){var L=y.type;return L===Jn?f(m,x,y.props.children,b,y.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ln&&Ic(L)===x.type)?(b=i(x,y.props),b.ref=Or(m,x,y),b.return=m,b):(b=yl(y.type,y.key,y.props,null,m.mode,b),b.ref=Or(m,x,y),b.return=m,b)}function u(m,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Go(y,m.mode,b),x.return=m,x):(x=i(x,y.children||[]),x.return=m,x)}function f(m,x,y,b,L){return x===null||x.tag!==7?(x=Mn(y,m.mode,b,L),x.return=m,x):(x=i(x,y),x.return=m,x)}function d(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qo(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bi:return y=yl(x.type,x.key,x.props,null,m.mode,y),y.ref=Or(m,null,x),y.return=m,y;case Yn:return x=Go(x,m.mode,y),x.return=m,x;case ln:var b=x._init;return d(m,b(x._payload),y)}if(qr(x)||Ar(x))return x=Mn(x,m.mode,y,null),x.return=m,x;Gi(m,x)}return null}function p(m,x,y,b){var L=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return L!==null?null:s(m,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bi:return y.key===L?a(m,x,y,b):null;case Yn:return y.key===L?u(m,x,y,b):null;case ln:return L=y._init,p(m,x,L(y._payload),b)}if(qr(y)||Ar(y))return L!==null?null:f(m,x,y,b,null);Gi(m,y)}return null}function h(m,x,y,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,s(x,m,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bi:return m=m.get(b.key===null?y:b.key)||null,a(x,m,b,L);case Yn:return m=m.get(b.key===null?y:b.key)||null,u(x,m,b,L);case ln:var C=b._init;return h(m,x,y,C(b._payload),L)}if(qr(b)||Ar(b))return m=m.get(y)||null,f(x,m,b,L,null);Gi(x,b)}return null}function g(m,x,y,b){for(var L=null,C=null,P=x,I=x=0,A=null;P!==null&&I<y.length;I++){P.index>I?(A=P,P=null):A=P.sibling;var E=p(m,P,y[I],b);if(E===null){P===null&&(P=A);break}e&&P&&E.alternate===null&&t(m,P),x=l(E,x,I),C===null?L=E:C.sibling=E,C=E,P=A}if(I===y.length)return n(m,P),xe&&En(m,I),L;if(P===null){for(;I<y.length;I++)P=d(m,y[I],b),P!==null&&(x=l(P,x,I),C===null?L=P:C.sibling=P,C=P);return xe&&En(m,I),L}for(P=r(m,P);I<y.length;I++)A=h(P,m,I,y[I],b),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?I:A.key),x=l(A,x,I),C===null?L=A:C.sibling=A,C=A);return e&&P.forEach(function(O){return t(m,O)}),xe&&En(m,I),L}function v(m,x,y,b){var L=Ar(y);if(typeof L!="function")throw Error(R(150));if(y=L.call(y),y==null)throw Error(R(151));for(var C=L=null,P=x,I=x=0,A=null,E=y.next();P!==null&&!E.done;I++,E=y.next()){P.index>I?(A=P,P=null):A=P.sibling;var O=p(m,P,E.value,b);if(O===null){P===null&&(P=A);break}e&&P&&O.alternate===null&&t(m,P),x=l(O,x,I),C===null?L=O:C.sibling=O,C=O,P=A}if(E.done)return n(m,P),xe&&En(m,I),L;if(P===null){for(;!E.done;I++,E=y.next())E=d(m,E.value,b),E!==null&&(x=l(E,x,I),C===null?L=E:C.sibling=E,C=E);return xe&&En(m,I),L}for(P=r(m,P);!E.done;I++,E=y.next())E=h(P,m,I,E.value,b),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?I:E.key),x=l(E,x,I),C===null?L=E:C.sibling=E,C=E);return e&&P.forEach(function($){return t(m,$)}),xe&&En(m,I),L}function w(m,x,y,b){if(typeof y=="object"&&y!==null&&y.type===Jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bi:e:{for(var L=y.key,C=x;C!==null;){if(C.key===L){if(L=y.type,L===Jn){if(C.tag===7){n(m,C.sibling),x=i(C,y.props.children),x.return=m,m=x;break e}}else if(C.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ln&&Ic(L)===C.type){n(m,C.sibling),x=i(C,y.props),x.ref=Or(m,C,y),x.return=m,m=x;break e}n(m,C);break}else t(m,C);C=C.sibling}y.type===Jn?(x=Mn(y.props.children,m.mode,b,y.key),x.return=m,m=x):(b=yl(y.type,y.key,y.props,null,m.mode,b),b.ref=Or(m,x,y),b.return=m,m=b)}return o(m);case Yn:e:{for(C=y.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=i(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=Go(y,m.mode,b),x.return=m,m=x}return o(m);case ln:return C=y._init,w(m,x,C(y._payload),b)}if(qr(y))return g(m,x,y,b);if(Ar(y))return v(m,x,y,b);Gi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=i(x,y),x.return=m,m=x):(n(m,x),x=qo(y,m.mode,b),x.return=m,m=x),o(m)):n(m,x)}return w}var vr=Tp(!0),Lp=Tp(!1),Al=bn(null),zl=null,or=null,Za=null;function eu(){Za=or=zl=null}function tu(e){var t=Al.current;ge(Al),e._currentValue=t}function Zs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pr(e,t){zl=e,Za=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Za!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(zl===null)throw Error(R(308));or=e,zl.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var Pn=null;function nu(e){Pn===null?Pn=[e]:Pn.push(e)}function Pp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,nu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jt(e,r)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jt(e,n)}return i=r.interleaved,i===null?(t.next=t,nu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jt(e,n)}function fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wa(e,n)}}function Mc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rl(e,t,n,r){var i=e.updateQueue;on=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(l!==null){var d=i.baseState;o=0,f=u=a=null,s=l;do{var p=s.lane,h=s.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(p=t,h=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(h,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(h,d,p):g,p==null)break e;d=ke({},d,p);break e;case 2:on=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=h,a=d):f=f.next=h,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Rn|=o,e.lanes=o,e.memoizedState=d}}function Dc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Mi={},$t=bn(Mi),ki=bn(Mi),wi=bn(Mi);function _n(e){if(e===Mi)throw Error(R(174));return e}function iu(e,t){switch(he(wi,t),he(ki,e),he($t,Mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ms(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ms(t,e)}ge($t),he($t,t)}function kr(){ge($t),ge(ki),ge(wi)}function Ip(e){_n(wi.current);var t=_n($t.current),n=Ms(t,e.type);t!==n&&(he(ki,e),he($t,n))}function lu(e){ki.current===e&&(ge($t),ge(ki))}var ye=bn(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=[];function ou(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var pl=en.ReactCurrentDispatcher,Ho=en.ReactCurrentBatchConfig,zn=0,ve=null,Le=null,Me=null,Fl=!1,ni=!1,bi=0,$x=0;function Oe(){throw Error(R(321))}function su(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function au(e,t,n,r,i,l){if(zn=l,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pl.current=e===null||e.memoizedState===null?Vx:Qx,e=n(r,i),ni){l=0;do{if(ni=!1,bi=0,25<=l)throw Error(R(301));l+=1,Me=Le=null,t.updateQueue=null,pl.current=Kx,e=n(r,i)}while(ni)}if(pl.current=Ol,t=Le!==null&&Le.next!==null,zn=0,Me=Le=ve=null,Fl=!1,t)throw Error(R(300));return e}function uu(){var e=bi!==0;return bi=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ve.memoizedState=Me=e:Me=Me.next=e,Me}function Ct(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Me===null?ve.memoizedState:Me.next;if(t!==null)Me=t,Le=e;else{if(e===null)throw Error(R(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Me===null?ve.memoizedState=Me=e:Me=Me.next=e}return Me}function Si(e,t){return typeof t=="function"?t(e):t}function Uo(e){var t=Ct(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Le,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,u=l;do{var f=u.lane;if((zn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=d,o=r):a=a.next=d,ve.lanes|=f,Rn|=f}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=s,Dt(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,ve.lanes|=l,Rn|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vo(e){var t=Ct(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Dt(l,t.memoizedState)||(tt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Mp(){}function Dp(e,t){var n=ve,r=Ct(),i=t(),l=!Dt(r.memoizedState,i);if(l&&(r.memoizedState=i,tt=!0),r=r.queue,cu(Rp.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ji(9,zp.bind(null,n,r,i,t),void 0,null),De===null)throw Error(R(349));zn&30||Ap(n,t,i)}return i}function Ap(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zp(e,t,n,r){t.value=n,t.getSnapshot=r,Bp(t)&&Fp(e)}function Rp(e,t,n){return n(function(){Bp(t)&&Fp(e)})}function Bp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Fp(e){var t=Jt(e,1);t!==null&&It(t,e,1,-1)}function Ac(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t.queue=e,e=e.dispatch=Ux.bind(null,ve,e),[t.memoizedState,e]}function ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Op(){return Ct().memoizedState}function hl(e,t,n,r){var i=Rt();ve.flags|=e,i.memoizedState=ji(1|t,n,void 0,r===void 0?null:r)}function io(e,t,n,r){var i=Ct();r=r===void 0?null:r;var l=void 0;if(Le!==null){var o=Le.memoizedState;if(l=o.destroy,r!==null&&su(r,o.deps)){i.memoizedState=ji(t,n,l,r);return}}ve.flags|=e,i.memoizedState=ji(1|t,n,l,r)}function zc(e,t){return hl(8390656,8,e,t)}function cu(e,t){return io(2048,8,e,t)}function $p(e,t){return io(4,2,e,t)}function Wp(e,t){return io(4,4,e,t)}function Hp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Up(e,t,n){return n=n!=null?n.concat([e]):null,io(4,4,Hp.bind(null,t,e),n)}function du(){}function Vp(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&su(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qp(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&su(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kp(e,t,n){return zn&21?(Dt(n,t)||(n=Jf(),ve.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function Wx(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Ho.transition;Ho.transition={};try{e(!1),t()}finally{ce=n,Ho.transition=r}}function qp(){return Ct().memoizedState}function Hx(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gp(e))Xp(t,n);else if(n=Pp(e,t,n,r),n!==null){var i=Ge();It(n,e,r,i),Yp(n,t,r)}}function Ux(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gp(e))Xp(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,Dt(s,o)){var a=t.interleaved;a===null?(i.next=i,nu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Pp(e,t,i,r),n!==null&&(i=Ge(),It(n,e,r,i),Yp(n,t,r))}}function Gp(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Xp(e,t){ni=Fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wa(e,n)}}var Ol={readContext:jt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Vx={readContext:jt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hl(4194308,4,Hp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return hl(4,2,e,t)},useMemo:function(e,t){var n=Rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hx.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:Ac,useDebugValue:du,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=Ac(!1),t=e[0];return e=Wx.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=Rt();if(xe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),De===null)throw Error(R(349));zn&30||Ap(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,zc(Rp.bind(null,r,l,e),[e]),r.flags|=2048,ji(9,zp.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Rt(),t=De.identifierPrefix;if(xe){var n=qt,r=Kt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$x++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qx={readContext:jt,useCallback:Vp,useContext:jt,useEffect:cu,useImperativeHandle:Up,useInsertionEffect:$p,useLayoutEffect:Wp,useMemo:Qp,useReducer:Uo,useRef:Op,useState:function(){return Uo(Si)},useDebugValue:du,useDeferredValue:function(e){var t=Ct();return Kp(t,Le.memoizedState,e)},useTransition:function(){var e=Uo(Si)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Mp,useSyncExternalStore:Dp,useId:qp,unstable_isNewReconciler:!1},Kx={readContext:jt,useCallback:Vp,useContext:jt,useEffect:cu,useImperativeHandle:Up,useInsertionEffect:$p,useLayoutEffect:Wp,useMemo:Qp,useReducer:Vo,useRef:Op,useState:function(){return Vo(Si)},useDebugValue:du,useDeferredValue:function(e){var t=Ct();return Le===null?t.memoizedState=e:Kp(t,Le.memoizedState,e)},useTransition:function(){var e=Vo(Si)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Mp,useSyncExternalStore:Dp,useId:qp,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ea(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lo={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=xn(e),l=Gt(r,i);l.payload=t,n!=null&&(l.callback=n),t=mn(e,l,i),t!==null&&(It(t,e,i,r),fl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=xn(e),l=Gt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=mn(e,l,i),t!==null&&(It(t,e,i,r),fl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=xn(e),i=Gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=mn(e,i,r),t!==null&&(It(t,e,r,n),fl(t,e,r))}};function Rc(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!gi(n,r)||!gi(i,l):!0}function Jp(e,t,n){var r=!1,i=kn,l=t.contextType;return typeof l=="object"&&l!==null?l=jt(l):(i=rt(t)?Dn:Ue.current,r=t.contextTypes,l=(r=r!=null)?xr(e,i):kn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Bc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ru(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=jt(l):(l=rt(t)?Dn:Ue.current,i.context=xr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ea(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&lo.enqueueReplaceState(i,i.state,null),Rl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",r=t;do n+=wg(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Qo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function na(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qx=typeof WeakMap=="function"?WeakMap:Map;function Zp(e,t,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,fa=r),na(e,t)},n}function eh(e,t,n){n=Gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){na(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){na(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=a0.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gt(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var Gx=en.ReactCurrentOwner,tt=!1;function Ke(e,t,n,r){t.child=e===null?Lp(t,null,n,r):vr(t,e.child,n,r)}function Wc(e,t,n,r,i){n=n.render;var l=t.ref;return pr(t,i),r=au(e,t,n,r,l,i),n=uu(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(xe&&n&&Xa(t),t.flags|=1,Ke(e,t,r,i),t.child)}function Hc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!vu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,th(e,t,l,r,i)):(e=yl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(o,r)&&e.ref===t.ref)return Zt(e,t,i)}return t.flags|=1,e=yn(l,r),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(gi(l,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Zt(e,t,i)}return ra(e,t,n,r,i)}function nh(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(ar,ut),ut|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(ar,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,he(ar,ut),ut|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,he(ar,ut),ut|=r;return Ke(e,t,i,n),t.child}function rh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ra(e,t,n,r,i){var l=rt(n)?Dn:Ue.current;return l=xr(t,l),pr(t,i),n=au(e,t,n,r,l,i),r=uu(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(xe&&r&&Xa(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Uc(e,t,n,r,i){if(rt(n)){var l=!0;Il(t)}else l=!1;if(pr(t,i),t.stateNode===null)ml(e,t),Jp(t,n,r),ta(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=rt(n)?Dn:Ue.current,u=xr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Bc(t,o,r,u),on=!1;var p=t.memoizedState;o.state=p,Rl(t,r,o,i),a=t.memoizedState,s!==r||p!==a||nt.current||on?(typeof f=="function"&&(ea(t,n,f,r),a=t.memoizedState),(s=on||Rc(t,n,s,r,p,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_p(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Tt(t.type,s),o.props=u,d=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=jt(a):(a=rt(n)?Dn:Ue.current,a=xr(t,a));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==a)&&Bc(t,o,r,a),on=!1,p=t.memoizedState,o.state=p,Rl(t,r,o,i);var g=t.memoizedState;s!==d||p!==g||nt.current||on?(typeof h=="function"&&(ea(t,n,h,r),g=t.memoizedState),(u=on||Rc(t,n,u,r,p,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ia(e,t,n,r,l,i)}function ia(e,t,n,r,i,l){rh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Lc(t,n,!1),Zt(e,t,l);r=t.stateNode,Gx.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vr(t,e.child,null,l),t.child=vr(t,null,s,l)):Ke(e,t,s,l),t.memoizedState=r.state,i&&Lc(t,n,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?Tc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tc(e,t.context,!1),iu(e,t.containerInfo)}function Vc(e,t,n,r,i){return yr(),Ja(i),t.flags|=256,Ke(e,t,n,r),t.child}var la={dehydrated:null,treeContext:null,retryLane:0};function oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function lh(e,t,n){var r=t.pendingProps,i=ye.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(ye,i&1),e===null)return Js(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=ao(o,r,0,null),e=Mn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=oa(n),t.memoizedState=la,e):fu(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Xx(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=yn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=yn(s,l):(l=Mn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?oa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=la,r}return l=e.child,e=l.sibling,r=yn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fu(e,t){return t=ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xi(e,t,n,r){return r!==null&&Ja(r),vr(t,e.child,null,n),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xx(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Qo(Error(R(422))),Xi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=ao({mode:"visible",children:r.children},i,0,null),l=Mn(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&vr(t,e.child,null,o),t.child.memoizedState=oa(o),t.memoizedState=la,l);if(!(t.mode&1))return Xi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(R(419)),r=Qo(l,r,void 0),Xi(e,t,o,r)}if(s=(o&e.childLanes)!==0,tt||s){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Jt(e,i),It(r,e,i,-1))}return yu(),r=Qo(Error(R(421))),Xi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=u0.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,dt=hn(i.nextSibling),ft=t,xe=!0,Pt=null,e!==null&&(yt[vt++]=Kt,yt[vt++]=qt,yt[vt++]=An,Kt=e.id,qt=e.overflow,An=t),t=fu(t,r.children),t.flags|=4096,t)}function Qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zs(e.return,t,n)}function Ko(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function oh(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Ke(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,n,t);else if(e.tag===19)Qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,l);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yx(e,t,n){switch(t.tag){case 3:ih(t),yr();break;case 5:Ip(t);break;case 1:rt(t.type)&&Il(t);break;case 4:iu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(Al,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?lh(e,t,n):(he(ye,ye.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);he(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,nh(e,t,n)}return Zt(e,t,n)}var sh,sa,ah,uh;sh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sa=function(){};ah=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_n($t.current);var l=null;switch(n){case"input":i=Ls(e,i),r=Ls(e,r),l=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),l=[];break;case"textarea":i=Is(e,i),r=Is(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pl)}Ds(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&me("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};uh=function(e,t,n,r){n!==r&&(t.flags|=4)};function $r(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jx(e,t,n){var r=t.pendingProps;switch(Ya(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return rt(t.type)&&_l(),$e(t),null;case 3:return r=t.stateNode,kr(),ge(nt),ge(Ue),ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(ma(Pt),Pt=null))),sa(e,t),$e(t),null;case 5:lu(t);var i=_n(wi.current);if(n=t.type,e!==null&&t.stateNode!=null)ah(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return $e(t),null}if(e=_n($t.current),qi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ft]=t,r[vi]=l,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Xr.length;i++)me(Xr[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":tc(r,l),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},me("invalid",r);break;case"textarea":rc(r,l),me("invalid",r)}Ds(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Ki(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Ki(r.textContent,s,e),i=["children",""+s]):ui.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":Fi(r),nc(r,l,!0);break;case"textarea":Fi(r),ic(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Pl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ft]=t,e[vi]=r,sh(e,t,!1,!1),t.stateNode=e;e:{switch(o=As(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xr.length;i++)me(Xr[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":tc(e,r),i=Ls(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),me("invalid",e);break;case"textarea":rc(e,r),i=Is(e,r),me("invalid",e);break;default:i=r}Ds(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Of(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Bf(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ci(e,a):typeof a=="number"&&ci(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ui.hasOwnProperty(l)?a!=null&&l==="onScroll"&&me("scroll",e):a!=null&&za(e,l,a,o))}switch(n){case"input":Fi(e),nc(e,r,!1);break;case"textarea":Fi(e),ic(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?ur(e,!!r.multiple,l,!1):r.defaultValue!=null&&ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)uh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=_n(wi.current),_n($t.current),qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(l=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Ki(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return $e(t),null;case 13:if(ge(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&dt!==null&&t.mode&1&&!(t.flags&128))Np(),yr(),t.flags|=98560,l=!1;else if(l=qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[Ft]=t}else yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else Pt!==null&&(ma(Pt),Pt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Pe===0&&(Pe=3):yu())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return kr(),sa(e,t),e===null&&xi(t.stateNode.containerInfo),$e(t),null;case 10:return tu(t.type._context),$e(t),null;case 17:return rt(t.type)&&_l(),$e(t),null;case 19:if(ge(ye),l=t.memoizedState,l===null)return $e(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)$r(l,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bl(e),o!==null){for(t.flags|=128,$r(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ye,ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>br&&(t.flags|=128,r=!0,$r(l,!1),t.lanes=4194304)}else{if(!r)if(e=Bl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$r(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!xe)return $e(t),null}else 2*je()-l.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,$r(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,n=ye.current,he(ye,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return xu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Zx(e,t){switch(Ya(t),t.tag){case 1:return rt(t.type)&&_l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kr(),ge(nt),ge(Ue),ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lu(t),null;case 13:if(ge(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(ye),null;case 4:return kr(),null;case 10:return tu(t.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Yi=!1,We=!1,e0=typeof WeakSet=="function"?WeakSet:Set,W=null;function sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function aa(e,t,n){try{n()}catch(r){be(e,t,r)}}var Kc=!1;function t0(e,t){if(Vs=Nl,e=hp(),Ga(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==l||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++u===i&&(s=o),p===l&&++f===r&&(a=o),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qs={focusedElem:e,selectionRange:n},Nl=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tt(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){be(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return g=Kc,Kc=!1,g}function ri(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&aa(t,n,l)}i=i.next}while(i!==r)}}function oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ua(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ch(e){var t=e.alternate;t!==null&&(e.alternate=null,ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[vi],delete t[Gs],delete t[Rx],delete t[Bx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dh(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pl));else if(r!==4&&(e=e.child,e!==null))for(ca(e,t,n),e=e.sibling;e!==null;)ca(e,t,n),e=e.sibling}function da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(da(e,t,n),e=e.sibling;e!==null;)da(e,t,n),e=e.sibling}var Re=null,Lt=!1;function nn(e,t,n){for(n=n.child;n!==null;)fh(e,t,n),n=n.sibling}function fh(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:We||sr(n,t);case 6:var r=Re,i=Lt;Re=null,nn(e,t,n),Re=r,Lt=i,Re!==null&&(Lt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Lt?(e=Re,n=n.stateNode,e.nodeType===8?Oo(e.parentNode,n):e.nodeType===1&&Oo(e,n),hi(e)):Oo(Re,n.stateNode));break;case 4:r=Re,i=Lt,Re=n.stateNode.containerInfo,Lt=!0,nn(e,t,n),Re=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&aa(n,t,o),i=i.next}while(i!==r)}nn(e,t,n);break;case 1:if(!We&&(sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){be(n,t,s)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,nn(e,t,n),We=r):nn(e,t,n);break;default:nn(e,t,n)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new e0),t.forEach(function(r){var i=c0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Re=s.stateNode,Lt=!1;break e;case 3:Re=s.stateNode.containerInfo,Lt=!0;break e;case 4:Re=s.stateNode.containerInfo,Lt=!0;break e}s=s.return}if(Re===null)throw Error(R(160));fh(l,o,i),Re=null,Lt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ph(t,e),t=t.sibling}function ph(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),zt(e),r&4){try{ri(3,e,e.return),oo(3,e)}catch(v){be(e,e.return,v)}try{ri(5,e,e.return)}catch(v){be(e,e.return,v)}}break;case 1:Nt(t,e),zt(e),r&512&&n!==null&&sr(n,n.return);break;case 5:if(Nt(t,e),zt(e),r&512&&n!==null&&sr(n,n.return),e.flags&32){var i=e.stateNode;try{ci(i,"")}catch(v){be(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Af(i,l),As(s,o);var u=As(s,l);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Of(i,d):f==="dangerouslySetInnerHTML"?Bf(i,d):f==="children"?ci(i,d):za(i,f,d,u)}switch(s){case"input":Ps(i,l);break;case"textarea":zf(i,l);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var h=l.value;h!=null?ur(i,!!l.multiple,h,!1):p!==!!l.multiple&&(l.defaultValue!=null?ur(i,!!l.multiple,l.defaultValue,!0):ur(i,!!l.multiple,l.multiple?[]:"",!1))}i[vi]=l}catch(v){be(e,e.return,v)}}break;case 6:if(Nt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){be(e,e.return,v)}}break;case 3:if(Nt(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hi(t.containerInfo)}catch(v){be(e,e.return,v)}break;case 4:Nt(t,e),zt(e);break;case 13:Nt(t,e),zt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(mu=je())),r&4&&Gc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(We=(u=We)||f,Nt(t,e),We=u):Nt(t,e),zt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(W=e,f=e.child;f!==null;){for(d=W=f;W!==null;){switch(p=W,h=p.child,p.tag){case 0:case 11:case 14:case 15:ri(4,p,p.return);break;case 1:sr(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){be(r,n,v)}}break;case 5:sr(p,p.return);break;case 22:if(p.memoizedState!==null){Yc(d);continue}}h!==null?(h.return=p,W=h):Yc(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Ff("display",o))}catch(v){be(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){be(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nt(t,e),zt(e),r&4&&Gc(e);break;case 21:break;default:Nt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dh(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ci(i,""),r.flags&=-33);var l=qc(e);da(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=qc(e);ca(e,s,o);break;default:throw Error(R(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n0(e,t,n){W=e,hh(e)}function hh(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yi;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||We;s=Yi;var u=We;if(Yi=o,(We=a)&&!u)for(W=i;W!==null;)o=W,a=o.child,o.tag===22&&o.memoizedState!==null?Jc(i):a!==null?(a.return=o,W=a):Jc(i);for(;l!==null;)W=l,hh(l),l=l.sibling;W=i,Yi=s,We=u}Xc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,W=l):Xc(e)}}function Xc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||oo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Dc(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dc(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&hi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}We||t.flags&512&&ua(t)}catch(p){be(t,t.return,p)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Yc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Jc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oo(4,t)}catch(a){be(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){be(t,i,a)}}var l=t.return;try{ua(t)}catch(a){be(t,l,a)}break;case 5:var o=t.return;try{ua(t)}catch(a){be(t,o,a)}}}catch(a){be(t,t.return,a)}if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}var r0=Math.ceil,$l=en.ReactCurrentDispatcher,pu=en.ReactCurrentOwner,bt=en.ReactCurrentBatchConfig,se=0,De=null,Ne=null,Be=0,ut=0,ar=bn(0),Pe=0,Ci=null,Rn=0,so=0,hu=0,ii=null,et=null,mu=0,br=1/0,Ut=null,Wl=!1,fa=null,gn=null,Ji=!1,cn=null,Hl=0,li=0,pa=null,gl=-1,xl=0;function Ge(){return se&6?je():gl!==-1?gl:gl=je()}function xn(e){return e.mode&1?se&2&&Be!==0?Be&-Be:Ox.transition!==null?(xl===0&&(xl=Jf()),xl):(e=ce,e!==0||(e=window.event,e=e===void 0?16:lp(e.type)),e):1}function It(e,t,n,r){if(50<li)throw li=0,pa=null,Error(R(185));Pi(e,n,r),(!(se&2)||e!==De)&&(e===De&&(!(se&2)&&(so|=n),Pe===4&&an(e,Be)),it(e,r),n===1&&se===0&&!(t.mode&1)&&(br=je()+500,ro&&Sn()))}function it(e,t){var n=e.callbackNode;Og(e,t);var r=El(e,e===De?Be:0);if(r===0)n!==null&&sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sc(n),t===1)e.tag===0?Fx(Zc.bind(null,e)):jp(Zc.bind(null,e)),Ax(function(){!(se&6)&&Sn()}),n=null;else{switch(Zf(r)){case 1:n=$a;break;case 4:n=Xf;break;case 16:n=Cl;break;case 536870912:n=Yf;break;default:n=Cl}n=bh(n,mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mh(e,t){if(gl=-1,xl=0,se&6)throw Error(R(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var r=El(e,e===De?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ul(e,r);else{t=r;var i=se;se|=2;var l=xh();(De!==e||Be!==t)&&(Ut=null,br=je()+500,In(e,t));do try{o0();break}catch(s){gh(e,s)}while(!0);eu(),$l.current=l,se=i,Ne!==null?t=0:(De=null,Be=0,t=Pe)}if(t!==0){if(t===2&&(i=Os(e),i!==0&&(r=i,t=ha(e,i))),t===1)throw n=Ci,In(e,0),an(e,r),it(e,je()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!i0(i)&&(t=Ul(e,r),t===2&&(l=Os(e),l!==0&&(r=l,t=ha(e,l))),t===1))throw n=Ci,In(e,0),an(e,r),it(e,je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Nn(e,et,Ut);break;case 3:if(an(e,r),(r&130023424)===r&&(t=mu+500-je(),10<t)){if(El(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qs(Nn.bind(null,e,et,Ut),t);break}Nn(e,et,Ut);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-_t(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r0(r/1960))-r,10<r){e.timeoutHandle=qs(Nn.bind(null,e,et,Ut),r);break}Nn(e,et,Ut);break;case 5:Nn(e,et,Ut);break;default:throw Error(R(329))}}}return it(e,je()),e.callbackNode===n?mh.bind(null,e):null}function ha(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=et,et=n,t!==null&&ma(t)),e}function ma(e){et===null?et=e:et.push.apply(et,e)}function i0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Dt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~hu,t&=~so,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Zc(e){if(se&6)throw Error(R(327));hr();var t=El(e,0);if(!(t&1))return it(e,je()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var r=Os(e);r!==0&&(t=r,n=ha(e,r))}if(n===1)throw n=Ci,In(e,0),an(e,t),it(e,je()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,et,Ut),it(e,je()),null}function gu(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(br=je()+500,ro&&Sn())}}function Bn(e){cn!==null&&cn.tag===0&&!(se&6)&&hr();var t=se;se|=1;var n=bt.transition,r=ce;try{if(bt.transition=null,ce=1,e)return e()}finally{ce=r,bt.transition=n,se=t,!(se&6)&&Sn()}}function xu(){ut=ar.current,ge(ar)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dx(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Ya(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:kr(),ge(nt),ge(Ue),ou();break;case 5:lu(r);break;case 4:kr();break;case 13:ge(ye);break;case 19:ge(ye);break;case 10:tu(r.type._context);break;case 22:case 23:xu()}n=n.return}if(De=e,Ne=e=yn(e.current,null),Be=ut=t,Pe=0,Ci=null,hu=so=Rn=0,et=ii=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}Pn=null}return e}function gh(e,t){do{var n=Ne;try{if(eu(),pl.current=Ol,Fl){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fl=!1}if(zn=0,Me=Le=ve=null,ni=!1,bi=0,pu.current=null,n===null||n.return===null){Pe=1,Ci=t,Ne=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=Be,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Oc(o);if(h!==null){h.flags&=-257,$c(h,o,s,l,t),h.mode&1&&Fc(l,u,t),t=h,a=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break e}else{if(!(t&1)){Fc(l,u,t),yu();break e}a=Error(R(426))}}else if(xe&&s.mode&1){var w=Oc(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),$c(w,o,s,l,t),Ja(wr(a,s));break e}}l=a=wr(a,s),Pe!==4&&(Pe=2),ii===null?ii=[l]:ii.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=Zp(l,a,t);Mc(l,m);break e;case 1:s=a;var x=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gn===null||!gn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=eh(l,s,t);Mc(l,b);break e}}l=l.return}while(l!==null)}vh(n)}catch(L){t=L,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function xh(){var e=$l.current;return $l.current=Ol,e===null?Ol:e}function yu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),De===null||!(Rn&268435455)&&!(so&268435455)||an(De,Be)}function Ul(e,t){var n=se;se|=2;var r=xh();(De!==e||Be!==t)&&(Ut=null,In(e,t));do try{l0();break}catch(i){gh(e,i)}while(!0);if(eu(),se=n,$l.current=r,Ne!==null)throw Error(R(261));return De=null,Be=0,Pe}function l0(){for(;Ne!==null;)yh(Ne)}function o0(){for(;Ne!==null&&!_g();)yh(Ne)}function yh(e){var t=wh(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?vh(e):Ne=t,pu.current=null}function vh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zx(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(n=Jx(n,t,ut),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function Nn(e,t,n){var r=ce,i=bt.transition;try{bt.transition=null,ce=1,s0(e,t,n,r)}finally{bt.transition=i,ce=r}return null}function s0(e,t,n,r){do hr();while(cn!==null);if(se&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if($g(e,l),e===De&&(Ne=De=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,bh(Cl,function(){return hr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var o=ce;ce=1;var s=se;se|=4,pu.current=null,t0(e,n),ph(n,e),Nx(Qs),Nl=!!Vs,Qs=Vs=null,e.current=n,n0(n),Ig(),se=s,ce=o,bt.transition=l}else e.current=n;if(Ji&&(Ji=!1,cn=e,Hl=i),l=e.pendingLanes,l===0&&(gn=null),Ag(n.stateNode),it(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=fa,fa=null,e;return Hl&1&&e.tag!==0&&hr(),l=e.pendingLanes,l&1?e===pa?li++:(li=0,pa=e):li=0,Sn(),null}function hr(){if(cn!==null){var e=Zf(Hl),t=bt.transition,n=ce;try{if(bt.transition=null,ce=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Hl=0,se&6)throw Error(R(331));var i=se;for(se|=4,W=e.current;W!==null;){var l=W,o=l.child;if(W.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(W=u;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:ri(8,f,l)}var d=f.child;if(d!==null)d.return=f,W=d;else for(;W!==null;){f=W;var p=f.sibling,h=f.return;if(ch(f),f===u){W=null;break}if(p!==null){p.return=h,W=p;break}W=h}}}var g=l.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}W=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,W=o;else e:for(;W!==null;){if(l=W,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ri(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,W=m;break e}W=l.return}}var x=e.current;for(W=x;W!==null;){o=W;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,W=y;else e:for(o=x;W!==null;){if(s=W,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:oo(9,s)}}catch(L){be(s,s.return,L)}if(s===o){W=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,W=b;break e}W=s.return}}if(se=i,Sn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Jl,e)}catch{}r=!0}return r}finally{ce=n,bt.transition=t}}return!1}function ed(e,t,n){t=wr(n,t),t=Zp(e,t,1),e=mn(e,t,1),t=Ge(),e!==null&&(Pi(e,1,t),it(e,t))}function be(e,t,n){if(e.tag===3)ed(e,e,n);else for(;t!==null;){if(t.tag===3){ed(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=wr(n,e),e=eh(t,e,1),t=mn(t,e,1),e=Ge(),t!==null&&(Pi(t,1,e),it(t,e));break}}t=t.return}}function a0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Be&n)===n&&(Pe===4||Pe===3&&(Be&130023424)===Be&&500>je()-mu?In(e,0):hu|=n),it(e,t)}function kh(e,t){t===0&&(e.mode&1?(t=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):t=1);var n=Ge();e=Jt(e,t),e!==null&&(Pi(e,t,n),it(e,n))}function u0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kh(e,n)}function c0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),kh(e,n)}var wh;wh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,Yx(e,t,n);tt=!!(e.flags&131072)}else tt=!1,xe&&t.flags&1048576&&Cp(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ml(e,t),e=t.pendingProps;var i=xr(t,Ue.current);pr(t,n),i=au(null,t,r,e,i,n);var l=uu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(l=!0,Il(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ru(t),i.updater=lo,t.stateNode=i,i._reactInternals=t,ta(t,r,e,n),t=ia(null,t,r,!0,l,n)):(t.tag=0,xe&&l&&Xa(t),Ke(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=f0(r),e=Tt(r,e),i){case 0:t=ra(null,t,r,e,n);break e;case 1:t=Uc(null,t,r,e,n);break e;case 11:t=Wc(null,t,r,e,n);break e;case 14:t=Hc(null,t,r,Tt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),ra(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Uc(e,t,r,i,n);case 3:e:{if(ih(t),e===null)throw Error(R(387));r=t.pendingProps,l=t.memoizedState,i=l.element,_p(e,t),Rl(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=wr(Error(R(423)),t),t=Vc(e,t,r,n,i);break e}else if(r!==i){i=wr(Error(R(424)),t),t=Vc(e,t,r,n,i);break e}else for(dt=hn(t.stateNode.containerInfo.firstChild),ft=t,xe=!0,Pt=null,n=Lp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yr(),r===i){t=Zt(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return Ip(t),e===null&&Js(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,Ks(r,i)?o=null:l!==null&&Ks(r,l)&&(t.flags|=32),rh(e,t),Ke(e,t,o,n),t.child;case 6:return e===null&&Js(t),null;case 13:return lh(e,t,n);case 4:return iu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Wc(e,t,r,i,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,he(Al,r._currentValue),r._currentValue=o,l!==null)if(Dt(l.value,o)){if(l.children===i.children&&!nt.current){t=Zt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Gt(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Zs(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(R(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Zs(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,pr(t,n),i=jt(i),r=r(i),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,i=Tt(r,t.pendingProps),i=Tt(r.type,i),Hc(e,t,r,i,n);case 15:return th(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),ml(e,t),t.tag=1,rt(r)?(e=!0,Il(t)):e=!1,pr(t,n),Jp(t,r,i),ta(t,r,i,n),ia(null,t,r,!0,e,n);case 19:return oh(e,t,n);case 22:return nh(e,t,n)}throw Error(R(156,t.tag))};function bh(e,t){return Gf(e,t)}function d0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new d0(e,t,n,r)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f0(e){if(typeof e=="function")return vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ba)return 11;if(e===Fa)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yl(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")vu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jn:return Mn(n.children,i,l,t);case Ra:o=8,i|=8;break;case Cs:return e=wt(12,n,t,i|2),e.elementType=Cs,e.lanes=l,e;case Es:return e=wt(13,n,t,i),e.elementType=Es,e.lanes=l,e;case Ns:return e=wt(19,n,t,i),e.elementType=Ns,e.lanes=l,e;case If:return ao(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pf:o=10;break e;case _f:o=9;break e;case Ba:o=11;break e;case Fa:o=14;break e;case ln:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Mn(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function ao(e,t,n,r){return e=wt(22,e,r,t),e.elementType=If,e.lanes=n,e.stateNode={isHidden:!1},e}function qo(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Go(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ku(e,t,n,r,i,l,o,s,a){return e=new p0(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(l),e}function h0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sh(e){if(!e)return kn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(rt(n))return Sp(e,n,t)}return t}function jh(e,t,n,r,i,l,o,s,a){return e=ku(n,r,!0,e,i,l,o,s,a),e.context=Sh(null),n=e.current,r=Ge(),i=xn(n),l=Gt(r,i),l.callback=t??null,mn(n,l,i),e.current.lanes=i,Pi(e,i,r),it(e,r),e}function uo(e,t,n,r){var i=t.current,l=Ge(),o=xn(i);return n=Sh(n),t.context===null?t.context=n:t.pendingContext=n,t=Gt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(i,t,o),e!==null&&(It(e,i,o,l),fl(e,i,o)),o}function Vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wu(e,t){td(e,t),(e=e.alternate)&&td(e,t)}function m0(){return null}var Ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}co.prototype.render=bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));uo(e,t,null,null)};co.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){uo(null,e,null,null)}),t[Yt]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=np();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&ip(e)}};function Su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nd(){}function g0(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=Vl(o);l.call(u)}}var o=jh(t,r,e,0,null,!1,!1,"",nd);return e._reactRootContainer=o,e[Yt]=o.current,xi(e.nodeType===8?e.parentNode:e),Bn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Vl(a);s.call(u)}}var a=ku(e,0,!1,null,null,!1,!1,"",nd);return e._reactRootContainer=a,e[Yt]=a.current,xi(e.nodeType===8?e.parentNode:e),Bn(function(){uo(t,a,n,r)}),a}function po(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=Vl(o);s.call(a)}}uo(t,o,e,i)}else o=g0(n,t,e,i,r);return Vl(o)}ep=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gr(t.pendingLanes);n!==0&&(Wa(t,n|1),it(t,je()),!(se&6)&&(br=je()+500,Sn()))}break;case 13:Bn(function(){var r=Jt(e,1);if(r!==null){var i=Ge();It(r,e,1,i)}}),wu(e,1)}};Ha=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=Ge();It(t,e,134217728,n)}wu(e,134217728)}};tp=function(e){if(e.tag===13){var t=xn(e),n=Jt(e,t);if(n!==null){var r=Ge();It(n,e,t,r)}wu(e,t)}};np=function(){return ce};rp=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};Rs=function(e,t,n){switch(t){case"input":if(Ps(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=no(r);if(!i)throw Error(R(90));Df(r),Ps(r,i)}}}break;case"textarea":zf(e,n);break;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}};Hf=gu;Uf=Bn;var x0={usingClientEntryPoint:!1,Events:[Ii,nr,no,$f,Wf,gu]},Wr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y0={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kf(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Jl=Zi.inject(y0),Ot=Zi}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(t))throw Error(R(200));return h0(e,t,null,n)};mt.createRoot=function(e,t){if(!Su(e))throw Error(R(299));var n=!1,r="",i=Ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ku(e,1,!1,null,null,n,!1,r,i),e[Yt]=t.current,xi(e.nodeType===8?e.parentNode:e),new bu(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Kf(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return Bn(e)};mt.hydrate=function(e,t,n){if(!fo(t))throw Error(R(200));return po(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!Su(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Ch;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jh(t,null,e,1,n??null,i,!1,l,o),e[Yt]=t.current,xi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new co(t)};mt.render=function(e,t,n){if(!fo(t))throw Error(R(200));return po(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!fo(e))throw Error(R(40));return e._reactRootContainer?(Bn(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};mt.unstable_batchedUpdates=gu;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fo(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return po(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function Eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eh)}catch(e){console.error(e)}}Eh(),Ef.exports=mt;var v0=Ef.exports,rd=v0;Ss.createRoot=rd.createRoot,Ss.hydrateRoot=rd.hydrateRoot;var ga=new Map,el=new WeakMap,id=0,k0;function w0(e){return e?(el.has(e)||(id+=1,el.set(e,id.toString())),el.get(e)):"0"}function b0(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?w0(e.root):e[t]}`).toString()}function S0(e){const t=b0(e);let n=ga.get(t);if(!n){const r=new Map;let i;const l=new IntersectionObserver(o=>{o.forEach(s=>{var a;const u=s.isIntersecting&&i.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(a=r.get(s.target))==null||a.forEach(f=>{f(u,s)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},ga.set(t,n)}return n}function j0(e,t,n={},r=k0){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:l,elements:o}=S0(n),s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),l.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(o.delete(e),l.unobserve(e)),o.size===0&&(l.disconnect(),ga.delete(i))}}function C0({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:l,skip:o,initialInView:s,fallbackInView:a,onChange:u}={}){var f;const[d,p]=N.useState(null),h=N.useRef(u),g=N.useRef(s),[v,w]=N.useState({inView:!!s,entry:void 0});h.current=u,N.useEffect(()=>{if(g.current===void 0&&(g.current=s),o||!d)return;let b;return b=j0(d,(L,C)=>{const P=g.current;g.current=L,!(P===void 0&&!L)&&(w({inView:L,entry:C}),h.current&&h.current(L,C),C.isIntersecting&&l&&b&&(b(),b=void 0))},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},a),()=>{b&&b()}},[Array.isArray(e)?e.toString():e,d,i,r,l,o,n,a,t]);const m=(f=v.entry)==null?void 0:f.target,x=N.useRef(void 0);!d&&m&&!l&&!o&&x.current!==m&&(x.current=m,w({inView:!!s,entry:void 0}),g.current=s);const y=[p,v.inView,v.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const E0={},ld=e=>{let t;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const h=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(g=>g(t,h))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(E0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},N0=e=>e?ld(e):ld;var Nh={exports:{}},Th={},Lh={exports:{}},Ph={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=N;function T0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L0=typeof Object.is=="function"?Object.is:T0,P0=Sr.useState,_0=Sr.useEffect,I0=Sr.useLayoutEffect,M0=Sr.useDebugValue;function D0(e,t){var n=t(),r=P0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return I0(function(){i.value=n,i.getSnapshot=t,Xo(i)&&l({inst:i})},[e,n,t]),_0(function(){return Xo(i)&&l({inst:i}),e(function(){Xo(i)&&l({inst:i})})},[e]),M0(n),n}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!L0(e,n)}catch{return!0}}function A0(e,t){return t()}var z0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A0:D0;Ph.useSyncExternalStore=Sr.useSyncExternalStore!==void 0?Sr.useSyncExternalStore:z0;Lh.exports=Ph;var R0=Lh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ho=N,B0=R0;function F0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O0=typeof Object.is=="function"?Object.is:F0,$0=B0.useSyncExternalStore,W0=ho.useRef,H0=ho.useEffect,U0=ho.useMemo,V0=ho.useDebugValue;Th.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=W0(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=U0(function(){function a(h){if(!u){if(u=!0,f=h,h=r(h),i!==void 0&&o.hasValue){var g=o.value;if(i(g,h))return d=g}return d=h}if(g=d,O0(f,h))return g;var v=r(h);return i!==void 0&&i(g,v)?(f=h,g):(f=h,d=v)}var u=!1,f,d,p=n===void 0?null:n;return[function(){return a(t())},p===null?void 0:function(){return a(p())}]},[t,n,r,i]);var s=$0(e,l[0],l[1]);return H0(function(){o.hasValue=!0,o.value=s},[s]),V0(s),s};Nh.exports=Th;var Q0=Nh.exports;const K0=Xl(Q0),_h={},{useDebugValue:q0}=jf,{useSyncExternalStoreWithSelector:G0}=K0;let od=!1;const X0=e=>e;function Y0(e,t=X0,n){(_h?"production":void 0)!=="production"&&n&&!od&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),od=!0);const r=G0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return q0(r),r}const sd=e=>{(_h?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?N0(e):e,n=(r,i)=>Y0(t,r,i);return Object.assign(n,t),n},Ih=e=>e?sd(e):sd,ju=500,J0=ju+100,ad=2,Qe="/api";function Se(e,t){try{return JSON.parse(e)}catch{return t}}function Z0(e,t){return!(e==="done"&&t!=="done")}const Z=Ih((e,t)=>({threads:[],activeThreadId:null,isLoading:!1,error:null,showArchived:!1,sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{},lastSeenEventId:{},childPendingQuestions:{},setActiveThread:n=>{const r=t().activeThreadId,i=t().threads,l=i.find(s=>s.id===n),o=i.find(s=>s.id===r);if(r&&r!==n){const s=(l==null?void 0:l.parentId)===r,a=(o==null?void 0:o.parentId)===n;!s&&!a&&t().unsubscribeFromThread(r)}if(e({activeThreadId:n}),n&&t().subscribeToThread(n),l!=null&&l.parentId&&t().subscribeToThread(l.parentId),n){const s=i.filter(a=>a.parentId===n&&!a.archivedAt);for(const a of s)(a.status==="pending"||a.status==="active")&&t().subscribeToThread(a.id)}},fetchThreads:async n=>{var r;e({isLoading:!0,error:null});try{const l=await fetch(`${Qe}/threads${n?"?include_archived=true":""}`);if(!l.ok){const p=(await l.json().catch(()=>({}))).detail||l.statusText;throw new Error(`${p} (HTTP ${l.status})`)}const o=await l.json(),s=t().threads,a=new Map(s.map(d=>[d.id,{lastUsage:d.lastUsage,lastCostUsd:d.lastCostUsd}])),u=o.map(d=>{var p,h;return{...d,lastUsage:(p=a.get(d.id))==null?void 0:p.lastUsage,lastCostUsd:(h=a.get(d.id))==null?void 0:h.lastCostUsd}}),f={};for(const d of u){const p=((r=d.messages)==null?void 0:r.length)||0;f[d.id]={hasMore:p>=50,total:p,loadedCount:p,isLoading:!1}}e({threads:u,pagination:f,isLoading:!1})}catch(i){const l=i instanceof Error?i.message:"Failed to fetch threads";e({error:l,isLoading:!1})}},createThread:async n=>{const r=await fetch(`${Qe}/threads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.json();return e(l=>({threads:[...l.threads,i]})),i},sendMessage:async(n,r,i)=>{const l=`temp-${Date.now()}`,o={id:l,role:"user",content:r,timestamp:new Date().toISOString()};e(f=>({threads:f.threads.map(d=>d.id===n?{...d,messages:[...d.messages,o],status:"pending"}:d)})),t().clearStreamingBlocks(n);const s=new AbortController,a=setTimeout(()=>s.abort(),3e5),u={content:r};i!=null&&i.images&&i.images.length>0&&(u.images=i.images),i!=null&&i.fileRefs&&i.fileRefs.length>0&&(u.file_references=i.fileRefs),(i==null?void 0:i.allowNestedSubthreads)!==void 0&&(u.allow_nested_subthreads=i.allowNestedSubthreads),(i==null?void 0:i.maxThreadDepth)!==void 0&&(u.max_thread_depth=i.maxThreadDepth);try{const f=await fetch(`${Qe}/threads/${n}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),signal:s.signal});if(!f.ok){if(f.status===499){e(g=>({threads:g.threads.map(v=>v.id===n?{...v,messages:v.messages.filter(w=>w.id!==l),status:"active"}:v)}));return}const d=await f.json().catch(()=>({})),p=d.detail||f.statusText,h=d.type?` [${d.type}]`:"";throw new Error(`${p}${h} (HTTP ${f.status})`)}await f.json()}catch(f){if(f instanceof DOMException&&f.name==="AbortError"){const p="Request timed out after 5 minutes";throw e(h=>({threads:h.threads.map(g=>g.id===n?{...g,status:"needs_attention"}:g),error:p})),new Error(p)}const d=f instanceof Error?f.message:"Failed to send message";throw e(p=>({threads:p.threads.map(h=>h.id===n?{...h,status:"needs_attention"}:h),error:d})),f}finally{clearTimeout(a)}},stopThread:async n=>{try{const r=await fetch(`${Qe}/threads/${n}/stop`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}catch(r){if(r instanceof Error&&r.message.includes("No active task"))return;throw r}},updateThreadStatus:(n,r)=>{e(i=>({threads:i.threads.map(l=>l.id===n?{...l,status:r}:l)}))},updateThreadTitle:async(n,r)=>{const i=await fetch(`${Qe}/threads/${n}/title`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,title:r}:o)}))},updateThreadConfig:async(n,r)=>{const i=await fetch(`${Qe}/threads/${n}/config`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,...r}:o)}))},clearThreadMessages:async n=>{const r=await fetch(`${Qe}/threads/${n}/messages`,{method:"DELETE"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const{[n]:l,...o}=i.threadNotifications;return{threads:i.threads.map(s=>s.id===n?{...s,messages:[],sessionId:null}:s),threadNotifications:o}})},archiveThread:async n=>{const r=await fetch(`${Qe}/threads/${n}/archive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const l=i.threads.find(a=>a.id===n),o=i.activeThreadId===n;let s=i.activeThreadId;if(o)if(l!=null&&l.parentId)s=l.parentId;else{const a=i.threads.find(u=>u.id!==n&&!u.parentId&&!u.archivedAt);s=(a==null?void 0:a.id)||null}return{threads:i.threads.map(a=>a.id===n?{...a,archivedAt:new Date().toISOString()}:a),activeThreadId:s}})},unarchiveThread:async n=>{const r=await fetch(`${Qe}/threads/${n}/unarchive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>({threads:i.threads.map(l=>l.id===n?{...l,archivedAt:null}:l)}))},resetAllThreads:async()=>{const n=await fetch(`${Qe}/threads/all?confirm=true`,{method:"DELETE"});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.detail||`HTTP ${n.status}: ${n.statusText}`)}t().cleanupAllConnections(),e({threads:[],activeThreadId:null,error:null})},setShowArchived:n=>{e({showArchived:n}),t().fetchThreads(!0)},loadMoreMessages:async n=>{const{pagination:r,threads:i}=t(),l=r[n],o=i.find(s=>s.id===n);if(!(l!=null&&l.isLoading||!(l!=null&&l.hasMore))){e(s=>({pagination:{...s.pagination,[n]:{...s.pagination[n],isLoading:!0}}}));try{const a=((o==null?void 0:o.messages)||[]).length,u=await fetch(`${Qe}/threads/${n}/messages?limit=50&offset=${a}`);if(!u.ok)throw new Error(`HTTP ${u.status}`);const f=await u.json();e(d=>{const p=d.threads.find(v=>v.id===n);if(!p)return d;const h=new Set(p.messages.map(v=>v.id)),g=f.messages.filter(v=>!h.has(v.id));return{threads:d.threads.map(v=>v.id===n?{...v,messages:[...g,...v.messages]}:v),pagination:{...d.pagination,[n]:{hasMore:f.hasMore,total:f.total,loadedCount:p.messages.length+g.length,isLoading:!1}}}})}catch(s){console.error("Failed to load more messages:",s),e(a=>({pagination:{...a.pagination,[n]:{...a.pagination[n],isLoading:!1}}}))}}},subscribeToThread:(n,r)=>{const{sseConnections:i}=t();if(i[n])return;const l=r?`${Qe}/threads/${n}/stream?last_event_id=${r}`:`${Qe}/threads/${n}/stream`,o=new EventSource(l),s=a=>{a.lastEventId&&e(u=>{const f=u.sseConnections[n];return f?{sseConnections:{...u.sseConnections,[n]:{...f,lastEventId:a.lastEventId}}}:u})};o.addEventListener("connected",()=>{console.log(`[SSE] Connected to thread ${n}`),e(a=>{const u=a.sseConnections[n];return u?{sseConnections:{...a.sseConnections,[n]:{...u,reconnectAttempts:0,reconnectTimeoutId:void 0}}}:a})}),o.addEventListener("text_delta",a=>{var f;if(s(a),a.lastEventId){const d=t().lastSeenEventId[n];if(d&&a.lastEventId<=d)return;e(p=>({lastSeenEventId:{...p.lastSeenEventId,[n]:a.lastEventId}}))}const u=Se(a.data,{content:""});console.log("[SSE] text_delta received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendTextToLastBlock(n,u.content)}),o.addEventListener("thinking",a=>{var f;if(s(a),a.lastEventId){const d=t().lastSeenEventId[n];if(d&&a.lastEventId<=d)return;e(p=>({lastSeenEventId:{...p.lastSeenEventId,[n]:a.lastEventId}}))}const u=Se(a.data,{});console.log("[SSE] thinking received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendThinkingToLastBlock(n,u.content)}),o.addEventListener("tool_use",a=>{s(a);const u=Se(a.data,{});console.log("[SSE] tool_use received:",u,"id:",u.id);const f=u.tool||u.name;f&&t().appendStreamingBlock(n,{type:"tool_use",name:f,input:u.input,id:u.id,isComplete:!1})}),o.addEventListener("tool_input",a=>{s(a);const u=Se(a.data,{});console.log("[SSE] tool_input received:",u),u.id&&u.input&&t().updateBlockInput(n,u.id,u.input)}),o.addEventListener("tool_result",a=>{s(a);const u=Se(a.data,{});if(console.log("[SSE] tool_result received:",u,"tool_use_id:",u.tool_use_id),u.tool_use_id){const f=u.is_error===!0,d=f&&typeof u.content=="string"?u.content:void 0;console.log("[SSE] Marking block complete:",u.tool_use_id,"isError:",f),t().markBlockComplete(n,u.tool_use_id,f,d),u.thread_id&&t().setSpawnedThreadId(u.tool_use_id,u.thread_id)}else console.warn("[SSE] tool_result missing tool_use_id:",u)}),o.addEventListener("question",a=>{s(a);const u=Se(a.data,{});u.questions&&u.questions.length>0&&t().setPendingQuestion(n,u.questions)}),o.addEventListener("plan_approval",a=>{s(a);const u=Se(a.data,{});if(u.timeout){console.warn("[SSE] Plan approval timed out:",u.message);return}u.planContent!==void 0&&t().setPendingPlanApproval(n,{planFilePath:u.planFilePath||"Plan",planContent:u.planContent||"",allowedPrompts:u.allowedPrompts})}),o.addEventListener("message",a=>{s(a);const u=Se(a.data,{});u.message&&e(f=>{const d=f.threads.find(h=>h.id===n);return(d==null?void 0:d.messages.some(h=>h.id===u.message.id))?{threads:f.threads.map(h=>h.id===n?{...h,status:u.status||h.status}:h)}:{threads:f.threads.map(h=>h.id===n?{...h,messages:[...h.messages,u.message],status:u.status||h.status}:h)}})}),o.addEventListener("status_change",a=>{s(a);const u=Se(a.data,{});u.status&&t().updateThreadStatus(n,u.status)}),o.addEventListener("stopped",a=>{s(a),console.log("[SSE] stopped received for thread",n),t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}),o.addEventListener("config_change",a=>{s(a);const u=Se(a.data,{});e(f=>({threads:f.threads.map(d=>d.id===n?{...d,...u.model!==void 0&&{model:u.model},...u.extendedThinking!==void 0&&{extendedThinking:u.extendedThinking},...u.permissionMode!==void 0&&{permissionMode:u.permissionMode},...u.autoReact!==void 0&&{autoReact:u.autoReact}}:d)}))}),o.addEventListener("title_change",a=>{s(a);const u=Se(a.data,{});u.title&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,title:u.title}:d)}))}),o.addEventListener("subthread_status",a=>{s(a);const u=Se(a.data,{});if(u.threadId&&u.status){const f=t().threads.find(d=>d.id===u.threadId);if(!Z0(f==null?void 0:f.status,u.status)){console.log(`[SSE] Ignoring status change from '${f==null?void 0:f.status}' to '${u.status}' for thread ${u.threadId}`);return}t().updateThreadStatus(u.threadId,u.status),(u.status==="done"||u.status==="needs_attention")&&t().addThreadNotification(n,{threadId:u.threadId,threadTitle:u.title||"Sub-thread",timestamp:new Date().toISOString(),status:u.status})}}),o.addEventListener("thread_created",a=>{var f;s(a);const u=Se(a.data,{});if(u.thread){e(p=>p.threads.some(g=>g.id===u.thread.id)?p:{threads:[...p.threads,u.thread]});const d=t().streamingBlocks[n]||[];for(const p of d)if(p.type==="tool_use"&&p.name==="SpawnThread"&&p.id&&!t().spawnedThreadIds[p.id]){const h=(f=p.input)==null?void 0:f.title;if(h&&h===u.thread.title){t().setSpawnedThreadId(p.id,u.thread.id);break}}t().addThreadNotification(n,{threadId:u.thread.id,threadTitle:u.thread.title,timestamp:new Date().toISOString()}),u.thread.parentId===n&&t().sseConnections[n]&&t().subscribeToThread(u.thread.id,"0")}}),o.addEventListener("subagent_start",a=>{s(a);const u=Se(a.data,{});u.threadId&&e(f=>{if(f.threads.some(h=>h.id===u.threadId))return f;const p={id:u.threadId,title:u.title||"Sub-agent",status:u.status||"active",parentId:u.parentId||n,messages:[],sessionId:null,model:"claude-sonnet-4-5",extendedThinking:!1,permissionMode:"bypassPermissions",autoReact:!1,gitBranch:null,gitRepo:null,isWorktree:!1,worktreeBranch:null,archivedAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isEphemeral:!0,isReadOnly:!0};return{threads:[...f.threads,p]}})}),o.addEventListener("subagent_stop",a=>{s(a);const u=Se(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,status:u.status||"done"}:d)}))}),o.addEventListener("child_question",a=>{s(a);const u=Se(a.data,{});u.childThreadId&&u.questions&&u.questions.length>0&&t().setChildPendingQuestion(n,{childThreadId:u.childThreadId,childTitle:u.childTitle||"Sub-thread",questions:u.questions})}),o.addEventListener("thread_archived",a=>{s(a);const u=Se(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:new Date().toISOString()}:d)}))}),o.addEventListener("thread_unarchived",a=>{s(a);const u=Se(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:null}:d)}))}),o.addEventListener("usage",a=>{s(a);const u=Se(a.data,{});u.usage&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,lastUsage:u.usage,lastCostUsd:u.totalCostUsd}:d)}))}),o.addEventListener("complete",a=>{s(a);const u=Se(a.data,{});console.log("[SSE] complete received"),setTimeout(()=>{t().clearStreamingBlocks(n)},J0),e(f=>{const d=f.threads.find(h=>h.id===n);if(!d)return f;let p=[...d.messages];if(u.userMessage){const h=p.findIndex(g=>g.id.startsWith("temp-")&&g.role==="user");h>=0?p[h]=u.userMessage:p.some(g=>g.id===u.userMessage.id)||p.push(u.userMessage)}return u.assistantMessage&&(p.some(g=>g.id===u.assistantMessage.id)||p.push(u.assistantMessage)),{threads:f.threads.map(h=>h.id===n?{...h,messages:p,status:u.status||h.status}:h)}})}),o.addEventListener("error",a=>{const u=a,f=u.data?Se(u.data,{}):{};console.error(`[SSE] Error for thread ${n}:`,f.error||"Unknown error")}),o.onerror=()=>{const a=t().sseConnections[n],u=(a==null?void 0:a.reconnectAttempts)??0,f=5;if(console.error(`[SSE] Connection lost for thread ${n} (attempt ${u+1}/${f})`),a!=null&&a.reconnectTimeoutId&&clearTimeout(a.reconnectTimeoutId),o.close(),u>=f){console.error(`[SSE] Max reconnection attempts reached for thread ${n}`),t().unsubscribeFromThread(n);return}const d=t().activeThreadId,p=d?t().threads.find(w=>w.id===d):null,h=(p==null?void 0:p.parentId)===n;if(d!==n&&!h){t().unsubscribeFromThread(n);return}const g=Math.min(1e3*Math.pow(2,u),16e3);console.log(`[SSE] Reconnecting to thread ${n} in ${g}ms`);const v=setTimeout(()=>{var y;const w=t().activeThreadId,m=w?t().threads.find(b=>b.id===w):null;if(w===n||(m==null?void 0:m.parentId)===n){const b=(y=t().sseConnections[n])==null?void 0:y.lastEventId,{[n]:L,...C}=t().sseConnections;e({sseConnections:C}),t().subscribeToThread(n,b)}},g);e(w=>({sseConnections:{...w.sseConnections,[n]:{...a,reconnectAttempts:u+1,reconnectTimeoutId:v}}}))},e({sseConnections:{...i,[n]:{eventSource:o,threadId:n,reconnectAttempts:0,lastEventId:r}}})},unsubscribeFromThread:n=>{const{sseConnections:r}=t(),i=r[n];if(i){i.reconnectTimeoutId&&clearTimeout(i.reconnectTimeoutId),i.eventSource.close();const{[n]:l,...o}=r;e({sseConnections:o})}},appendStreamingBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=i.recentToolBlockIds[n]||[];if(r.type==="tool_use"&&r.id&&l.some(f=>f.type==="tool_use"&&f.id===r.id))return i;let s=l.map(u=>({...u,isFinalized:!0})),a=[...o];if(r.type==="tool_use"&&r.id){for(console.log(`[FIFO] New tool_use block: ${r.id}, queue before:`,a,`limit: ${ad}`);a.length>=ad;){const u=a.shift();console.log(`[FIFO] Collapsing oldest block: ${u}`),u&&(s=s.map(f=>f.type==="tool_use"&&f.id===u?{...f,isCollapsed:!0}:f))}a.push(r.id),console.log("[FIFO] Queue after:",a)}else r.type==="tool_use"&&console.log("[FIFO] Tool block missing id:",r);return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{...r,timestamp:Date.now(),isFinalized:!1}]},expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:null},recentToolBlockIds:{...i.recentToolBlockIds,[n]:a}}})},appendTextToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="text"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"text",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},appendThinkingToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="thinking"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"thinking",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},markBlockComplete:(n,r,i=!1,l)=>{console.log(`[SSE] markBlockComplete called: threadId=${n}, toolUseId=${r}, isError=${i}`),e(o=>{const s=o.streamingBlocks[n]||[],a=s.findIndex(u=>u.type==="tool_use"&&u.id===r);return console.log(`[SSE] Found block at index ${a}, total blocks: ${s.length}`),{streamingBlocks:{...o.streamingBlocks,[n]:s.map(u=>u.type==="tool_use"&&u.id===r?{...u,isComplete:!0,isFinalized:!0,isError:i,errorMessage:l}:u)}}})},updateBlockInput:(n,r,i)=>{console.log(`[SSE] updateBlockInput called: threadId=${n}, toolUseId=${r}`),e(l=>{const o=l.streamingBlocks[n]||[];return{streamingBlocks:{...l.streamingBlocks,[n]:o.map(s=>s.type==="tool_use"&&s.id===r?{...s,input:i}:s)}}})},collapseToolBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[];return{streamingBlocks:{...i.streamingBlocks,[n]:l.map(o=>o.type==="tool_use"&&o.id===r?{...o,isCollapsed:!0}:o)}}})},clearStreamingBlocks:n=>{e(r=>{const{[n]:i,...l}=r.streamingBlocks,{[n]:o,...s}=r.expandedStreamingBlockId,{[n]:a,...u}=r.recentToolBlockIds;return{streamingBlocks:l,expandedStreamingBlockId:s,recentToolBlockIds:u}})},setExpandedStreamingBlockId:(n,r)=>{e(i=>({expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:r}}))},setPendingQuestion:(n,r)=>{e(i=>({pendingQuestion:{...i.pendingQuestion,[n]:r}}))},clearPendingQuestion:n=>{e(r=>{const{[n]:i,...l}=r.pendingQuestion;return{pendingQuestion:l}})},answerQuestion:async(n,r)=>{const i=await fetch(`${Qe}/threads/${n}/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>{const s=[...l.streamingBlocks[n]||[]];for(let a=s.length-1;a>=0;a--){const u=s[a];if(u.type==="tool_use"&&u.name==="AskUserQuestion"&&!u.submittedAnswers){s[a]={...u,submittedAnswers:r,isComplete:!0};break}}return{streamingBlocks:{...l.streamingBlocks,[n]:s}}}),t().clearPendingQuestion(n)},setPendingPlanApproval:(n,r)=>{e(i=>({pendingPlanApproval:{...i.pendingPlanApproval,[n]:r}}))},clearPendingPlanApproval:n=>{e(r=>{const{[n]:i,...l}=r.pendingPlanApproval;return{pendingPlanApproval:l}})},handlePlanAction:async(n,r,i)=>{const l=await fetch(`${Qe}/threads/${n}/plan-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,permissionMode:i})});if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.detail||`HTTP ${l.status}: ${l.statusText}`)}t().clearPendingPlanApproval(n)},addThreadNotification:(n,r)=>{e(i=>({threadNotifications:{...i.threadNotifications,[n]:[...i.threadNotifications[n]||[],r]}}))},clearThreadNotifications:n=>{e(r=>{const{[n]:i,...l}=r.threadNotifications;return{threadNotifications:l}})},cleanupAllConnections:()=>{const{sseConnections:n}=t();Object.values(n).forEach(r=>{r.eventSource.close()}),e({sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{},lastSeenEventId:{},childPendingQuestions:{}})},setSpawnedThreadId:(n,r)=>{e(i=>({spawnedThreadIds:{...i.spawnedThreadIds,[n]:r}}))},getSpawnedThreadId:n=>t().spawnedThreadIds[n],setChildPendingQuestion:(n,r)=>{e(i=>{const o=(i.childPendingQuestions[n]||[]).filter(s=>s.childThreadId!==r.childThreadId);return{childPendingQuestions:{...i.childPendingQuestions,[n]:[...o,r]}}})},clearChildPendingQuestion:(n,r)=>{e(i=>{const o=(i.childPendingQuestions[n]||[]).filter(s=>s.childThreadId!==r);if(o.length===0){const{[n]:s,...a}=i.childPendingQuestions;return{childPendingQuestions:a}}return{childPendingQuestions:{...i.childPendingQuestions,[n]:o}}})}})),ey={};function ty(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var l;const o=a=>a===null?null:JSON.parse(a,void 0),s=(l=n.getItem(i))!=null?l:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,l)=>n.setItem(i,JSON.stringify(l,void 0)),removeItem:i=>n.removeItem(i)}}const Ei=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ei(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ei(r)(n)}}}},ny=(e,t)=>(n,r,i)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const s=new Set,a=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...w)},r,i);const f=Ei(l.serialize),d=()=>{const w=l.partialize({...r()});let m;const x=f({state:w,version:l.version}).then(y=>u.setItem(l.name,y)).catch(y=>{m=y});if(m)throw m;return x},p=i.setState;i.setState=(w,m)=>{p(w,m),d()};const h=e((...w)=>{n(...w),d()},r,i);let g;const v=()=>{var w;if(!u)return;o=!1,s.forEach(x=>x(r()));const m=((w=l.onRehydrateStorage)==null?void 0:w.call(l,r()))||void 0;return Ei(u.getItem.bind(u))(l.name).then(x=>{if(x)return l.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return l.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return g=l.merge(x,(y=r())!=null?y:h),n(g,!0),d()}).then(()=>{m==null||m(g,void 0),o=!0,a.forEach(x=>x(g))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:w=>{l={...l,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(s.add(w),()=>{s.delete(w)}),onFinishHydration:w=>(a.add(w),()=>{a.delete(w)})},v(),g||h},ry=(e,t)=>(n,r,i)=>{let l={storage:ty(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},o=!1;const s=new Set,a=new Set;let u=l.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...v)},r,i);const f=()=>{const v=l.partialize({...r()});return u.setItem(l.name,{state:v,version:l.version})},d=i.setState;i.setState=(v,w)=>{d(v,w),f()};const p=e((...v)=>{n(...v),f()},r,i);i.getInitialState=()=>p;let h;const g=()=>{var v,w;if(!u)return;o=!1,s.forEach(x=>{var y;return x((y=r())!=null?y:p)});const m=((w=l.onRehydrateStorage)==null?void 0:w.call(l,(v=r())!=null?v:p))||void 0;return Ei(u.getItem.bind(u))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return[!0,l.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[b,L]=x;if(h=l.merge(L,(y=r())!=null?y:p),n(h,!0),b)return f()}).then(()=>{m==null||m(h,void 0),h=r(),o=!0,a.forEach(x=>x(h))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:v=>{l={...l,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(s.add(v),()=>{s.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},l.skipHydration||g(),h||p},iy=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ey?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ny(e,t)):ry(e,t),ly=iy,ud={defaultModel:"claude-opus-4-5",defaultPermissionMode:"acceptEdits",defaultExtendedThinking:!0,defaultAutoReact:!0,showArchivedByDefault:!1,theme:"system",experimentalAllowNestedSubthreads:!1,experimentalMaxThreadDepth:3},St=Ih()(ly(e=>({...ud,isSettingsOpen:!1,openSettings:()=>e({isSettingsOpen:!0}),closeSettings:()=>e({isSettingsOpen:!1}),toggleSettings:()=>e(t=>({isSettingsOpen:!t.isSettingsOpen})),isCreateThreadModalOpen:!1,openCreateThreadModal:()=>e({isCreateThreadModalOpen:!0}),closeCreateThreadModal:()=>e({isCreateThreadModalOpen:!1}),isCommandPaletteOpen:!1,openCommandPalette:()=>e({isCommandPaletteOpen:!0}),closeCommandPalette:()=>e({isCommandPaletteOpen:!1}),toggleCommandPalette:()=>e(t=>({isCommandPaletteOpen:!t.isCommandPaletteOpen})),updateSettings:t=>e(n=>({...n,...t})),resetToDefaults:()=>e(ud)}),{name:"mainthread-settings",partialize:e=>({defaultModel:e.defaultModel,defaultPermissionMode:e.defaultPermissionMode,defaultExtendedThinking:e.defaultExtendedThinking,defaultAutoReact:e.defaultAutoReact,showArchivedByDefault:e.showArchivedByDefault,theme:e.theme,experimentalAllowNestedSubthreads:e.experimentalAllowNestedSubthreads,experimentalMaxThreadDepth:e.experimentalMaxThreadDepth})})),Yo=[{value:"claude-opus-4-5",label:"Opus",desc:"Most powerful",color:"bg-amber-500"},{value:"claude-sonnet-4-5",label:"Sonnet",desc:"Fast & capable",color:"bg-violet-500"},{value:"claude-haiku-4-5",label:"Haiku",desc:"Quick responses",color:"bg-emerald-500"}],Jo=[{value:"plan",label:"Plan",desc:"Review before executing",color:"border-blue-500 bg-blue-500/10 text-blue-700 dark:text-blue-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-approve file changes",color:"border-green-500 bg-green-500/10 text-green-700 dark:text-green-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},{value:"default",label:"Normal",desc:"Prompt for each action",color:"border-gray-400 bg-gray-500/10 text-gray-700 dark:text-gray-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"bypassPermissions",label:"Bypass",desc:"Skip all prompts",color:"border-red-500 bg-red-500/10 text-red-700 dark:text-red-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}];function oy({isOpen:e,parentModel:t,parentPermissionMode:n,onSubmit:r,onCancel:i}){const[l,o]=N.useState(""),[s,a]=N.useState(t),[u,f]=N.useState(n),d=N.useRef(null),p=N.useRef(null),h=N.useId();N.useEffect(()=>{var m;e?(p.current=document.activeElement,o(""),a(t),f(n),requestAnimationFrame(()=>{var x;return(x=d.current)==null?void 0:x.focus()})):(m=p.current)==null||m.focus()},[e,t,n]),N.useEffect(()=>{if(!e)return;const m=x=>{x.key==="Escape"&&i()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,i]);const g=N.useCallback(m=>{if(m.key==="Tab"){const x=m.currentTarget.querySelectorAll("input, button:not([disabled])"),y=x[0],b=x[x.length-1];m.shiftKey&&document.activeElement===y?(m.preventDefault(),b==null||b.focus()):!m.shiftKey&&document.activeElement===b&&(m.preventDefault(),y==null||y.focus())}},[]),v=m=>{m.preventDefault(),l.trim()&&r({title:l.trim(),model:s,permissionMode:u})},w=m=>{m.target===m.currentTarget&&i()};return e?(Yo.find(m=>m.value===s)||Yo[0],Jo.find(m=>m.value===u)||Jo[2],c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:w,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":h,className:"bg-background border border-border rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",onClick:m=>m.stopPropagation(),onKeyDown:g,children:[c.jsxs("div",{className:"px-6 py-4 border-b border-border bg-muted/30",children:[c.jsxs("h2",{id:h,className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Create Sub-Thread"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Spawn a parallel task with its own settings"})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${h}-title`,className:"block text-sm font-medium mb-2",children:"Thread Title"}),c.jsx("input",{id:`${h}-title`,ref:d,type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"e.g., Refactor auth module",className:`w-full px-4 py-2.5 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
                         placeholder:text-muted-foreground/50`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:Yo.map(m=>c.jsxs("button",{type:"button",onClick:()=>a(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${s===m.value?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${m.color}`}),c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),s===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Permission Mode"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Jo.map(m=>c.jsxs("button",{type:"button",onClick:()=>f(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${u===m.value?`${m.color} border-current`:"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[m.icon,c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),u===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))}),u==="bypassPermissions"&&c.jsxs("p",{className:"mt-2 text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Caution: All actions will be auto-approved"]})]}),c.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:!l.trim(),className:`px-5 py-2 text-sm bg-primary text-primary-foreground rounded-lg
                         hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed
                         transition-colors font-medium flex items-center gap-2`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Thread"]})]})]})]})})):null}function Cu({enabled:e,onChange:t,label:n,size:r="sm"}){const i=r==="sm"?{track:"w-8 h-4",thumb:"w-3 h-3",translate:"translate-x-4"}:{track:"w-10 h-5",thumb:"w-4 h-4",translate:"translate-x-5"};return c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`
          ${i.track} rounded-full transition-colors duration-200 ease-in-out
          relative inline-flex items-center shrink-0
          ${e?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
            ${i.thumb} rounded-full bg-white shadow-sm
            transform transition-transform duration-200 ease-in-out
            ${e?i.translate:"translate-x-0.5"}
          `})}),n&&c.jsx("span",{className:"text-xs text-foreground",children:n})]})}function sy({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Zo({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function ay({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 10V5a2 2 0 012-2h6a2 2 0 012 2v5M7 10v4a2 2 0 002 2h6a2 2 0 002-2v-4M7 10h10"})})}function es({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function cd({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function uy({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function cy({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]})}function ts(e,t=!1){const n="/Users/";let r=e;if(e.startsWith(n)){const i=e.slice(n.length),l=i.indexOf("/");l>0&&(r="~"+i.slice(l))}if(t){const i=r.split("/").filter(Boolean);return i.length<=2?r:"~/"+i.slice(-2).join("/")}return r}const dy=[{value:"claude-opus-4-5",label:"Opus 4.5",description:"Most powerful"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5",description:"Fast and capable"},{value:"claude-haiku-4-5",label:"Haiku 4.5",description:"Quick responses"}],fy=[{value:"plan",label:"Plan",description:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",description:"Auto-accept file changes"},{value:"default",label:"Normal",description:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass",description:"Skip all permission prompts"}];function Mh({isOpen:e,onSubmit:t,onCancel:n}){const{defaultModel:r,defaultExtendedThinking:i,defaultPermissionMode:l,openSettings:o,closeCreateThreadModal:s}=St(),[a,u]=N.useState(""),[f,d]=N.useState(""),[p,h]=N.useState(r),[g,v]=N.useState(i),[w,m]=N.useState(l),x=N.useRef(null),y=N.useRef(null),b=N.useRef(null),L=N.useId(),[C,P]=N.useState([]),[I,A]=N.useState(!1),[E,O]=N.useState(0),[$,G]=N.useState(null),[Y,J]=N.useState(!1),[ue,z]=N.useState([]),[_,B]=N.useState(null),[k,Q]=N.useState(!1),[q,S]=N.useState(null),[K,we]=N.useState(!1),[te,de]=N.useState(!1),[_e,Te]=N.useState(""),[Ie,ot]=N.useState(!1),[At,D]=N.useState("");N.useEffect(()=>{if(!e)return;const j=M=>{M.key==="Escape"&&n()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[e,n]),N.useEffect(()=>{var j;e?(b.current=document.activeElement,u(""),h(r),v(i),m(l),P([]),A(!1),G(null),z([]),B(null),S(null),we(!1),de(!1),Te(""),ot(!1),D(""),fetch("/api/cwd").then(M=>M.ok?M.json():null).then(M=>{M!=null&&M.path?(d(M.path),G(!0)):d("")}).catch(()=>d("")),fetch("/api/directories/suggestions").then(M=>M.ok?M.json():[]).then(M=>z(M)).catch(()=>z([])),requestAnimationFrame(()=>{var M;(M=x.current)==null||M.focus()})):(j=b.current)==null||j.focus()},[e,r,i,l]);const U=N.useCallback(async j=>{try{const M=await fetch(`/api/browse?path=${encodeURIComponent(j)}&type=directory`);if(M.ok){const V=await M.json();if(P(V),O(0),!j){G(null);return}const T=j.replace(/\/$/,""),H=V.some(Ce=>Ce.path===T||Ce.path===j),ie=V.length>0&&V.every(Ce=>Ce.path.startsWith(T+"/"));if(H||ie)G(!0);else{const Ce=V.length>0;G(Ce?null:!1)}}}catch{P([])}},[]);N.useEffect(()=>{const j=setTimeout(()=>U(f),150);return()=>clearTimeout(j)},[f,U]),N.useEffect(()=>{if(!f||$===!1){B(null),S(null);return}const M=setTimeout(async()=>{Q(!0);try{const V=await fetch(`/api/git/info?path=${encodeURIComponent(f)}`);if(V.ok){const T=await V.json();B(T),T.isGitRepo&&T.currentBranch?(S(T.currentBranch),G(!0)):T.repoRoot}}catch{B(null)}finally{Q(!1)}},500);return()=>clearTimeout(M)},[f,$]),N.useEffect(()=>{if(!(_!=null&&_.repoRoot)||!q||q===_.currentBranch){D("");return}const j=q.replace(/[\/\\]/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase(),M=_.repoName||"repo",V=_.repoRoot.split("/").slice(0,-1).join("/");D(`${V}/${M}-${j}`)},[q,_]);const oe=N.useCallback(j=>{if(j.key==="Tab"){const M=j.currentTarget.querySelectorAll("input, select, button:not([disabled])"),V=M[0],T=M[M.length-1];j.shiftKey&&document.activeElement===V?(j.preventDefault(),T==null||T.focus()):!j.shiftKey&&document.activeElement===T&&(j.preventDefault(),V==null||V.focus())}},[]),ae=j=>{if(!(!I||C.length===0))switch(j.key){case"ArrowDown":j.preventDefault(),O(M=>Math.min(M+1,C.length-1));break;case"ArrowUp":j.preventDefault(),O(M=>Math.max(M-1,0));break;case"Enter":C[E]&&(j.preventDefault(),d(C[E].path),A(!1));break;case"Escape":j.preventDefault(),A(!1);break;case"Tab":C[E]&&(j.preventDefault(),d(C[E].path),A(!1));break}},Ae=async()=>{if(f){J(!0);try{const j=await fetch("/api/directories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:f})});if(j.ok){const M=await j.json();d(M.path),G(!0)}}catch(j){console.error("Failed to create directory:",j)}finally{J(!1)}}},Et=j=>{var M;d(j.path),A(!1),(M=y.current)==null||M.focus()},xt=j=>{S(j),we(!1),de(!1),Te("")},Hn=()=>{de(!0),we(!1)},Un=()=>{_e.trim()&&(S(_e.trim()),de(!1),Te(""))},_r=j=>{if(j.preventDefault(),a.trim()){const M={title:a.trim(),workDir:f.trim()||void 0,model:p,extendedThinking:g,permissionMode:w};_!=null&&_.isGitRepo&&q&&q!==_.currentBranch&&(M.gitBranch=q,M.useWorktree=Ie,Ie&&At&&(M.worktreePath=At)),t(M)}},Ir=j=>{j.target===j.currentTarget&&n()},Vn=(_==null?void 0:_.isGitRepo)&&q&&q!==_.currentBranch,Qn=(_==null?void 0:_.isGitRepo)&&q&&!_.branches.includes(q);return e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:Ir,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":L,className:"bg-background border border-border rounded-lg shadow-lg p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),onKeyDown:oe,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{id:L,className:"text-lg font-semibold",children:"Create New Thread"}),c.jsx("button",{type:"button",onClick:()=>{s(),o()},className:"p-1.5 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",title:"Configure defaults",children:c.jsx(sy,{className:"w-4 h-4"})})]}),c.jsxs("form",{onSubmit:_r,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${L}-title`,className:"block text-sm font-medium mb-1",children:"Title"}),c.jsx("input",{id:`${L}-title`,ref:x,type:"text",value:a,onChange:j=>u(j.target.value),placeholder:"Enter thread title...",className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:`${L}-workdir`,className:"block text-sm font-medium mb-1",children:"Working Directory"}),ue.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:ue.slice(0,8).map(j=>c.jsxs("button",{type:"button",onClick:()=>{d(j.path),G(!0)},className:`px-2 py-1 text-xs rounded-full bg-muted hover:bg-muted/80
                               flex items-center gap-1 text-muted-foreground hover:text-foreground
                               transition-colors border border-transparent hover:border-border/50`,title:ts(j.path),children:[j.type==="git"&&c.jsx(cy,{className:"w-3 h-3"}),j.type==="recent"&&c.jsx(uy,{className:"w-3 h-3"}),j.type==="folder"&&c.jsx(Zo,{className:"w-3 h-3"}),c.jsx("span",{className:"truncate max-w-[140px] font-mono",children:ts(j.path,!0)})]},j.path))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:`${L}-workdir`,ref:y,type:"text",value:f,onChange:j=>{d(j.target.value),A(!0)},onFocus:()=>{A(!0),C.length===0&&f&&$!==!0&&U(f)},onBlur:()=>{setTimeout(()=>A(!1),200)},onKeyDown:ae,placeholder:"~ or /path/to/project",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true",className:`w-full px-4 py-2 pr-10 rounded-lg border border-border bg-background
                           focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`}),c.jsx(Zo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),I&&C.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:C.map((j,M)=>c.jsxs("button",{type:"button",onClick:()=>Et(j),onMouseEnter:()=>O(M),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${M===E?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx(Zo,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate font-mono text-xs",children:ts(j.path)})]},j.path))}),f&&c.jsx("div",{className:"mt-1.5 flex items-center gap-2",children:$===!1?c.jsxs(c.Fragment,{children:[c.jsx(cd,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-xs text-amber-600",children:"Path does not exist"}),c.jsx("button",{type:"button",onClick:Ae,disabled:Y,className:"text-xs text-primary hover:underline disabled:opacity-50",children:Y?"Creating...":"Create it?"})]}):$===!0&&(_!=null&&_.isGitRepo)?c.jsxs(c.Fragment,{children:[c.jsx(es,{className:"w-4 h-4 text-green-500"}),c.jsxs("span",{className:"text-xs text-green-600",children:["Git repository: ",_.repoName]})]}):$===!0?c.jsxs(c.Fragment,{children:[c.jsx(es,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"(not a git repository)"})]}):null})]}),(_==null?void 0:_.isGitRepo)&&c.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded-lg border border-border",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("label",{htmlFor:`${L}-branch`,className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[c.jsx(ay,{className:"w-4 h-4"}),"Branch",c.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(use worktree for parallel work)"})]}),te?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:_e,onChange:j=>Te(j.target.value),placeholder:"feature/new-branch",className:`flex-1 px-3 py-2 rounded-lg border border-border bg-background
                                 focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`,autoFocus:!0,onKeyDown:j=>{j.key==="Enter"?(j.preventDefault(),Un()):j.key==="Escape"&&(de(!1),Te(""))}}),c.jsx("button",{type:"button",onClick:Un,disabled:!_e.trim(),className:"px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 disabled:opacity-50",children:"Create"}),c.jsx("button",{type:"button",onClick:()=>{de(!1),Te("")},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"})]}):c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>we(!K),className:`w-full px-4 py-2 rounded-lg border border-border bg-background text-left
                                 focus:outline-none focus:ring-2 focus:ring-primary flex items-center justify-between`,children:[c.jsxs("span",{className:"font-mono text-sm",children:[q||_.currentBranch,q===_.currentBranch&&c.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(current)"}),Qn&&c.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(new)"})]}),c.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),K&&c.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[_.branches.map(j=>c.jsxs("button",{type:"button",onClick:()=>xt(j),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 ${j===q?"bg-muted":""}`,children:[j===q&&c.jsx(es,{className:"w-4 h-4 text-primary flex-shrink-0"}),c.jsx("span",{className:`font-mono ${j!==q?"ml-6":""}`,children:j}),j===_.currentBranch&&c.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"(current)"})]},j)),c.jsx("div",{className:"border-t border-border",children:c.jsx("button",{type:"button",onClick:Hn,className:"w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 text-primary",children:c.jsx("span",{className:"ml-6",children:"+ Create new branch..."})})})]})]})]}),Vn&&!Qn&&!Ie&&c.jsxs("div",{className:"flex items-start gap-2 p-2 bg-amber-50 border border-amber-200 rounded-lg text-sm",children:[c.jsx(cd,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-amber-700",children:["This will checkout '",q,"' in the repository."]}),c.jsx("p",{className:"text-amber-600 text-xs mt-0.5",children:"Any uncommitted changes may be affected. Consider using a worktree instead."})]})]}),Vn&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Ie,onChange:j=>ot(j.target.checked),className:"w-4 h-4 rounded border-border"}),c.jsxs("span",{className:"text-sm",children:["Use git worktree",c.jsx("span",{className:"text-muted-foreground ml-1",children:"(recommended for parallel work)"})]})]}),Ie&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Worktree path:"}),c.jsx("input",{type:"text",value:At,onChange:j=>D(j.target.value),placeholder:"Auto-generated path...",className:`w-full px-3 py-1.5 rounded border border-border bg-background
                                   focus:outline-none focus:ring-1 focus:ring-primary font-mono text-xs`})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${L}-model`,className:"block text-sm font-medium mb-1",children:"Model"}),c.jsx("select",{id:`${L}-model`,value:p,onChange:j=>h(j.target.value),className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`,children:dy.map(j=>c.jsxs("option",{value:j.value,children:[j.label," - ",j.description]},j.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${L}-permission-mode`,className:"block text-sm font-medium mb-1",children:"Permission Mode"}),c.jsx("select",{id:`${L}-permission-mode`,value:w,onChange:j=>m(j.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${w==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,children:fy.map(j=>c.jsxs("option",{value:j.value,children:[j.value==="bypassPermissions"?" ":"",j.label," - ",j.description]},j.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(Cu,{enabled:g,onChange:v,label:"Extended Thinking",size:"md"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Extended reasoning for complex tasks"})]}),c.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!a.trim(),className:`px-4 py-2 bg-primary text-primary-foreground rounded-lg
                         hover:opacity-90 disabled:opacity-50`,children:"Create Thread"})]})]})]})}):null}function Tr({children:e,className:t=""}){return c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:`max-w-[60%] w-full ${t}`,children:e})})}function Dh({variant:e="primary"}){const t=e==="thinking"?"bg-amber-500/70":"bg-primary/70";return c.jsx("span",{className:`inline-block w-0.5 h-4 ${t} animate-cursor-blink ml-1`,"aria-hidden":"true"})}function Ah({content:e,isStreaming:t=!1,blockId:n,isExpanded:r,onToggle:i}){const[l,o]=N.useState(!1),s=r!==void 0&&i!==void 0,a=s?r:l,u=s?i:()=>o(!l);return c.jsx(Tr,{children:c.jsxs("div",{className:"thinking-block bg-amber-50/60 dark:bg-amber-900/15 border border-amber-200 dark:border-amber-800 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:u,className:"thinking-header w-full flex items-center gap-2 px-3 py-2 text-amber-700 dark:text-amber-300 hover:bg-amber-100/50 dark:hover:bg-amber-800/30 transition-colors","aria-expanded":a,"aria-controls":n?`thinking-content-${n}`:"thinking-content",children:[c.jsx("span",{className:"w-5 h-5 bg-amber-400 dark:bg-amber-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsx("span",{role:"img","aria-label":"thinking",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),c.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:t?c.jsxs("span",{className:"flex items-center gap-2",children:["thinking",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Claude's Reasoning"}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&c.jsxs("div",{id:n?`thinking-content-${n}`:"thinking-content",className:"thinking-content px-4 py-3 text-sm text-amber-600 dark:text-amber-400 italic border-t border-amber-200/50 dark:border-amber-700/50 animate-slide-down",children:[c.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs leading-relaxed",children:e}),t&&c.jsx(Dh,{variant:"thinking"})]})]})})}function py({questions:e,onAnswer:t,onCancel:n}){const[r,i]=N.useState({}),[l,o]=N.useState({}),[s,a]=N.useState(0),[u,f]=N.useState(0),d=N.useRef(new Map);if(e.length===0)return null;const p=e[s],h=s===e.length-1,g=N.useMemo(()=>{const P=r[p.question]||[],I=l[p.question];return P.length>0||!!I},[r,l,p.question]),v=P=>{const I=p;i(A=>{const E=A[I.question]||[];return I.multiSelect?E.includes(P)?{...A,[I.question]:E.filter(O=>O!==P)}:{...A,[I.question]:[...E,P]}:{...A,[I.question]:[P]}}),o(A=>({...A,[I.question]:""})),I.multiSelect||setTimeout(()=>{h?w(P):(a(A=>A+1),f(0))},150)},w=P=>{const I={};for(const A of e)if(A.question===p.question)I[A.question]=P;else{const E=r[A.question]||[],O=l[A.question];O?I[A.question]=O:E.length>0&&(I[A.question]=E.join(", "))}t(I)},m=()=>{const P={};for(const I of e){const A=r[I.question]||[],E=l[I.question];E?P[I.question]=E:A.length>0&&(P[I.question]=A.join(", "))}t(P)},x=()=>{!h&&g&&(a(P=>P+1),f(0))},y=()=>{s>0&&(a(P=>P-1),f(0))},b=P=>{P.key==="Enter"&&l[p.question]&&(P.preventDefault(),h?m():x())},L=N.useCallback((P,I)=>{const A=p.options.length;switch(P.key){case"ArrowDown":P.preventDefault(),f(E=>Math.min(E+1,A-1));break;case"ArrowUp":P.preventDefault(),f(E=>Math.max(E-1,0));break;case"Enter":case" ":P.preventDefault(),v(p.options[I].label);break;case"ArrowRight":!p.multiSelect&&g&&!h&&(P.preventDefault(),x());break;case"ArrowLeft":s>0&&(P.preventDefault(),y());break}},[p,h,s]);N.useEffect(()=>{const P=d.current.get(u);P==null||P.focus()},[u,s]);const C=r[p.question]||[];return c.jsx("div",{className:"flex justify-start animate-fade-in my-3",children:c.jsx("div",{className:"max-w-[500px] w-full",children:c.jsxs("div",{className:"bg-amber-50/80 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-700 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-amber-200/50 dark:border-amber-700/50 bg-amber-100/50 dark:bg-amber-800/20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),c.jsx("span",{className:"font-medium text-amber-800 dark:text-amber-200 text-sm",children:"Agent needs your input"})]}),e.length>1&&c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400","aria-label":`Question ${s+1} of ${e.length}`,children:[s+1," / ",e.length]})]}),e.length>1&&c.jsx("div",{className:"mt-2 h-1 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":s+1,"aria-valuemin":1,"aria-valuemax":e.length,"aria-label":"Question progress",children:c.jsx("div",{className:"h-full bg-amber-500 transition-all duration-300",style:{width:`${(s+1)/e.length*100}%`}})})]}),c.jsxs("div",{className:"p-4",children:[p.header&&c.jsx("span",{className:"inline-block px-2 py-0.5 bg-amber-500/20 text-amber-700 dark:text-amber-300 text-xs rounded-full font-medium mb-2",children:p.header}),c.jsx("p",{className:"font-medium text-foreground mb-4",children:p.question}),c.jsxs("div",{className:"space-y-2",children:[p.options.map((P,I)=>{const A=C.includes(P.label);return c.jsx("button",{ref:E=>{E?d.current.set(I,E):d.current.delete(I)},onClick:()=>v(P.label),onKeyDown:E=>L(E,I),tabIndex:u===I?0:-1,className:`w-full text-left p-3 rounded-lg border transition-all focus:outline-none focus:ring-2 focus:ring-amber-400/50 ${A?"border-amber-500 bg-amber-100/50 dark:bg-amber-800/30 scale-[1.02]":"border-amber-200 dark:border-amber-700/50 hover:border-amber-400 hover:bg-amber-50/50 dark:hover:bg-amber-800/20"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`mt-0.5 w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors ${A?"border-amber-500 bg-amber-500":"border-amber-400"}`,children:A&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm",children:P.label}),P.description&&c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:P.description})]})]})},I)}),c.jsx("div",{className:"pt-2",children:c.jsx("input",{type:"text",placeholder:"Or type a custom answer...","aria-label":"Custom answer",value:l[p.question]||"",onChange:P=>{o(I=>({...I,[p.question]:P.target.value})),P.target.value&&i(I=>({...I,[p.question]:[]}))},onKeyDown:b,className:"w-full px-3 py-2 text-sm border border-amber-200 dark:border-amber-700/50 rounded-lg bg-white/50 dark:bg-background/50 focus:outline-none focus:ring-2 focus:ring-amber-400/50"})})]})]}),c.jsxs("div",{className:"px-4 py-3 border-t border-amber-200/50 dark:border-amber-700/50 bg-amber-50/50 dark:bg-amber-800/10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[s>0&&c.jsxs("button",{onClick:y,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),c.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors",children:"Skip"})]}),c.jsxs("div",{children:[p.multiSelect&&!h&&c.jsxs("button",{onClick:x,disabled:!g,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:["Next",c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h&&p.multiSelect&&g&&c.jsx("button",{onClick:m,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 transition-colors",children:"Submit"})]})]})]})})})}function hy({notification:e,onNavigate:t}){return c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"max-w-[50%] flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 bg-purple-500",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:"spawned"})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function my({notification:e,onNavigate:t}){const n=e.status==="done";e.status;const i=n?{bgColor:"bg-green-500",textColor:"text-green-600 dark:text-green-400",label:"completed",icon:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}:{bgColor:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"blocked",icon:c.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})})};return c.jsx("div",{className:"flex justify-start my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"max-w-[50%] flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 ${i.bgColor}`,children:i.icon}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:`text-xs ${i.textColor}`,children:i.label})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function gy(e){if(!e)return"";const t=[/^\/Users\/[^/]+/,/^\/home\/[^/]+/,/^C:\\Users\\[^\\]+/i];for(const n of t)if(n.test(e))return e.replace(n,"~");return e}function xy({thread:e,parentThread:t,tokenInfo:n,onNavigateToParent:r,onClearThread:i,onArchiveThread:l}){const[o,s]=N.useState(!1),a=N.useCallback(async()=>{if(!e.sessionId||!e.workDir)return;const v=`cd "${e.workDir}" && claude --resume ${e.sessionId}`;try{await navigator.clipboard.writeText(v),s(!0),setTimeout(()=>s(!1),2e3)}catch{}},[e.sessionId,e.workDir]),u=e.lastUsage,f=u==null?void 0:u.input_tokens,d=u==null?void 0:u.output_tokens,p=f!=null&&d!=null?f+d:(n==null?void 0:n.totalTokens)||0,h=!!u,g=e.lastCostUsd;return c.jsxs("div",{className:"border-b border-border px-4 py-2 flex items-center justify-between bg-muted/30 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{children:[t&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-0.5",children:[c.jsx("button",{onClick:r,className:"hover:text-foreground hover:underline transition-colors",children:t.title}),c.jsx("span",{children:"/"})]}),c.jsx("h2",{className:"font-semibold text-sm",children:e.title}),e.workDir&&c.jsx("p",{className:"text-xs text-muted-foreground",title:e.workDir,children:gy(e.workDir)})]}),e.gitBranch&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-500/10 text-blue-600 text-xs",children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]}),e.gitBranch,e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 bg-blue-500/20 rounded",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"worktree"})]}),(u||n)&&p>0&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h&&f!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Input: ${f.toLocaleString()} tokens`,children:["i: ",f>=1e3?`${(f/1e3).toFixed(1)}K`:f]}),h&&d!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Output: ${d.toLocaleString()} tokens`,children:["o: ",d>=1e3?`${(d/1e3).toFixed(1)}K`:d]}),!h&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`~${p.toLocaleString()} estimated tokens`,children:["~",p>=1e3?`${(p/1e3).toFixed(1)}K`:p]}),g!=null&&g>0&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Cost: $${g.toFixed(6)}`,children:["$",g.toFixed(4)]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[e.sessionId&&e.workDir&&c.jsxs("button",{onClick:a,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted flex items-center gap-1",title:`cd "${e.workDir}" && claude --resume ${e.sessionId}`,children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),o?"Copied!":"Resume in CLI"]}),c.jsx("button",{onClick:i,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground",title:"Clear all messages",children:"Clear"}),c.jsxs("button",{onClick:l,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground flex items-center gap-1",title:"Archive thread",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Archive"]})]})]})}const yy=[{value:"claude-opus-4-5",label:"Opus 4.5"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5"},{value:"claude-haiku-4-5",label:"Haiku 4.5"}],vy=[{value:"plan",label:"Plan"},{value:"acceptEdits",label:"Accept"},{value:"default",label:"Normal"},{value:"bypassPermissions",label:"Bypass"}];function ky({thread:e,disabled:t,onSendMessage:n,onCreateThread:r,onModelChange:i,onPermissionModeChange:l,onThinkingToggle:o,onStopThread:s,onError:a}){const[u,f]=N.useState(""),d=N.useRef(null),p=N.useRef(null),[h,g]=N.useState([]),[v,w]=N.useState(!1),[m,x]=N.useState([]),[y,b]=N.useState(!1),[L,C]=N.useState(""),[P,I]=N.useState([]),[A,E]=N.useState(0),O=N.useRef(null),$=D=>new Promise((U,oe)=>{const ae=new FileReader;ae.onload=()=>{const Et=ae.result.split(",")[1];U(Et)},ae.onerror=oe,ae.readAsDataURL(D)}),G=async D=>{if(!D.type.startsWith("image/")){a("Only image files are supported");return}if(h.length>=10){a("Maximum 10 images allowed");return}try{const U=await $(D),oe=`data:${D.type};base64,${U}`,ae={id:`img-${Date.now()}-${Math.random().toString(36).slice(2)}`,data:U,media_type:D.type,preview:oe,name:D.name};g(Ae=>[...Ae,ae])}catch{a("Failed to process image")}},Y=D=>{D.preventDefault(),D.stopPropagation(),w(!0)},J=D=>{D.preventDefault(),D.stopPropagation(),D.currentTarget.contains(D.relatedTarget)||w(!1)},ue=D=>{D.preventDefault(),D.stopPropagation()},z=async D=>{D.preventDefault(),D.stopPropagation(),w(!1);const U=Array.from(D.dataTransfer.files);for(const oe of U)oe.type.startsWith("image/")&&await G(oe)},_=async D=>{const U=Array.from(D.clipboardData.items);for(const oe of U)if(oe.type.startsWith("image/")){D.preventDefault();const ae=oe.getAsFile();ae&&await G(ae)}},B=async D=>{const U=D.target.files;if(U){for(const oe of Array.from(U))oe.type.startsWith("image/")&&await G(oe);D.target.value=""}},k=D=>{g(U=>U.filter(oe=>oe.id!==D))};N.useEffect(()=>{if(!y||!e.workDir){I([]);return}const U=setTimeout(async()=>{try{const oe=new URLSearchParams({limit:"20"});L&&oe.set("query",L);const ae=await fetch(`/api/threads/${e.id}/files?${oe}`);if(ae.ok){const Ae=await ae.json();I(Ae),E(0)}}catch{I([])}},150);return()=>clearTimeout(U)},[y,L,e.id,e.workDir]);const Q=D=>{D.style.height="auto",D.style.height=Math.min(D.scrollHeight,200)+"px"},q=D=>{const U=D.target.value;f(U),Q(D.target);const oe=D.target.selectionStart||0,Ae=U.slice(0,oe).match(/@([^\s]*)$/);Ae?(b(!0),C(Ae[1])):(b(!1),C(""))},S=D=>{var Ae,Et;m.find(xt=>xt.path===D.path)||x(xt=>[...xt,D]);const U=((Ae=d.current)==null?void 0:Ae.selectionStart)||0,ae=u.slice(0,U).match(/@([^\s]*)$/);if(ae){const xt=u.slice(0,U-ae[0].length)+u.slice(U);f(xt)}b(!1),C(""),(Et=d.current)==null||Et.focus()},K=D=>{x(U=>U.filter(oe=>oe.path!==D))},we=D=>{if(!(!y||P.length===0))switch(D.key){case"ArrowDown":D.preventDefault(),E(U=>Math.min(U+1,P.length-1));break;case"ArrowUp":D.preventDefault(),E(U=>Math.max(U-1,0));break;case"Enter":P[A]&&(D.preventDefault(),S(P[A]));break;case"Escape":D.preventDefault(),b(!1);break;case"Tab":P[A]&&(D.preventDefault(),S(P[A]));break}},te=N.useCallback(async()=>{const D=["plan","acceptEdits","default","bypassPermissions"],oe=(D.indexOf(e.permissionMode)+1)%D.length;try{await l(D[oe])}catch(ae){a(ae instanceof Error?ae.message:"Failed to update permission mode")}},[e.permissionMode,l,a]);N.useEffect(()=>{const D=U=>{U.key==="Enter"&&U.shiftKey&&U.ctrlKey&&document.activeElement===d.current&&(U.preventDefault(),U.stopPropagation(),te())};return document.addEventListener("keydown",D,{capture:!0}),()=>{document.removeEventListener("keydown",D,{capture:!0})}},[te]),N.useEffect(()=>{const D=U=>{U.key==="Escape"&&e.status==="pending"&&(U.preventDefault(),s())};return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[e.status,s]);const de=N.useCallback(async()=>{if(!u.trim()&&h.length===0)return;const D=u,U=h.length>0?[...h]:void 0,oe=m.length>0?m.map(ae=>ae.path):void 0;f(""),g([]),x([]),b(!1),d.current&&(d.current.style.height="auto");try{await n(D,U,oe)}catch(ae){a(ae instanceof Error?ae.message:"Failed to send message")}},[u,h,m,n,a]),_e=async D=>{D.preventDefault(),de()},Te=N.useCallback(D=>{if(D.key==="Enter"&&D.shiftKey&&D.ctrlKey){D.preventDefault(),D.stopPropagation(),te();return}D.key==="Enter"&&D.shiftKey||D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),de())},[te,de]),Ie=async D=>{try{await i(D.target.value)}catch(U){a(U instanceof Error?U.message:"Failed to update model")}},ot=async D=>{try{await l(D.target.value)}catch(U){a(U instanceof Error?U.message:"Failed to update permission mode")}},At=async D=>{try{await o(D)}catch(U){a(U instanceof Error?U.message:"Failed to update thinking mode")}};return c.jsxs("div",{className:`border-t border-border p-4 flex-shrink-0 space-y-3 transition-colors ${v?"bg-primary/10 border-primary":""}`,onDragEnter:Y,onDragLeave:J,onDragOver:ue,onDrop:z,children:[v&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/5 border-2 border-dashed border-primary rounded-lg pointer-events-none z-10",children:c.jsx("p",{className:"text-primary font-medium",children:"Drop images here"})}),c.jsx("div",{className:"flex items-center gap-4 justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("select",{value:e.model,onChange:Ie,className:"text-xs px-2 py-1.5 rounded border border-border bg-background focus:outline-none focus:ring-1 focus:ring-primary","aria-label":"Select model",children:yy.map(D=>c.jsx("option",{value:D.value,children:D.label},D.value))}),c.jsx("select",{value:e.permissionMode,onChange:ot,className:`text-xs px-2 py-1.5 rounded border focus:outline-none focus:ring-1 ${e.permissionMode==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,"aria-label":"Permission mode",children:vy.map(D=>c.jsx("option",{value:D.value,children:D.value==="bypassPermissions"?" "+D.label:D.label},D.value))}),c.jsx(Cu,{enabled:e.extendedThinking,onChange:At,label:"Thinking"})]})}),h.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:h.map(D=>c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:D.preview,alt:D.name,className:"w-16 h-16 object-cover rounded-lg border border-border"}),c.jsx("button",{type:"button",onClick:()=>k(D.id),className:`absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full
                           flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity`,children:""})]},D.id))}),m.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:m.map(D=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md border border-border",children:[c.jsx("svg",{className:"w-3 h-3 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"text-muted-foreground",children:D.name}),c.jsx("button",{type:"button",onClick:()=>K(D.path),className:"ml-1 text-muted-foreground hover:text-foreground",children:""})]},D.path))}),c.jsxs("form",{onSubmit:_e,className:"flex gap-2 relative",children:[c.jsx("input",{ref:p,type:"file",accept:"image/*",multiple:!0,onChange:B,className:"hidden","aria-label":"Upload images"}),c.jsx("button",{type:"button",onClick:()=>{var D;return(D=p.current)==null?void 0:D.click()},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",title:"Attach images","aria-label":"Attach images",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("textarea",{ref:d,value:u,onChange:q,onKeyDown:D=>{we(D),y||Te(D)},onPaste:_,placeholder:"Type a message... (@ for files)",disabled:t,"aria-label":"Message input",rows:1,className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                       focus:outline-none focus:ring-2 focus:ring-primary resize-none overflow-y-auto`,style:{maxHeight:"200px"}}),y&&P.length>0&&c.jsx("div",{ref:O,className:`absolute bottom-full left-0 mb-1 w-80 max-h-60 overflow-y-auto
                         bg-background border border-border rounded-lg shadow-lg z-20`,children:P.map((D,U)=>c.jsxs("button",{type:"button",onClick:()=>S(D),onMouseEnter:()=>E(U),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${U===A?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"truncate",children:D.path})]},D.path))})]}),e.status==="pending"?c.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Stop running agent (Esc)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})}),"Stop"]}):c.jsx("button",{type:"submit",disabled:!u.trim()&&h.length===0||t,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Send"}),c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors","aria-label":"Create new sub-thread",children:"+ Thread"})]})]})}function wy(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const by=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Sy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jy={};function dd(e,t){return(jy.jsx?Sy:by).test(e)}const Cy=/[ \t\n\f\r]/g;function Ey(e){return typeof e=="object"?e.type==="text"?fd(e.value):!1:fd(e)}function fd(e){return e.replace(Cy,"")===""}class Di{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Di.prototype.normal={};Di.prototype.property={};Di.prototype.space=void 0;function zh(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Di(n,r,t)}function xa(e){return e.toLowerCase()}class lt{constructor(t,n){this.attribute=n,this.property=t}}lt.prototype.attribute="";lt.prototype.booleanish=!1;lt.prototype.boolean=!1;lt.prototype.commaOrSpaceSeparated=!1;lt.prototype.commaSeparated=!1;lt.prototype.defined=!1;lt.prototype.mustUseProperty=!1;lt.prototype.number=!1;lt.prototype.overloadedBoolean=!1;lt.prototype.property="";lt.prototype.spaceSeparated=!1;lt.prototype.space=void 0;let Ny=0;const ee=Wn(),Ee=Wn(),ya=Wn(),F=Wn(),pe=Wn(),mr=Wn(),at=Wn();function Wn(){return 2**++Ny}const va=Object.freeze(Object.defineProperty({__proto__:null,boolean:ee,booleanish:Ee,commaOrSpaceSeparated:at,commaSeparated:mr,number:F,overloadedBoolean:ya,spaceSeparated:pe},Symbol.toStringTag,{value:"Module"})),ns=Object.keys(va);class Eu extends lt{constructor(t,n,r,i){let l=-1;if(super(t,n),pd(this,"space",i),typeof r=="number")for(;++l<ns.length;){const o=ns[l];pd(this,ns[l],(r&va[o])===va[o])}}}Eu.prototype.defined=!0;function pd(e,t,n){n&&(e[t]=n)}function Lr(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new Eu(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[xa(r)]=r,n[xa(l.attribute)]=r}return new Di(t,n,e.space)}const Rh=Lr({properties:{ariaActiveDescendant:null,ariaAtomic:Ee,ariaAutoComplete:null,ariaBusy:Ee,ariaChecked:Ee,ariaColCount:F,ariaColIndex:F,ariaColSpan:F,ariaControls:pe,ariaCurrent:null,ariaDescribedBy:pe,ariaDetails:null,ariaDisabled:Ee,ariaDropEffect:pe,ariaErrorMessage:null,ariaExpanded:Ee,ariaFlowTo:pe,ariaGrabbed:Ee,ariaHasPopup:null,ariaHidden:Ee,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pe,ariaLevel:F,ariaLive:null,ariaModal:Ee,ariaMultiLine:Ee,ariaMultiSelectable:Ee,ariaOrientation:null,ariaOwns:pe,ariaPlaceholder:null,ariaPosInSet:F,ariaPressed:Ee,ariaReadOnly:Ee,ariaRelevant:null,ariaRequired:Ee,ariaRoleDescription:pe,ariaRowCount:F,ariaRowIndex:F,ariaRowSpan:F,ariaSelected:Ee,ariaSetSize:F,ariaSort:null,ariaValueMax:F,ariaValueMin:F,ariaValueNow:F,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Bh(e,t){return t in e?e[t]:t}function Fh(e,t){return Bh(e,t.toLowerCase())}const Ty=Lr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mr,acceptCharset:pe,accessKey:pe,action:null,allow:null,allowFullScreen:ee,allowPaymentRequest:ee,allowUserMedia:ee,alt:null,as:null,async:ee,autoCapitalize:null,autoComplete:pe,autoFocus:ee,autoPlay:ee,blocking:pe,capture:null,charSet:null,checked:ee,cite:null,className:pe,cols:F,colSpan:null,content:null,contentEditable:Ee,controls:ee,controlsList:pe,coords:F|mr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ee,defer:ee,dir:null,dirName:null,disabled:ee,download:ya,draggable:Ee,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ee,formTarget:null,headers:pe,height:F,hidden:ya,high:F,href:null,hrefLang:null,htmlFor:pe,httpEquiv:pe,id:null,imageSizes:null,imageSrcSet:null,inert:ee,inputMode:null,integrity:null,is:null,isMap:ee,itemId:null,itemProp:pe,itemRef:pe,itemScope:ee,itemType:pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ee,low:F,manifest:null,max:null,maxLength:F,media:null,method:null,min:null,minLength:F,multiple:ee,muted:ee,name:null,nonce:null,noModule:ee,noValidate:ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ee,optimum:F,pattern:null,ping:pe,placeholder:null,playsInline:ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ee,referrerPolicy:null,rel:pe,required:ee,reversed:ee,rows:F,rowSpan:F,sandbox:pe,scope:null,scoped:ee,seamless:ee,selected:ee,shadowRootClonable:ee,shadowRootDelegatesFocus:ee,shadowRootMode:null,shape:null,size:F,sizes:null,slot:null,span:F,spellCheck:Ee,src:null,srcDoc:null,srcLang:null,srcSet:null,start:F,step:null,style:null,tabIndex:F,target:null,title:null,translate:null,type:null,typeMustMatch:ee,useMap:null,value:Ee,width:F,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pe,axis:null,background:null,bgColor:null,border:F,borderColor:null,bottomMargin:F,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ee,declare:ee,event:null,face:null,frame:null,frameBorder:null,hSpace:F,leftMargin:F,link:null,longDesc:null,lowSrc:null,marginHeight:F,marginWidth:F,noResize:ee,noHref:ee,noShade:ee,noWrap:ee,object:null,profile:null,prompt:null,rev:null,rightMargin:F,rules:null,scheme:null,scrolling:Ee,standby:null,summary:null,text:null,topMargin:F,valueType:null,version:null,vAlign:null,vLink:null,vSpace:F,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ee,disableRemotePlayback:ee,prefix:null,property:null,results:F,security:null,unselectable:null},space:"html",transform:Fh}),Ly=Lr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:at,accentHeight:F,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:F,amplitude:F,arabicForm:null,ascent:F,attributeName:null,attributeType:null,azimuth:F,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:F,by:null,calcMode:null,capHeight:F,className:pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:F,diffuseConstant:F,direction:null,display:null,dur:null,divisor:F,dominantBaseline:null,download:ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:F,enableBackground:null,end:null,event:null,exponent:F,externalResourcesRequired:null,fill:null,fillOpacity:F,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mr,g2:mr,glyphName:mr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:F,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:F,horizOriginX:F,horizOriginY:F,id:null,ideographic:F,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:F,k:F,k1:F,k2:F,k3:F,k4:F,kernelMatrix:at,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:F,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:F,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:F,overlineThickness:F,paintOrder:null,panose1:null,path:null,pathLength:F,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:F,pointsAtY:F,pointsAtZ:F,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:at,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:at,rev:at,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:at,requiredFeatures:at,requiredFonts:at,requiredFormats:at,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:F,specularExponent:F,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:F,strikethroughThickness:F,string:null,stroke:null,strokeDashArray:at,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:F,strokeOpacity:F,strokeWidth:null,style:null,surfaceScale:F,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:at,tabIndex:F,tableValues:null,target:null,targetX:F,targetY:F,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:at,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:F,underlineThickness:F,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:F,values:null,vAlphabetic:F,vMathematical:F,vectorEffect:null,vHanging:F,vIdeographic:F,version:null,vertAdvY:F,vertOriginX:F,vertOriginY:F,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:F,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Bh}),Oh=Lr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),$h=Lr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Fh}),Wh=Lr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Py={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_y=/[A-Z]/g,hd=/-[a-z]/g,Iy=/^data[-\w.:]+$/i;function My(e,t){const n=xa(t);let r=t,i=lt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Iy.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(hd,Ay);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!hd.test(l)){let o=l.replace(_y,Dy);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Eu}return new i(r,t)}function Dy(e){return"-"+e.toLowerCase()}function Ay(e){return e.charAt(1).toUpperCase()}const zy=zh([Rh,Ty,Oh,$h,Wh],"html"),Nu=zh([Rh,Ly,Oh,$h,Wh],"svg");function Ry(e){return e.join(" ").trim()}var Tu={},md=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,By=/\n/g,Fy=/^\s*/,Oy=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,$y=/^:\s*/,Wy=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Hy=/^[;\s]*/,Uy=/^\s+|\s+$/g,Vy=`
`,gd="/",xd="*",Tn="",Qy="comment",Ky="declaration";function qy(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var v=g.match(By);v&&(n+=v.length);var w=g.lastIndexOf(Vy);r=~w?g.length-w:r+g.length}function l(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(g){var v=new Error(t.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function a(g){var v=g.exec(e);if(v){var w=v[0];return i(w),e=e.slice(w.length),v}}function u(){a(Fy)}function f(g){var v;for(g=g||[];v=d();)v!==!1&&g.push(v);return g}function d(){var g=l();if(!(gd!=e.charAt(0)||xd!=e.charAt(1))){for(var v=2;Tn!=e.charAt(v)&&(xd!=e.charAt(v)||gd!=e.charAt(v+1));)++v;if(v+=2,Tn===e.charAt(v-1))return s("End of comment missing");var w=e.slice(2,v-2);return r+=2,i(w),e=e.slice(v),r+=2,g({type:Qy,comment:w})}}function p(){var g=l(),v=a(Oy);if(v){if(d(),!a($y))return s("property missing ':'");var w=a(Wy),m=g({type:Ky,property:yd(v[0].replace(md,Tn)),value:w?yd(w[0].replace(md,Tn)):Tn});return a(Hy),m}}function h(){var g=[];f(g);for(var v;v=p();)v!==!1&&(g.push(v),f(g));return g}return u(),h()}function yd(e){return e?e.replace(Uy,Tn):Tn}var Gy=qy,Xy=wl&&wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=Jy;const Yy=Xy(Gy);function Jy(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Yy.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.camelCase=void 0;var Zy=/^--[a-zA-Z0-9_-]+$/,e1=/-([a-z])/g,t1=/^[^-]+$/,n1=/^-(webkit|moz|ms|o|khtml)-/,r1=/^-(ms)-/,i1=function(e){return!e||t1.test(e)||Zy.test(e)},l1=function(e,t){return t.toUpperCase()},vd=function(e,t){return"".concat(t,"-")},o1=function(e,t){return t===void 0&&(t={}),i1(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(r1,vd):e=e.replace(n1,vd),e.replace(e1,l1))};mo.camelCase=o1;var s1=wl&&wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a1=s1(Tu),u1=mo;function ka(e,t){var n={};return!e||typeof e!="string"||(0,a1.default)(e,function(r,i){r&&i&&(n[(0,u1.camelCase)(r,t)]=i)}),n}ka.default=ka;var c1=ka;const d1=Xl(c1),Hh=Uh("end"),Lu=Uh("start");function Uh(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function f1(e){const t=Lu(e),n=Hh(e);if(t&&n)return{start:t,end:n}}function oi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kd(e.position):"start"in e||"end"in e?kd(e):"line"in e||"column"in e?wa(e):""}function wa(e){return wd(e&&e.line)+":"+wd(e&&e.column)}function kd(e){return wa(e&&e.start)+"-"+wa(e&&e.end)}function wd(e){return e&&typeof e=="number"?e:1}class Ve extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?l.ruleId=r:(l.source=r.slice(0,a),l.ruleId=r.slice(a+1))}if(!l.place&&l.ancestors&&l.ancestors){const a=l.ancestors[l.ancestors.length-1];a&&(l.place=a.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=oi(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ve.prototype.file="";Ve.prototype.name="";Ve.prototype.reason="";Ve.prototype.message="";Ve.prototype.stack="";Ve.prototype.column=void 0;Ve.prototype.line=void 0;Ve.prototype.ancestors=void 0;Ve.prototype.cause=void 0;Ve.prototype.fatal=void 0;Ve.prototype.place=void 0;Ve.prototype.ruleId=void 0;Ve.prototype.source=void 0;const Pu={}.hasOwnProperty,p1=new Map,h1=/[A-Z]/g,m1=new Set(["table","tbody","thead","tfoot","tr"]),g1=new Set(["td","th"]),Vh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function x1(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=C1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=j1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Nu:zy,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Qh(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function Qh(e,t,n){if(t.type==="element")return y1(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return v1(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return w1(e,t,n);if(t.type==="mdxjsEsm")return k1(e,t);if(t.type==="root")return b1(e,t,n);if(t.type==="text")return S1(e,t)}function y1(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Nu,e.schema=i),e.ancestors.push(t);const l=qh(e,t.tagName,!1),o=E1(e,t);let s=Iu(e,t);return m1.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!Ey(a):!0})),Kh(e,o,l,t),_u(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function v1(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ni(e,t.position)}function k1(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ni(e,t.position)}function w1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Nu,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:qh(e,t.name,!0),o=N1(e,t),s=Iu(e,t);return Kh(e,o,l,t),_u(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function b1(e,t,n){const r={};return _u(r,Iu(e,t)),e.create(t,e.Fragment,r,n)}function S1(e,t){return t.value}function Kh(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _u(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function j1(e,t,n){return r;function r(i,l,o,s){const u=Array.isArray(o.children)?n:t;return s?u(l,o,s):u(l,o)}}function C1(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),a=Lu(r);return t(i,l,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function E1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Pu.call(t.properties,i)){const l=T1(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&g1.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function N1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Ni(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else Ni(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function Iu(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:p1;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const a=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const s=Qh(e,l,o);s!==void 0&&n.push(s)}return n}function T1(e,t,n){const r=My(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?wy(n):Ry(n)),r.property==="style"){let i=typeof n=="object"?n:L1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=P1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Py[r.property]||r.property:r.attribute,n]}}function L1(e,t){try{return d1(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ve("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Vh+"#cannot-parse-style-attribute",i}}function qh(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=dd(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=dd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Pu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ni(e)}function Ni(e,t){const n=new Ve("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Vh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function P1(e){const t={};let n;for(n in e)Pu.call(e,n)&&(t[_1(n)]=e[n]);return t}function _1(e){let t=e.replace(h1,I1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function I1(e){return"-"+e.toLowerCase()}const rs={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},M1={};function Mu(e,t){const n=M1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Gh(e,r,i)}function Gh(e,t,n){if(D1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return bd(e.children,t,n)}return Array.isArray(e)?bd(e,t,n):""}function bd(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Gh(e[i],t,n);return r.join("")}function D1(e){return!!(e&&typeof e=="object")}const Sd=document.createElement("i");function Du(e){const t="&"+e+";";Sd.innerHTML=t;const n=Sd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function pt(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function kt(e,t){return e.length>0?(pt(e,e.length,0,t),e):t}const jd={}.hasOwnProperty;function Xh(e){const t={};let n=-1;for(;++n<e.length;)A1(t,e[n]);return t}function A1(e,t){let n;for(n in t){const i=(jd.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){jd.call(i,o)||(i[o]=[]);const s=l[o];z1(i[o],Array.isArray(s)?s:s?[s]:[])}}}function z1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);pt(e,0,0,r)}function Yh(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Mt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qe=jn(/[A-Za-z]/),He=jn(/[\dA-Za-z]/),R1=jn(/[#-'*+\--9=?A-Z^-~]/);function Ql(e){return e!==null&&(e<32||e===127)}const ba=jn(/\d/),B1=jn(/[\dA-Fa-f]/),F1=jn(/[!-/:-@[-`{-~]/);function X(e){return e!==null&&e<-2}function fe(e){return e!==null&&(e<0||e===32)}function ne(e){return e===-2||e===-1||e===32}const go=jn(new RegExp("\\p{P}|\\p{S}","u")),Fn=jn(/\s/);function jn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&He(e.charCodeAt(n+1))&&He(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function le(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(a){return ne(a)?(e.enter(n),s(a)):t(a)}function s(a){return ne(a)&&l++<i?(e.consume(a),s):(e.exit(n),t(a))}}const O1={tokenize:$1};function $1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),le(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return X(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const W1={tokenize:H1},Cd={tokenize:U1};function H1(e){const t=this,n=[];let r=0,i,l,o;return s;function s(y){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,a,u)(y)}return u(y)}function a(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const b=t.events.length;let L=b,C;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){C=t.events[L][1].end;break}m(r);let P=b;for(;P<t.events.length;)t.events[P][1].end={...C},P++;return pt(t.events,L+1,0,t.events.slice(b)),t.events.length=P,u(y)}return s(y)}function u(y){if(r===n.length){if(!i)return p(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Cd,f,d)(y)}function f(y){return i&&x(),m(r),p(y)}function d(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(y)}function p(y){return t.containerState={},e.attempt(Cd,h,g)(y)}function h(y){return r++,n.push([t.currentConstruct,t.containerState]),p(y)}function g(y){if(y===null){i&&x(),m(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),v(y)}function v(y){if(y===null){w(e.exit("chunkFlow"),!0),m(0),e.consume(y);return}return X(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),v)}function w(y,b){const L=t.sliceStream(y);if(b&&L.push(null),y.previous=l,l&&(l.next=y),l=y,i.defineSkip(y.start),i.write(L),t.parser.lazy[y.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<o&&(!i.events[C][1].end||i.events[C][1].end.offset>o))return;const P=t.events.length;let I=P,A,E;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(A){E=t.events[I][1].end;break}A=!0}for(m(r),C=P;C<t.events.length;)t.events[C][1].end={...E},C++;pt(t.events,I+1,0,t.events.slice(P)),t.events.length=C}}function m(y){let b=n.length;for(;b-- >y;){const L=n[b];t.containerState=L[1],L[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function U1(e,t,n){return le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jr(e){if(e===null||fe(e)||Fn(e))return 1;if(go(e))return 2}function xo(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Sa={name:"attention",resolveAll:V1,tokenize:Q1};function V1(e,t){let n=-1,r,i,l,o,s,a,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},p={...e[n][1].start};Ed(d,-a),Ed(p,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},l={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=kt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=kt(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=kt(u,xo(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=kt(u,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=kt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,pt(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Q1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jr(r);let l;return o;function o(a){return l=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===l)return e.consume(a),s;const u=e.exit("attentionSequence"),f=jr(a),d=!f||f===2&&i||n.includes(a),p=!i||i===2&&f||n.includes(r);return u._open=!!(l===42?d:d&&(i||!p)),u._close=!!(l===42?p:p&&(f||!d)),t(a)}}function Ed(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const K1={name:"autolink",tokenize:q1};function q1(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(h){return qe(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||He(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,a):(h===43||h===45||h===46||He(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function a(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Ql(h)?n(h):(e.consume(h),a)}function u(h){return h===64?(e.consume(h),f):R1(h)?(e.consume(h),u):n(h)}function f(h){return He(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,f):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||He(h))&&r++<63){const g=h===45?p:d;return e.consume(h),g}return n(h)}}const Ai={partial:!0,tokenize:G1};function G1(e,t,n){return r;function r(l){return ne(l)?le(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||X(l)?t(l):n(l)}}const Jh={continuation:{tokenize:Y1},exit:J1,name:"blockQuote",tokenize:X1};function X1(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return ne(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Y1(e,t,n){const r=this;return i;function i(o){return ne(o)?le(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(Jh,t,n)(o)}}function J1(e){e.exit("blockQuote")}const Zh={name:"characterEscape",tokenize:Z1};function Z1(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return F1(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const em={name:"characterReference",tokenize:ev};function ev(e,t,n){const r=this;let i=0,l,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),a}function a(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=He,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=B1,f):(e.enter("characterReferenceValue"),l=7,o=ba,f(d))}function f(d){if(d===59&&i){const p=e.exit("characterReferenceValue");return o===He&&!Du(r.sliceSerialize(p))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<l?(e.consume(d),f):n(d)}}const Nd={partial:!0,tokenize:nv},Td={concrete:!0,name:"codeFenced",tokenize:tv};function tv(e,t,n){const r=this,i={partial:!0,tokenize:L};let l=0,o=0,s;return a;function a(C){return u(C)}function u(C){const P=r.events[r.events.length-1];return l=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,s=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(C)}function f(C){return C===s?(o++,e.consume(C),f):o<3?n(C):(e.exit("codeFencedFenceSequence"),ne(C)?le(e,d,"whitespace")(C):d(C))}function d(C){return C===null||X(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(Nd,v,b)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(C)):ne(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),le(e,h,"whitespace")(C)):C===96&&C===s?n(C):(e.consume(C),p)}function h(C){return C===null||X(C)?d(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===null||X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(C)):C===96&&C===s?n(C):(e.consume(C),g)}function v(C){return e.attempt(i,b,w)(C)}function w(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),m}function m(C){return l>0&&ne(C)?le(e,x,"linePrefix",l+1)(C):x(C)}function x(C){return C===null||X(C)?e.check(Nd,v,b)(C):(e.enter("codeFlowValue"),y(C))}function y(C){return C===null||X(C)?(e.exit("codeFlowValue"),x(C)):(e.consume(C),y)}function b(C){return e.exit("codeFenced"),t(C)}function L(C,P,I){let A=0;return E;function E(J){return C.enter("lineEnding"),C.consume(J),C.exit("lineEnding"),O}function O(J){return C.enter("codeFencedFence"),ne(J)?le(C,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):$(J)}function $(J){return J===s?(C.enter("codeFencedFenceSequence"),G(J)):I(J)}function G(J){return J===s?(A++,C.consume(J),G):A>=o?(C.exit("codeFencedFenceSequence"),ne(J)?le(C,Y,"whitespace")(J):Y(J)):I(J)}function Y(J){return J===null||X(J)?(C.exit("codeFencedFence"),P(J)):I(J)}}}function nv(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const is={name:"codeIndented",tokenize:iv},rv={partial:!0,tokenize:lv};function iv(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),le(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):X(u)?e.attempt(rv,o,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||X(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function lv(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):X(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):le(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):X(o)?i(o):n(o)}}const ov={name:"codeText",previous:av,resolve:sv,tokenize:uv};function sv(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function av(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uv(e,t,n){let r=0,i,l;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),a(d))}function a(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),a):d===96?(l=e.enter("codeTextSequence"),i=0,f(d)):X(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||X(d)?(e.exit("codeTextData"),a(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(l.type="codeTextData",u(d))}}class cv{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Hr(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Hr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hr(this.left,n.reverse())}}}function Hr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function tm(e){const t={};let n=-1,r,i,l,o,s,a,u;const f=new cv(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,l=0,l<a.length&&a[l][1].type==="lineEndingBlank"&&(l+=2),l<a.length&&a[l][1].type==="content"))for(;++l<a.length&&a[l][1].type!=="content";)a[l][1].type==="chunkText"&&(a[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,dv(f,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=f.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return pt(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function dv(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,a=[],u={};let f,d,p=-1,h=n,g=0,v=0;const w=[v];for(;h;){for(;e.get(++i)[1]!==h;);l.push(i),h._tokenizer||(f=r.sliceStream(h),h.next||f.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,w.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),p=w.length;p--;){const m=s.slice(w[p],w[p+1]),x=l.pop();a.push([x,x+m.length-1]),e.splice(x,2,m)}for(a.reverse(),p=-1;++p<a.length;)u[g+a[p][0]]=g+a[p][1],g+=a[p][1]-a[p][0]-1;return u}const fv={resolve:hv,tokenize:mv},pv={partial:!0,tokenize:gv};function hv(e){return tm(e),e}function mv(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):X(s)?e.check(pv,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function gv(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),le(e,l,"linePrefix")}function l(o){if(o===null||X(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function nm(e,t,n,r,i,l,o,s,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return d;function d(m){return m===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(m),e.exit(l),p):m===null||m===32||m===41||Ql(m)?n(m):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(m))}function p(m){return m===62?(e.enter(l),e.consume(m),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(s),p(m)):m===null||m===60||X(m)?n(m):(e.consume(m),m===92?g:h)}function g(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function v(m){return!f&&(m===null||m===41||fe(m))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(m)):f<u&&m===40?(e.consume(m),f++,v):m===41?(e.consume(m),f--,v):m===null||m===32||m===40||Ql(m)?n(m):(e.consume(m),m===92?w:v)}function w(m){return m===40||m===41||m===92?(e.consume(m),v):v(m)}}function rm(e,t,n,r,i,l){const o=this;let s=0,a;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(l),f}function f(h){return s>999||h===null||h===91||h===93&&!a||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(l),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):X(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||X(h)||s++>999?(e.exit("chunkString"),f(h)):(e.consume(h),a||(a=!ne(h)),h===92?p:d)}function p(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}}function im(e,t,n,r,i,l){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,a):n(p)}function a(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(l),u(p))}function u(p){return p===o?(e.exit(l),a(o)):p===null?n(p):X(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),le(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===o||p===null||X(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?d:f)}function d(p){return p===o||p===92?(e.consume(p),f):f(p)}}function si(e,t){let n;return r;function r(i){return X(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ne(i)?le(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const xv={name:"definition",tokenize:vv},yv={partial:!0,tokenize:kv};function vv(e,t,n){const r=this;let i;return l;function l(h){return e.enter("definition"),o(h)}function o(h){return rm.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a):n(h)}function a(h){return fe(h)?si(e,u)(h):u(h)}function u(h){return nm(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function f(h){return e.attempt(yv,d,d)(h)}function d(h){return ne(h)?le(e,p,"whitespace")(h):p(h)}function p(h){return h===null||X(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function kv(e,t,n){return r;function r(s){return fe(s)?si(e,i)(s):n(s)}function i(s){return im(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return ne(s)?le(e,o,"whitespace")(s):o(s)}function o(s){return s===null||X(s)?t(s):n(s)}}const wv={name:"hardBreakEscape",tokenize:bv};function bv(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return X(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const Sv={name:"headingAtx",resolve:jv,tokenize:Cv};function jv(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},pt(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function Cv(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),l(f)}function l(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||fe(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),a(f)):f===null||X(f)?(e.exit("atxHeading"),t(f)):ne(f)?le(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function a(f){return f===35?(e.consume(f),a):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||fe(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const Ev=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ld=["pre","script","style","textarea"],Nv={concrete:!0,name:"htmlFlow",resolveTo:Pv,tokenize:_v},Tv={partial:!0,tokenize:Mv},Lv={partial:!0,tokenize:Iv};function Pv(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _v(e,t,n){const r=this;let i,l,o,s,a;return u;function u(S){return f(S)}function f(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),d}function d(S){return S===33?(e.consume(S),p):S===47?(e.consume(S),l=!0,v):S===63?(e.consume(S),i=3,r.interrupt?t:k):qe(S)?(e.consume(S),o=String.fromCharCode(S),w):n(S)}function p(S){return S===45?(e.consume(S),i=2,h):S===91?(e.consume(S),i=5,s=0,g):qe(S)?(e.consume(S),i=4,r.interrupt?t:k):n(S)}function h(S){return S===45?(e.consume(S),r.interrupt?t:k):n(S)}function g(S){const K="CDATA[";return S===K.charCodeAt(s++)?(e.consume(S),s===K.length?r.interrupt?t:$:g):n(S)}function v(S){return qe(S)?(e.consume(S),o=String.fromCharCode(S),w):n(S)}function w(S){if(S===null||S===47||S===62||fe(S)){const K=S===47,we=o.toLowerCase();return!K&&!l&&Ld.includes(we)?(i=1,r.interrupt?t(S):$(S)):Ev.includes(o.toLowerCase())?(i=6,K?(e.consume(S),m):r.interrupt?t(S):$(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):l?x(S):y(S))}return S===45||He(S)?(e.consume(S),o+=String.fromCharCode(S),w):n(S)}function m(S){return S===62?(e.consume(S),r.interrupt?t:$):n(S)}function x(S){return ne(S)?(e.consume(S),x):E(S)}function y(S){return S===47?(e.consume(S),E):S===58||S===95||qe(S)?(e.consume(S),b):ne(S)?(e.consume(S),y):E(S)}function b(S){return S===45||S===46||S===58||S===95||He(S)?(e.consume(S),b):L(S)}function L(S){return S===61?(e.consume(S),C):ne(S)?(e.consume(S),L):y(S)}function C(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),a=S,P):ne(S)?(e.consume(S),C):I(S)}function P(S){return S===a?(e.consume(S),a=null,A):S===null||X(S)?n(S):(e.consume(S),P)}function I(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||fe(S)?L(S):(e.consume(S),I)}function A(S){return S===47||S===62||ne(S)?y(S):n(S)}function E(S){return S===62?(e.consume(S),O):n(S)}function O(S){return S===null||X(S)?$(S):ne(S)?(e.consume(S),O):n(S)}function $(S){return S===45&&i===2?(e.consume(S),ue):S===60&&i===1?(e.consume(S),z):S===62&&i===4?(e.consume(S),Q):S===63&&i===3?(e.consume(S),k):S===93&&i===5?(e.consume(S),B):X(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Tv,q,G)(S)):S===null||X(S)?(e.exit("htmlFlowData"),G(S)):(e.consume(S),$)}function G(S){return e.check(Lv,Y,q)(S)}function Y(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),J}function J(S){return S===null||X(S)?G(S):(e.enter("htmlFlowData"),$(S))}function ue(S){return S===45?(e.consume(S),k):$(S)}function z(S){return S===47?(e.consume(S),o="",_):$(S)}function _(S){if(S===62){const K=o.toLowerCase();return Ld.includes(K)?(e.consume(S),Q):$(S)}return qe(S)&&o.length<8?(e.consume(S),o+=String.fromCharCode(S),_):$(S)}function B(S){return S===93?(e.consume(S),k):$(S)}function k(S){return S===62?(e.consume(S),Q):S===45&&i===2?(e.consume(S),k):$(S)}function Q(S){return S===null||X(S)?(e.exit("htmlFlowData"),q(S)):(e.consume(S),Q)}function q(S){return e.exit("htmlFlow"),t(S)}}function Iv(e,t,n){const r=this;return i;function i(o){return X(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Mv(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ai,t,n)}}const Dv={name:"htmlText",tokenize:Av};function Av(e,t,n){const r=this;let i,l,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),L):k===63?(e.consume(k),y):qe(k)?(e.consume(k),I):n(k)}function u(k){return k===45?(e.consume(k),f):k===91?(e.consume(k),l=0,g):qe(k)?(e.consume(k),x):n(k)}function f(k){return k===45?(e.consume(k),h):n(k)}function d(k){return k===null?n(k):k===45?(e.consume(k),p):X(k)?(o=d,z(k)):(e.consume(k),d)}function p(k){return k===45?(e.consume(k),h):d(k)}function h(k){return k===62?ue(k):k===45?p(k):d(k)}function g(k){const Q="CDATA[";return k===Q.charCodeAt(l++)?(e.consume(k),l===Q.length?v:g):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),w):X(k)?(o=v,z(k)):(e.consume(k),v)}function w(k){return k===93?(e.consume(k),m):v(k)}function m(k){return k===62?ue(k):k===93?(e.consume(k),m):v(k)}function x(k){return k===null||k===62?ue(k):X(k)?(o=x,z(k)):(e.consume(k),x)}function y(k){return k===null?n(k):k===63?(e.consume(k),b):X(k)?(o=y,z(k)):(e.consume(k),y)}function b(k){return k===62?ue(k):y(k)}function L(k){return qe(k)?(e.consume(k),C):n(k)}function C(k){return k===45||He(k)?(e.consume(k),C):P(k)}function P(k){return X(k)?(o=P,z(k)):ne(k)?(e.consume(k),P):ue(k)}function I(k){return k===45||He(k)?(e.consume(k),I):k===47||k===62||fe(k)?A(k):n(k)}function A(k){return k===47?(e.consume(k),ue):k===58||k===95||qe(k)?(e.consume(k),E):X(k)?(o=A,z(k)):ne(k)?(e.consume(k),A):ue(k)}function E(k){return k===45||k===46||k===58||k===95||He(k)?(e.consume(k),E):O(k)}function O(k){return k===61?(e.consume(k),$):X(k)?(o=O,z(k)):ne(k)?(e.consume(k),O):A(k)}function $(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,G):X(k)?(o=$,z(k)):ne(k)?(e.consume(k),$):(e.consume(k),Y)}function G(k){return k===i?(e.consume(k),i=void 0,J):k===null?n(k):X(k)?(o=G,z(k)):(e.consume(k),G)}function Y(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||fe(k)?A(k):(e.consume(k),Y)}function J(k){return k===47||k===62||fe(k)?A(k):n(k)}function ue(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function z(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),_}function _(k){return ne(k)?le(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):B(k)}function B(k){return e.enter("htmlTextData"),o(k)}}const Au={name:"labelEnd",resolveAll:Fv,resolveTo:Ov,tokenize:$v},zv={tokenize:Wv},Rv={tokenize:Hv},Bv={tokenize:Uv};function Fv(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&pt(e,0,e.length,n),e}function Ov(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=kt(s,e.slice(l+1,l+r+3)),s=kt(s,[["enter",f,t]]),s=kt(s,xo(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=kt(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=kt(s,e.slice(o+1)),s=kt(s,[["exit",a,t]]),pt(e,l,e.length,s),e}function $v(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(p){return l?l._inactive?d(p):(o=r.parser.defined.includes(Mt(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(zv,f,o?f:d)(p):p===91?e.attempt(Rv,f,o?u:d)(p):o?f(p):d(p)}function u(p){return e.attempt(Bv,f,d)(p)}function f(p){return t(p)}function d(p){return l._balanced=!0,n(p)}}function Wv(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return fe(d)?si(e,l)(d):l(d)}function l(d){return d===41?f(d):nm(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return fe(d)?si(e,a)(d):f(d)}function s(d){return n(d)}function a(d){return d===34||d===39||d===40?im(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return fe(d)?si(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Hv(e,t,n){const r=this;return i;function i(s){return rm.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Uv(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Vv={name:"labelStartImage",resolveAll:Au.resolveAll,tokenize:Qv};function Qv(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Kv={name:"labelStartLink",resolveAll:Au.resolveAll,tokenize:qv};function qv(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ls={name:"lineEnding",tokenize:Gv};function Gv(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),le(e,t,"linePrefix")}}const vl={name:"thematicBreak",tokenize:Xv};function Xv(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||X(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),ne(u)?le(e,s,"whitespace")(u):s(u))}}const Je={continuation:{tokenize:ek},exit:nk,name:"list",tokenize:Zv},Yv={partial:!0,tokenize:rk},Jv={partial:!0,tokenize:tk};function Zv(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:ba(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(vl,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(h)}return n(h)}function a(h){return ba(h)&&++o<10?(e.consume(h),a):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Ai,r.interrupt?n:f,e.attempt(Yv,p,d))}function f(h){return r.containerState.initialBlankLine=!0,l++,p(h)}function d(h){return ne(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function ek(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ai,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,le(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!ne(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Jv,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,le(e,e.attempt(Je,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function tk(e,t,n){const r=this;return le(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function nk(e){e.exit(this.containerState.type)}function rk(e,t,n){const r=this;return le(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!ne(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Pd={name:"setextUnderline",resolveTo:ik,tokenize:lk};function ik(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function lk(e,t,n){const r=this;let i;return l;function l(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),ne(u)?le(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||X(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const ok={tokenize:sk};function sk(e){const t=this,n=e.attempt(Ai,r,e.attempt(this.parser.constructs.flowInitial,i,le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(fv,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ak={resolveAll:om()},uk=lm("string"),ck=lm("text");function lm(e){return{resolveAll:om(e==="text"?dk:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(f){return u(f)?l(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return u(f)?(n.exit("data"),l(f)):(n.consume(f),a)}function u(f){if(f===null)return!0;const d=i[f];let p=-1;if(d)for(;++p<d.length;){const h=d[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function om(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function dk(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,a;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)a=!0,s++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const fk={42:Je,43:Je,45:Je,48:Je,49:Je,50:Je,51:Je,52:Je,53:Je,54:Je,55:Je,56:Je,57:Je,62:Jh},pk={91:xv},hk={[-2]:is,[-1]:is,32:is},mk={35:Sv,42:vl,45:[Pd,vl],60:Nv,61:Pd,95:vl,96:Td,126:Td},gk={38:em,92:Zh},xk={[-5]:ls,[-4]:ls,[-3]:ls,33:Vv,38:em,42:Sa,60:[K1,Dv],91:Kv,92:[wv,Zh],93:Au,95:Sa,96:ov},yk={null:[Sa,ak]},vk={null:[42,95]},kk={null:[]},wk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vk,contentInitial:pk,disable:kk,document:fk,flow:mk,flowInitial:hk,insideSpan:yk,string:gk,text:xk},Symbol.toStringTag,{value:"Module"}));function bk(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const a={attempt:P(L),check:P(C),consume:x,enter:y,exit:b,interrupt:P(C,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:d};let f=t.tokenize.call(u,a);return t.resolveAll&&l.push(t),u;function d(O){return o=kt(o,O),w(),o[o.length-1]!==null?[]:(I(t,0),u.events=xo(l,u.events,u),u.events)}function p(O,$){return jk(h(O),$)}function h(O){return Sk(o,O)}function g(){const{_bufferIndex:O,_index:$,line:G,column:Y,offset:J}=r;return{_bufferIndex:O,_index:$,line:G,column:Y,offset:J}}function v(O){i[O.line]=O.column,E()}function w(){let O;for(;r._index<o.length;){const $=o[r._index];if(typeof $=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<$.length;)m($.charCodeAt(r._bufferIndex));else m($)}}function m(O){f=f(O)}function x(O){X(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,E()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function y(O,$){const G=$||{};return G.type=O,G.start=g(),u.events.push(["enter",G,u]),s.push(G),G}function b(O){const $=s.pop();return $.end=g(),u.events.push(["exit",$,u]),$}function L(O,$){I(O,$.from)}function C(O,$){$.restore()}function P(O,$){return G;function G(Y,J,ue){let z,_,B,k;return Array.isArray(Y)?q(Y):"tokenize"in Y?q([Y]):Q(Y);function Q(te){return de;function de(_e){const Te=_e!==null&&te[_e],Ie=_e!==null&&te.null,ot=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(Ie)?Ie:Ie?[Ie]:[]];return q(ot)(_e)}}function q(te){return z=te,_=0,te.length===0?ue:S(te[_])}function S(te){return de;function de(_e){return k=A(),B=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?we():te.tokenize.call($?Object.assign(Object.create(u),$):u,a,K,we)(_e)}}function K(te){return O(B,k),J}function we(te){return k.restore(),++_<z.length?S(z[_]):ue}}}function I(O,$){O.resolveAll&&!l.includes(O)&&l.push(O),O.resolve&&pt(u.events,$,u.events.length-$,O.resolve(u.events.slice($),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function A(){const O=g(),$=u.previous,G=u.currentConstruct,Y=u.events.length,J=Array.from(s);return{from:Y,restore:ue};function ue(){r=O,u.previous=$,u.currentConstruct=G,u.events.length=Y,s=J,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Sk(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function jk(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function Ck(e){const r={constructs:Xh([wk,...(e||{}).extensions||[]]),content:i(O1),defined:[],document:i(W1),flow:i(ok),lazy:{},string:i(uk),text:i(ck)};return r;function i(l){return o;function o(s){return bk(r,l,s)}}}function Ek(e){for(;!tm(e););return e}const _d=/[\0\t\n\r]/g;function Nk(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const a=[];let u,f,d,p,h;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),d=0,t="",n&&(l.charCodeAt(0)===65279&&d++,n=void 0);d<l.length;){if(_d.lastIndex=d,u=_d.exec(l),p=u&&u.index!==void 0?u.index:l.length,h=l.charCodeAt(p),!u){t=l.slice(d);break}if(h===10&&d===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),d<p&&(a.push(l.slice(d,p)),e+=p-d),h){case 0:{a.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,a.push(-2);e++<f;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}d=p+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const Tk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Lk(e){return e.replace(Tk,Pk)}function Pk(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return Yh(n.slice(l?2:1),l?16:10)}return Du(n)||e}const sm={}.hasOwnProperty;function _k(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Ik(n)(Ek(Ck(n).document().write(Nk()(e,t,!0))))}function Ik(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(xt),autolinkProtocol:A,autolinkEmail:A,atxHeading:l(oe),blockQuote:l(Ie),characterEscape:A,characterReference:A,codeFenced:l(ot),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(ot,o),codeText:l(At,o),codeTextData:A,data:A,codeFlowValue:A,definition:l(D),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(U),hardBreakEscape:l(ae),hardBreakTrailing:l(ae),htmlFlow:l(Ae,o),htmlFlowData:A,htmlText:l(Ae,o),htmlTextData:A,image:l(Et),label:o,link:l(xt),listItem:l(Un),listItemValue:p,listOrdered:l(Hn,d),listUnordered:l(Hn),paragraph:l(_r),reference:S,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(oe),strong:l(Ir),thematicBreak:l(Qn)},exit:{atxHeading:a(),atxHeadingSequence:L,autolink:a(),autolinkEmail:Te,autolinkProtocol:_e,blockQuote:a(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:te,characterReference:de,codeFenced:a(w),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:E,codeIndented:a(m),codeText:a(J),codeTextData:E,data:E,definition:a(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:y,emphasis:a(),hardBreakEscape:a($),hardBreakTrailing:a($),htmlFlow:a(G),htmlFlowData:E,htmlText:a(Y),htmlTextData:E,image:a(z),label:B,labelText:_,lineEnding:O,link:a(ue),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:K,resourceDestinationString:k,resourceTitleString:Q,resource:q,setextHeading:a(I),setextHeadingLineSequence:P,setextHeadingText:C,strong:a(),thematicBreak:a()}};am(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(j){let M={type:"root",children:[]};const V={stack:[M],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:n},T=[];let H=-1;for(;++H<j.length;)if(j[H][1].type==="listOrdered"||j[H][1].type==="listUnordered")if(j[H][0]==="enter")T.push(H);else{const ie=T.pop();H=i(j,ie,H)}for(H=-1;++H<j.length;){const ie=t[j[H][0]];sm.call(ie,j[H][1].type)&&ie[j[H][1].type].call(Object.assign({sliceSerialize:j[H][2].sliceSerialize},V),j[H][1])}if(V.tokenStack.length>0){const ie=V.tokenStack[V.tokenStack.length-1];(ie[1]||Id).call(V,void 0,ie[0])}for(M.position={start:rn(j.length>0?j[0][1].start:{line:1,column:1,offset:0}),end:rn(j.length>0?j[j.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<t.transforms.length;)M=t.transforms[H](M)||M;return M}function i(j,M,V){let T=M-1,H=-1,ie=!1,Ce,ze,Mr,Dr;for(;++T<=V;){const st=j[T];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?H++:H--,Dr=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(Ce&&!Dr&&!H&&!Mr&&(Mr=T),Dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dr=void 0}if(!H&&st[0]==="enter"&&st[1].type==="listItemPrefix"||H===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(Ce){let Kn=T;for(ze=void 0;Kn--;){const Ht=j[Kn];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;ze&&(j[ze][1].type="lineEndingBlank",ie=!0),Ht[1].type="lineEnding",ze=Kn}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}Mr&&(!ze||Mr<ze)&&(Ce._spread=!0),Ce.end=Object.assign({},ze?j[ze][1].start:st[1].end),j.splice(ze||T,0,["exit",Ce,st[2]]),T++,V++}if(st[1].type==="listItemPrefix"){const Kn={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};Ce=Kn,j.splice(T,0,["enter",Kn,st[2]]),T++,V++,Mr=void 0,Dr=!0}}}return j[M][1]._spread=ie,V}function l(j,M){return V;function V(T){s.call(this,j(T),T),M&&M.call(this,T)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(j,M,V){this.stack[this.stack.length-1].children.push(j),this.stack.push(j),this.tokenStack.push([M,V||void 0]),j.position={start:rn(M.start),end:void 0}}function a(j){return M;function M(V){j&&j.call(this,V),u.call(this,V)}}function u(j,M){const V=this.stack.pop(),T=this.tokenStack.pop();if(T)T[0].type!==j.type&&(M?M.call(this,j,T[0]):(T[1]||Id).call(this,j,T[0]));else throw new Error("Cannot close `"+j.type+"` ("+oi({start:j.start,end:j.end})+"): its not open");V.position.end=rn(j.end)}function f(){return Mu(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(j){if(this.data.expectingFirstListItemValue){const M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(j),10),this.data.expectingFirstListItemValue=void 0}}function h(){const j=this.resume(),M=this.stack[this.stack.length-1];M.lang=j}function g(){const j=this.resume(),M=this.stack[this.stack.length-1];M.meta=j}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const j=this.resume(),M=this.stack[this.stack.length-1];M.value=j.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const j=this.resume(),M=this.stack[this.stack.length-1];M.value=j.replace(/(\r?\n|\r)$/g,"")}function x(j){const M=this.resume(),V=this.stack[this.stack.length-1];V.label=M,V.identifier=Mt(this.sliceSerialize(j)).toLowerCase()}function y(){const j=this.resume(),M=this.stack[this.stack.length-1];M.title=j}function b(){const j=this.resume(),M=this.stack[this.stack.length-1];M.url=j}function L(j){const M=this.stack[this.stack.length-1];if(!M.depth){const V=this.sliceSerialize(j).length;M.depth=V}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function P(j){const M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(j).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function A(j){const V=this.stack[this.stack.length-1].children;let T=V[V.length-1];(!T||T.type!=="text")&&(T=Vn(),T.position={start:rn(j.start),end:void 0},V.push(T)),this.stack.push(T)}function E(j){const M=this.stack.pop();M.value+=this.sliceSerialize(j),M.position.end=rn(j.end)}function O(j){const M=this.stack[this.stack.length-1];if(this.data.atHardBreak){const V=M.children[M.children.length-1];V.position.end=rn(j.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(M.type)&&(A.call(this,j),E.call(this,j))}function $(){this.data.atHardBreak=!0}function G(){const j=this.resume(),M=this.stack[this.stack.length-1];M.value=j}function Y(){const j=this.resume(),M=this.stack[this.stack.length-1];M.value=j}function J(){const j=this.resume(),M=this.stack[this.stack.length-1];M.value=j}function ue(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=M,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function z(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=M,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function _(j){const M=this.sliceSerialize(j),V=this.stack[this.stack.length-2];V.label=Lk(M),V.identifier=Mt(M).toLowerCase()}function B(){const j=this.stack[this.stack.length-1],M=this.resume(),V=this.stack[this.stack.length-1];if(this.data.inReference=!0,V.type==="link"){const T=j.children;V.children=T}else V.alt=M}function k(){const j=this.resume(),M=this.stack[this.stack.length-1];M.url=j}function Q(){const j=this.resume(),M=this.stack[this.stack.length-1];M.title=j}function q(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function K(j){const M=this.resume(),V=this.stack[this.stack.length-1];V.label=M,V.identifier=Mt(this.sliceSerialize(j)).toLowerCase(),this.data.referenceType="full"}function we(j){this.data.characterReferenceType=j.type}function te(j){const M=this.sliceSerialize(j),V=this.data.characterReferenceType;let T;V?(T=Yh(M,V==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):T=Du(M);const H=this.stack[this.stack.length-1];H.value+=T}function de(j){const M=this.stack.pop();M.position.end=rn(j.end)}function _e(j){E.call(this,j);const M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(j)}function Te(j){E.call(this,j);const M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(j)}function Ie(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function At(){return{type:"inlineCode",value:""}}function D(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function U(){return{type:"emphasis",children:[]}}function oe(){return{type:"heading",depth:0,children:[]}}function ae(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function Et(){return{type:"image",title:null,url:"",alt:null}}function xt(){return{type:"link",title:null,url:"",children:[]}}function Hn(j){return{type:"list",ordered:j.type==="listOrdered",start:null,spread:j._spread,children:[]}}function Un(j){return{type:"listItem",spread:j._spread,checked:null,children:[]}}function _r(){return{type:"paragraph",children:[]}}function Ir(){return{type:"strong",children:[]}}function Vn(){return{type:"text",value:""}}function Qn(){return{type:"thematicBreak"}}}function rn(e){return{line:e.line,column:e.column,offset:e.offset}}function am(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?am(e,r):Mk(e,r)}}function Mk(e,t){let n;for(n in t)if(sm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Id(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+oi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+oi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+oi({start:t.start,end:t.end})+") is still open")}function Dk(e){const t=this;t.parser=n;function n(r){return _k(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Ak(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function zk(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Rk(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function Bk(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fk(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ok(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Pr(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function $k(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Wk(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function um(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Hk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return um(e,t);const i={src:Pr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function Uk(e,t){const n={src:Pr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Vk(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Qk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return um(e,t);const i={href:Pr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Kk(e,t){const n={href:Pr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qk(e,t,n){const r=e.all(t),i=n?Gk(n):cm(t),l={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function Gk(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=cm(n[r])}return t}function cm(e){const t=e.spread;return t??e.children.length>1}function Xk(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Yk(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jk(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Zk(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ew(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Lu(t.children[1]),a=Hh(t.children[t.children.length-1]);s&&a&&(o.position={start:s,end:a}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function tw(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const d=t.children[a],p={},h=o?o[a]:void 0;h&&(p.align=h);let g={type:"element",tagName:l,properties:p,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function nw(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Md=9,Dd=32;function rw(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(Ad(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(Ad(t.slice(i),i>0,!1)),l.join("")}function Ad(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===Md||l===Dd;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===Md||l===Dd;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function iw(e,t){const n={type:"text",value:rw(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lw(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ow={blockquote:Ak,break:zk,code:Rk,delete:Bk,emphasis:Fk,footnoteReference:Ok,heading:$k,html:Wk,imageReference:Hk,image:Uk,inlineCode:Vk,linkReference:Qk,link:Kk,listItem:qk,list:Xk,paragraph:Yk,root:Jk,strong:Zk,table:ew,tableCell:nw,tableRow:tw,text:iw,thematicBreak:lw,toml:tl,yaml:tl,definition:tl,footnoteDefinition:tl};function tl(){}const dm=-1,yo=0,ai=1,Kl=2,zu=3,Ru=4,Bu=5,Fu=6,fm=7,pm=8,zd=typeof self=="object"?self:globalThis,sw=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case yo:case dm:return n(o,i);case ai:{const s=n([],i);for(const a of o)s.push(r(a));return s}case Kl:{const s=n({},i);for(const[a,u]of o)s[r(a)]=r(u);return s}case zu:return n(new Date(o),i);case Ru:{const{source:s,flags:a}=o;return n(new RegExp(s,a),i)}case Bu:{const s=n(new Map,i);for(const[a,u]of o)s.set(r(a),r(u));return s}case Fu:{const s=n(new Set,i);for(const a of o)s.add(r(a));return s}case fm:{const{name:s,message:a}=o;return n(new zd[s](a),i)}case pm:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new zd[l](o),i)};return r},Rd=e=>sw(new Map,e)(0),Gn="",{toString:aw}={},{keys:uw}=Object,Ur=e=>{const t=typeof e;if(t!=="object"||!e)return[yo,t];const n=aw.call(e).slice(8,-1);switch(n){case"Array":return[ai,Gn];case"Object":return[Kl,Gn];case"Date":return[zu,Gn];case"RegExp":return[Ru,Gn];case"Map":return[Bu,Gn];case"Set":return[Fu,Gn];case"DataView":return[ai,n]}return n.includes("Array")?[ai,n]:n.includes("Error")?[fm,n]:[Kl,n]},nl=([e,t])=>e===yo&&(t==="function"||t==="symbol"),cw=(e,t,n,r)=>{const i=(o,s)=>{const a=r.push(o)-1;return n.set(s,a),a},l=o=>{if(n.has(o))return n.get(o);let[s,a]=Ur(o);switch(s){case yo:{let f=o;switch(a){case"bigint":s=pm,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([dm],o)}return i([s,f],o)}case ai:{if(a){let p=o;return a==="DataView"?p=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(p=new Uint8Array(o)),i([a,[...p]],o)}const f=[],d=i([s,f],o);for(const p of o)f.push(l(p));return d}case Kl:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const f=[],d=i([s,f],o);for(const p of uw(o))(e||!nl(Ur(o[p])))&&f.push([l(p),l(o[p])]);return d}case zu:return i([s,o.toISOString()],o);case Ru:{const{source:f,flags:d}=o;return i([s,{source:f,flags:d}],o)}case Bu:{const f=[],d=i([s,f],o);for(const[p,h]of o)(e||!(nl(Ur(p))||nl(Ur(h))))&&f.push([l(p),l(h)]);return d}case Fu:{const f=[],d=i([s,f],o);for(const p of o)(e||!nl(Ur(p)))&&f.push(l(p));return d}}const{message:u}=o;return i([s,{name:a,message:u}],o)};return l},Bd=(e,{json:t,lossy:n}={})=>{const r=[];return cw(!(t||n),!!t,new Map,r)(e),r},ql=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Rd(Bd(e,t)):structuredClone(e):(e,t)=>Rd(Bd(e,t));function dw(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function pw(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||dw,r=e.options.footnoteBackLabel||fw,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),p=Pr(d.toLowerCase());let h=0;const g=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++h<=v;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,h);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else f.push(...g);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(f,!0)};e.patch(u,m),s.push(m)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...ql(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const vo=function(e){if(e==null)return xw;if(typeof e=="function")return ko(e);if(typeof e=="object")return Array.isArray(e)?hw(e):mw(e);if(typeof e=="string")return gw(e);throw new Error("Expected function, string, or object as test")};function hw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=vo(e[n]);return ko(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function mw(e){const t=e;return ko(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function gw(e){return ko(t);function t(n){return n&&n.type===e}}function ko(e){return t;function t(n,r,i){return!!(yw(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xw(){return!0}function yw(e){return e!==null&&typeof e=="object"&&"type"in e}const hm=[],vw=!0,ja=!1,kw="skip";function mm(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=vo(i),o=r?-1:1;s(e,void 0,[])();function s(a,u,f){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=hm,g,v,w;if((!t||l(a,u,f[f.length-1]||void 0))&&(h=ww(n(a,f)),h[0]===ja))return h;if("children"in a&&a.children){const m=a;if(m.children&&h[0]!==kw)for(v=(r?m.children.length:-1)+o,w=f.concat(m);v>-1&&v<m.children.length;){const x=m.children[v];if(g=s(x,v,w)(),g[0]===ja)return g;v=typeof g[1]=="number"?g[1]:v+o}}return h}}}function ww(e){return Array.isArray(e)?e:typeof e=="number"?[vw,e]:e==null?hm:[e]}function Ou(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),mm(e,l,s,i);function s(a,u){const f=u[u.length-1],d=f?f.children.indexOf(a):void 0;return o(a,d,f)}}const Ca={}.hasOwnProperty,bw={};function Sw(e,t){const n=t||bw,r=new Map,i=new Map,l=new Map,o={...ow,...n.handlers},s={all:u,applyData:Cw,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:a,options:n,patch:jw,wrap:Nw};return Ou(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,p=String(f.identifier).toUpperCase();d.has(p)||d.set(p,f)}}),s;function a(f,d){const p=f.type,h=s.handlers[p];if(Ca.call(s.handlers,p)&&h)return h(s,f,d);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in f){const{children:v,...w}=f,m=ql(w);return m.children=s.all(f),m}return ql(f)}return(s.options.unknownHandler||Ew)(s,f,d)}function u(f){const d=[];if("children"in f){const p=f.children;let h=-1;for(;++h<p.length;){const g=s.one(p[h],f);if(g){if(h&&p[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Fd(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=Fd(v.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function jw(e,t){e.position&&(t.position=f1(e))}function Cw(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,ql(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ew(e,t){const n=t.data||{},r="value"in t&&!(Ca.call(n,"hProperties")||Ca.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Nw(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Fd(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Od(e,t){const n=Sw(e,t),r=n.one(e,void 0),i=pw(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function Tw(e,t){return e&&"run"in e?async function(n,r){const i=Od(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Od(n,{file:r,...e||t})}}function $d(e){if(e)throw e}var kl=Object.prototype.hasOwnProperty,gm=Object.prototype.toString,Wd=Object.defineProperty,Hd=Object.getOwnPropertyDescriptor,Ud=function(t){return typeof Array.isArray=="function"?Array.isArray(t):gm.call(t)==="[object Array]"},Vd=function(t){if(!t||gm.call(t)!=="[object Object]")return!1;var n=kl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&kl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||kl.call(t,i)},Qd=function(t,n){Wd&&n.name==="__proto__"?Wd(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Kd=function(t,n){if(n==="__proto__")if(kl.call(t,n)){if(Hd)return Hd(t,n).value}else return;return t[n]},Lw=function e(){var t,n,r,i,l,o,s=arguments[0],a=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Kd(s,n),i=Kd(t,n),s!==i&&(f&&i&&(Vd(i)||(l=Ud(i)))?(l?(l=!1,o=r&&Ud(r)?r:[]):o=r&&Vd(r)?r:{},Qd(s,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&Qd(s,{name:n,newValue:i}));return s};const os=Xl(Lw);function Ea(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Pw(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(a,...u){const f=e[++l];let d=-1;if(a){o(a);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?_w(f,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _w(e,t){let n;return r;function r(...o){const s=e.length>o.length;let a;s&&o.push(i);try{a=e.apply(this,o)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(a&&a.then&&typeof a.then=="function"?a.then(l,i):a instanceof Error?i(a):l(a))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const Bt={basename:Iw,dirname:Mw,extname:Dw,join:Aw,sep:"/"};function Iw(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zi(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Mw(e){if(zi(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Dw(e){zi(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Aw(...e){let t=-1,n;for(;++t<e.length;)zi(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":zw(n)}function zw(e){zi(e);const t=e.codePointAt(0)===47;let n=Rw(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Rw(e,t){let n="",r=0,i=-1,l=0,o=-1,s,a;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function zi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Bw={cwd:Fw};function Fw(){return"/"}function Na(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Ow(e){if(typeof e=="string")e=new URL(e);else if(!Na(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $w(e)}function $w(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ss=["history","path","basename","stem","extname","dirname"];class xm{constructor(t){let n;t?Na(t)?n={path:t}:typeof t=="string"||Ww(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Bw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ss.length;){const l=ss[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)ss.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Bt.basename(this.path):void 0}set basename(t){us(t,"basename"),as(t,"basename"),this.path=Bt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Bt.dirname(this.path):void 0}set dirname(t){qd(this.basename,"dirname"),this.path=Bt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Bt.extname(this.path):void 0}set extname(t){if(as(t,"extname"),qd(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Na(t)&&(t=Ow(t)),us(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Bt.basename(this.path,this.extname):void 0}set stem(t){us(t,"stem"),as(t,"stem"),this.path=Bt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ve(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function as(e,t){if(e&&e.includes(Bt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bt.sep+"`")}function us(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ww(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Hw=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},Uw={}.hasOwnProperty;class $u extends Hw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Pw()}copy(){const t=new $u;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(os(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(fs("data",this.frozen),this.namespace[t]=n,this):Uw.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fs("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=rl(t),r=this.parser||this.Parser;return cs("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),cs("process",this.parser||this.Parser),ds("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=rl(t),a=r.parse(s);r.run(a,s,function(f,d,p){if(f||!d||!p)return u(f);const h=d,g=r.stringify(h,p);Kw(g)?p.value=g:p.result=g,u(f,p)});function u(f,d){f||!d?o(f):l?l(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),cs("processSync",this.parser||this.Parser),ds("processSync",this.compiler||this.Compiler),this.process(t,i),Xd("processSync","process",n),r;function i(l,o){n=!0,$d(l),r=o}}run(t,n,r){Gd(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const a=rl(n);i.run(t,a,u);function u(f,d,p){const h=d||t;f?s(f):o?o(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),Xd("runSync","run",r),i;function l(o,s){$d(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=rl(n),i=this.compiler||this.Compiler;return ds("stringify",i),Gd(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(fs("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;a(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=os(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];l(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===u){p=d;break}if(p===-1)r.push([u,...f]);else if(f.length>0){let[h,...g]=f;const v=r[p][1];Ea(v)&&Ea(h)&&(h=os(!0,v,h)),r[p]=[u,h,...g]}}}}const Vw=new $u().freeze();function cs(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ds(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function fs(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gd(e){if(!Ea(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Xd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function rl(e){return Qw(e)?e:new xm(e)}function Qw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Kw(e){return typeof e=="string"||qw(e)}function qw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Gw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Yd=[],Jd={allowDangerousHtml:!0},Xw=/^(https?|ircs?|mailto|xmpp)$/i,Yw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wo(e){const t=Jw(e),n=Zw(e);return e2(t.runSync(t.parse(n),n),e)}function Jw(e){const t=e.rehypePlugins||Yd,n=e.remarkPlugins||Yd,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Jd}:Jd;return Vw().use(Dk).use(n).use(Tw,r).use(t)}function Zw(e){const t=e.children||"",n=new xm;return typeof t=="string"&&(n.value=t),n}function e2(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||t2;for(const f of Yw)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Gw+f.id,void 0);return Ou(e,u),x1(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(f,d,p){if(f.type==="raw"&&p&&typeof d=="number")return o?p.children.splice(d,1):p.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let h;for(h in rs)if(Object.hasOwn(rs,h)&&Object.hasOwn(f.properties,h)){const g=f.properties[h],v=rs[h];(v===null||v.includes(f.tagName))&&(f.properties[h]=a(String(g||""),h,f))}}if(f.type==="element"){let h=n?!n.includes(f.tagName):l?l.includes(f.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(f,d,p)),h&&p&&typeof d=="number")return s&&f.children?p.children.splice(d,1,...f.children):p.children.splice(d,1),d}}}function t2(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Xw.test(e.slice(0,t))?e:""}function Zd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function n2(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ym(e,t,n){const i=vo((n||{}).ignore||[]),l=r2(t);let o=-1;for(;++o<l.length;)mm(e,"text",s);function s(u,f){let d=-1,p;for(;++d<f.length;){const h=f[d],g=p?p.children:void 0;if(i(h,g?g.indexOf(h):void 0,p))return;p=h}if(p)return a(u,f)}function a(u,f){const d=f[f.length-1],p=l[o][0],h=l[o][1];let g=0;const w=d.children.indexOf(u);let m=!1,x=[];p.lastIndex=0;let y=p.exec(u.value);for(;y;){const b=y.index,L={index:y.index,input:y.input,stack:[...f,u]};let C=h(...y,L);if(typeof C=="string"&&(C=C.length>0?{type:"text",value:C}:void 0),C===!1?p.lastIndex=b+1:(g!==b&&x.push({type:"text",value:u.value.slice(g,b)}),Array.isArray(C)?x.push(...C):C&&x.push(C),g=b+y[0].length,m=!0),!p.global)break;y=p.exec(u.value)}return m?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),d.children.splice(w,1,...x)):x=[u],w+x.length}}function r2(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([i2(i[0]),l2(i[1])])}return t}function i2(e){return typeof e=="string"?new RegExp(n2(e),"g"):e}function l2(e){return typeof e=="function"?e:function(){return e}}const ps="phrasing",hs=["autolink","link","image","label"];function o2(){return{transforms:[p2],enter:{literalAutolink:a2,literalAutolinkEmail:ms,literalAutolinkHttp:ms,literalAutolinkWww:ms},exit:{literalAutolink:f2,literalAutolinkEmail:d2,literalAutolinkHttp:u2,literalAutolinkWww:c2}}}function s2(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ps,notInConstruct:hs},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ps,notInConstruct:hs},{character:":",before:"[ps]",after:"\\/",inConstruct:ps,notInConstruct:hs}]}}function a2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ms(e){this.config.enter.autolinkProtocol.call(this,e)}function u2(e){this.config.exit.autolinkProtocol.call(this,e)}function c2(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function d2(e){this.config.exit.autolinkEmail.call(this,e)}function f2(e){this.exit(e)}function p2(e){ym(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,h2],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),m2]],{ignore:["link","linkReference"]})}function h2(e,t,n,r,i){let l="";if(!vm(i)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!g2(n)))return!1;const o=x2(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:l+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function m2(e,t,n,r){return!vm(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function g2(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function x2(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Zd(e,"(");let l=Zd(e,")");for(;r!==-1&&i>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function vm(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Fn(n)||go(n))&&(!t||n!==47)}km.peek=E2;function y2(){this.buffer()}function v2(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function k2(){this.buffer()}function w2(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function b2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function S2(e){this.exit(e)}function j2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function C2(e){this.exit(e)}function E2(){return"["}function km(e,t,n,r){const i=n.createTracker(r);let l=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return l+=i.move(n.safe(n.associationId(e),{after:"]",before:l})),s(),o(),l+=i.move("]"),l}function N2(){return{enter:{gfmFootnoteCallString:y2,gfmFootnoteCall:v2,gfmFootnoteDefinitionLabelString:k2,gfmFootnoteDefinition:w2},exit:{gfmFootnoteCallString:b2,gfmFootnoteCall:S2,gfmFootnoteDefinitionLabelString:j2,gfmFootnoteDefinition:C2}}}function T2(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:km},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,l,o){const s=l.createTracker(o);let a=s.move("[^");const u=l.enter("footnoteDefinition"),f=l.enter("label");return a+=s.move(l.safe(l.associationId(r),{before:a,after:"]"})),f(),a+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),a+=s.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,s.current()),t?wm:L2))),u(),a}}function L2(e,t,n){return t===0?e:wm(e,t,n)}function wm(e,t,n){return(n?"":"    ")+e}const P2=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];bm.peek=A2;function _2(){return{canContainEols:["delete"],enter:{strikethrough:M2},exit:{strikethrough:D2}}}function I2(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:P2}],handlers:{delete:bm}}}function M2(e){this.enter({type:"delete",children:[]},e)}function D2(e){this.exit(e)}function bm(e,t,n,r){const i=n.createTracker(r),l=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),l(),o}function A2(){return"~"}function z2(e){return e.length}function R2(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||z2,l=[],o=[],s=[],a=[];let u=0,f=-1;for(;++f<e.length;){const v=[],w=[];let m=-1;for(e[f].length>u&&(u=e[f].length);++m<e[f].length;){const x=B2(e[f][m]);if(n.alignDelimiters!==!1){const y=i(x);w[m]=y,(a[m]===void 0||y>a[m])&&(a[m]=y)}v.push(x)}o[f]=v,s[f]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)l[d]=ef(r[d]);else{const v=ef(r);for(;++d<u;)l[d]=v}d=-1;const p=[],h=[];for(;++d<u;){const v=l[d];let w="",m="";v===99?(w=":",m=":"):v===108?w=":":v===114&&(m=":");let x=n.alignDelimiters===!1?1:Math.max(1,a[d]-w.length-m.length);const y=w+"-".repeat(x)+m;n.alignDelimiters!==!1&&(x=w.length+x+m.length,x>a[d]&&(a[d]=x),h[d]=x),p[d]=y}o.splice(1,0,p),s.splice(1,0,h),f=-1;const g=[];for(;++f<o.length;){const v=o[f],w=s[f];d=-1;const m=[];for(;++d<u;){const x=v[d]||"";let y="",b="";if(n.alignDelimiters!==!1){const L=a[d]-(w[d]||0),C=l[d];C===114?y=" ".repeat(L):C===99?L%2?(y=" ".repeat(L/2+.5),b=" ".repeat(L/2-.5)):(y=" ".repeat(L/2),b=y):b=" ".repeat(L)}n.delimiterStart!==!1&&!d&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&m.push(" "),n.alignDelimiters!==!1&&m.push(y),m.push(x),n.alignDelimiters!==!1&&m.push(b),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&m.push("|")}g.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return g.join(`
`)}function B2(e){return e==null?"":String(e)}function ef(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function F2(e,t,n,r){const i=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const o=n.indentLines(n.containerFlow(e,l.current()),O2);return i(),o}function O2(e,t,n){return">"+(n?"":" ")+e}function $2(e,t){return tf(e,t.inConstruct,!0)&&!tf(e,t.notInConstruct,!1)}function tf(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function nf(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&$2(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function W2(e,t){const n=String(e);let r=n.indexOf(t),i=r,l=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++l>o&&(o=l):l=1,i=r+t.length,r=n.indexOf(t,i);return o}function H2(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function U2(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function V2(e,t,n,r){const i=U2(n),l=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(H2(e,n)){const d=n.enter("codeIndented"),p=n.indentLines(l,Q2);return d(),p}const s=n.createTracker(r),a=i.repeat(Math.max(W2(l,i)+1,3)),u=n.enter("codeFenced");let f=s.move(a);if(e.lang){const d=n.enter(`codeFencedLang${o}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),d()}return f+=s.move(`
`),l&&(f+=s.move(l+`
`)),f+=s.move(a),u(),f}function Q2(e,t,n){return(n?"":"    ")+e}function Wu(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function K2(e,t,n,r){const i=Wu(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),o(),u}function q2(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ti(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Gl(e,t,n){const r=jr(e),i=jr(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Sm.peek=G2;function Sm(e,t,n,r){const i=q2(n),l=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Gl(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ti(u)+a.slice(1));const d=a.charCodeAt(a.length-1),p=Gl(r.after.charCodeAt(0),d,i);p.inside&&(a=a.slice(0,-1)+Ti(d));const h=o.move(i);return l(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},s+a+h}function G2(e,t,n){return n.options.emphasis||"*"}function X2(e,t){let n=!1;return Ou(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ja}),!!((!e.depth||e.depth<3)&&Mu(e)&&(t.options.setext||n))}function Y2(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(X2(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");l.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(u)&&(u=Ti(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),s(),u}jm.peek=J2;function jm(e){return e.value||""}function J2(){return"<"}Cm.peek=Z2;function Cm(e,t,n,r){const i=Wu(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),o(),u}function Z2(){return"!"}Em.peek=eb;function Em(e,t,n,r){const i=e.referenceType,l=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function eb(){return"!"}Nm.peek=tb;function Nm(e,t,n){let r=e.value||"",i="`",l=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const o=n.unsafe[l],s=n.compilePattern(o);let a;if(o.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function tb(){return"`"}function Tm(e,t){const n=Mu(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Lm.peek=nb;function Lm(e,t,n,r){const i=Wu(n),l=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,a;if(Tm(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=f,d}s=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),a(),e.title&&(a=n.enter(`title${l}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),s(),u}function nb(e,t,n){return Tm(e,n)?"<":"["}Pm.peek=rb;function Pm(e,t,n,r){const i=e.referenceType,l=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function rb(){return"["}function Hu(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ib(e){const t=Hu(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function lb(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function _m(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ob(e,t,n,r){const i=n.enter("list"),l=n.bulletCurrent;let o=e.ordered?lb(n):Hu(n);const s=e.ordered?o==="."?")":".":ib(n);let a=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),_m(n)===o&&f){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=l,i(),u}function sb(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ab(e,t,n,r){const i=sb(n);let l=n.bulletCurrent||Hu(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let o=l.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(l+" ".repeat(o-l.length)),s.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return a(),u;function f(d,p,h){return p?(h?"":" ".repeat(o))+d:(h?l:l+" ".repeat(o-l.length))+d}}function ub(e,t,n,r){const i=n.enter("paragraph"),l=n.enter("phrasing"),o=n.containerPhrasing(e,r);return l(),i(),o}const cb=vo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function db(e,t,n,r){return(e.children.some(function(o){return cb(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function fb(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Im.peek=pb;function Im(e,t,n,r){const i=fb(n),l=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Gl(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ti(u)+a.slice(1));const d=a.charCodeAt(a.length-1),p=Gl(r.after.charCodeAt(0),d,i);p.inside&&(a=a.slice(0,-1)+Ti(d));const h=o.move(i+i);return l(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},s+a+h}function pb(e,t,n){return n.options.strong||"*"}function hb(e,t,n,r){return n.safe(e.value,r)}function mb(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function gb(e,t,n){const r=(_m(n)+(n.options.ruleSpaces?" ":"")).repeat(mb(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Mm={blockquote:F2,break:nf,code:V2,definition:K2,emphasis:Sm,hardBreak:nf,heading:Y2,html:jm,image:Cm,imageReference:Em,inlineCode:Nm,link:Lm,linkReference:Pm,list:ob,listItem:ab,paragraph:ub,root:db,strong:Im,text:hb,thematicBreak:gb};function xb(){return{enter:{table:yb,tableData:rf,tableHeader:rf,tableRow:kb},exit:{codeText:wb,table:vb,tableData:gs,tableHeader:gs,tableRow:gs}}}function yb(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function vb(e){this.exit(e),this.data.inTable=void 0}function kb(e){this.enter({type:"tableRow",children:[]},e)}function gs(e){this.exit(e)}function rf(e){this.enter({type:"tableCell",children:[]},e)}function wb(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,bb));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function bb(e,t){return t==="|"?t:e}function Sb(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:a,tableRow:s}};function o(h,g,v,w){return u(f(h,v,w),h.align)}function s(h,g,v,w){const m=d(h,v,w),x=u([m]);return x.slice(0,x.indexOf(`
`))}function a(h,g,v,w){const m=v.enter("tableCell"),x=v.enter("phrasing"),y=v.containerPhrasing(h,{...w,before:l,after:l});return x(),m(),y}function u(h,g){return R2(h,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function f(h,g,v){const w=h.children;let m=-1;const x=[],y=g.enter("table");for(;++m<w.length;)x[m]=d(w[m],g,v);return y(),x}function d(h,g,v){const w=h.children;let m=-1;const x=[],y=g.enter("tableRow");for(;++m<w.length;)x[m]=a(w[m],h,g,v);return y(),x}function p(h,g,v){let w=Mm.inlineCode(h,g,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function jb(){return{exit:{taskListCheckValueChecked:lf,taskListCheckValueUnchecked:lf,paragraph:Eb}}}function Cb(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Nb}}}function lf(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Eb(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let l=-1,o;for(;++l<i.length;){const s=i[l];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Nb(e,t,n,r){const i=e.children[0],l=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);l&&s.move(o);let a=Mm.listItem(e,t,n,{...r,...s.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+o}}function Tb(){return[o2(),N2(),_2(),xb(),jb()]}function Lb(e){return{extensions:[s2(),T2(e),I2(),Sb(e),Cb()]}}const Pb={tokenize:zb,partial:!0},Dm={tokenize:Rb,partial:!0},Am={tokenize:Bb,partial:!0},zm={tokenize:Fb,partial:!0},_b={tokenize:Ob,partial:!0},Rm={name:"wwwAutolink",tokenize:Db,previous:Fm},Bm={name:"protocolAutolink",tokenize:Ab,previous:Om},tn={name:"emailAutolink",tokenize:Mb,previous:$m},Wt={};function Ib(){return{text:Wt}}let Cn=48;for(;Cn<123;)Wt[Cn]=tn,Cn++,Cn===58?Cn=65:Cn===91&&(Cn=97);Wt[43]=tn;Wt[45]=tn;Wt[46]=tn;Wt[95]=tn;Wt[72]=[tn,Bm];Wt[104]=[tn,Bm];Wt[87]=[tn,Rm];Wt[119]=[tn,Rm];function Mb(e,t,n){const r=this;let i,l;return o;function o(d){return!Ta(d)||!$m.call(r,r.previous)||Uu(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return Ta(d)?(e.consume(d),s):d===64?(e.consume(d),a):n(d)}function a(d){return d===46?e.check(_b,f,u)(d):d===45||d===95||He(d)?(l=!0,e.consume(d),a):f(d)}function u(d){return e.consume(d),i=!0,a}function f(d){return l&&i&&qe(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Db(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Fm.call(r,r.previous)||Uu(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Pb,e.attempt(Dm,e.attempt(Am,l),n),n)(o))}function l(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Ab(e,t,n){const r=this;let i="",l=!1;return o;function o(d){return(d===72||d===104)&&Om.call(r,r.previous)&&!Uu(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(qe(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(d),a}return n(d)}function a(d){return d===47?(e.consume(d),l?u:(l=!0,a)):n(d)}function u(d){return d===null||Ql(d)||fe(d)||Fn(d)||go(d)?n(d):e.attempt(Dm,e.attempt(Am,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function zb(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),l):n(o)}function l(o){return o===null?n(o):t(o)}}function Rb(e,t,n){let r,i,l;return o;function o(u){return u===46||u===95?e.check(zm,a,s)(u):u===null||fe(u)||Fn(u)||u!==45&&go(u)?a(u):(l=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function a(u){return i||r||!l?n(u):t(u)}}function Bb(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?l(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(zm,t,l)(o):o===null||fe(o)||Fn(o)?t(o):(e.consume(o),i)}function l(o){return o===41&&r++,e.consume(o),i}}function Fb(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),l):s===93?(e.consume(s),i):s===60||s===null||fe(s)||Fn(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||fe(s)||Fn(s)?t(s):r(s)}function l(s){return qe(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):qe(s)?(e.consume(s),o):n(s)}}function Ob(e,t,n){return r;function r(l){return e.consume(l),i}function i(l){return He(l)?n(l):t(l)}}function Fm(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||fe(e)}function Om(e){return!qe(e)}function $m(e){return!(e===47||Ta(e))}function Ta(e){return e===43||e===45||e===46||e===95||He(e)}function Uu(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const $b={tokenize:Gb,partial:!0};function Wb(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Qb,continuation:{tokenize:Kb},exit:qb}},text:{91:{name:"gfmFootnoteCall",tokenize:Vb},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Hb,resolveTo:Ub}}}}function Hb(e,t,n){const r=this;let i=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!o||!o._balanced)return n(a);const u=Mt(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function Ub(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Vb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),a}function a(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(l>999||d===93&&!o||d===null||d===91||fe(d))return n(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Mt(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return fe(d)||(o=!0),l++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),l++,u):u(d)}}function Qb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,o=0,s;return a;function a(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(g)}function f(g){if(o>999||g===93&&!s||g===null||g===91||fe(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return l=Mt(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return fe(g)||(s=!0),o++,e.consume(g),g===92?d:f}function d(g){return g===91||g===92||g===93?(e.consume(g),o++,f):f(g)}function p(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(l)||i.push(l),le(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function Kb(e,t,n){return e.check(Ai,t,e.attempt($b,t,n))}function qb(e){e.exit("gfmFootnoteDefinition")}function Gb(e,t,n){const r=this;return le(e,i,"gfmFootnoteDefinitionIndent",5);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(l):n(l)}}function Xb(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},p=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],h=s.parser.constructs.insideSpan.null;h&&pt(p,p.length,0,xo(h,o.slice(u+1,a),s)),pt(p,p.length,0,[["exit",d,s],["enter",o[a][1],s],["exit",o[a][1],s],["exit",f,s]]),pt(o,u-1,a-u+3,p),a=u+p.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function l(o,s,a){const u=this.previous,f=this.events;let d=0;return p;function p(g){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(g):(o.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const v=jr(u);if(g===126)return d>1?a(g):(o.consume(g),d++,h);if(d<2&&!n)return a(g);const w=o.exit("strikethroughSequenceTemporary"),m=jr(g);return w._open=!m||m===2&&!!v,w._close=!v||v===2&&!!m,s(g)}}}class Yb{constructor(){this.map=[]}add(t,n,r){Jb(this,t,n,r)}consume(t){if(this.map.sort(function(l,o){return l[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const l of i)t.push(l);i=r.pop()}this.map.length=0}}function Jb(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Zb(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function eS(){return{flow:{null:{name:"table",tokenize:tS,resolveAll:nS}}}}function tS(e,t,n){const r=this;let i=0,l=0,o;return s;function s(E){let O=r.events.length-1;for(;O>-1;){const Y=r.events[O][1].type;if(Y==="lineEnding"||Y==="linePrefix")O--;else break}const $=O>-1?r.events[O][1].type:null,G=$==="tableHead"||$==="tableRow"?C:a;return G===C&&r.parser.lazy[r.now().line]?n(E):G(E)}function a(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,l+=1),f(E)}function f(E){return E===null?n(E):X(E)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),h):n(E):ne(E)?le(e,f,"whitespace")(E):(l+=1,o&&(o=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),d(E)))}function d(E){return E===null||E===124||fe(E)?(e.exit("data"),f(E)):(e.consume(E),E===92?p:d)}function p(E){return E===92||E===124?(e.consume(E),d):d(E)}function h(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,ne(E)?le(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):g(E))}function g(E){return E===45||E===58?w(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),v):L(E)}function v(E){return ne(E)?le(e,w,"whitespace")(E):w(E)}function w(E){return E===58?(l+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),m):E===45?(l+=1,m(E)):E===null||X(E)?b(E):L(E)}function m(E){return E===45?(e.enter("tableDelimiterFiller"),x(E)):L(E)}function x(E){return E===45?(e.consume(E),x):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(E))}function y(E){return ne(E)?le(e,b,"whitespace")(E):b(E)}function b(E){return E===124?g(E):E===null||X(E)?!o||i!==l?L(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):L(E)}function L(E){return n(E)}function C(E){return e.enter("tableRow"),P(E)}function P(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),P):E===null||X(E)?(e.exit("tableRow"),t(E)):ne(E)?le(e,P,"whitespace")(E):(e.enter("data"),I(E))}function I(E){return E===null||E===124||fe(E)?(e.exit("data"),P(E)):(e.consume(E),E===92?A:I)}function A(E){return E===92||E===124?(e.consume(E),I):I(E)}}function nS(e,t){let n=-1,r=!0,i=0,l=[0,0,0,0],o=[0,0,0,0],s=!1,a=0,u,f,d;const p=new Yb;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(s=!1,a!==0&&(of(p,t,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,l=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",f,t]])),i=g.type==="tableDelimiterRow"?2:f?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(l[1]!==0&&(o[0]=o[1],d=il(p,t,l,i,void 0,d),l=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(o[0]=o[1],d=il(p,t,l,i,void 0,d)),l=o,o=[l[1],n,0,0])):g.type==="tableHead"?(s=!0,a=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(a=n,l[1]!==0?(o[0]=o[1],d=il(p,t,l,i,n,d)):o[1]!==0&&(d=il(p,t,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&of(p,t,a,u,f),p.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Zb(t.events,n))}return e}function il(e,t,n,r,i,l){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(l.end=Object.assign({},Xn(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const a=Xn(t.events,n[1]);if(l={type:o,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const u=Xn(t.events,n[2]),f=Xn(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const p=t.events[n[2]],h=t.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,v=n[3]-n[2]-1;e.add(g,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(l.end=Object.assign({},Xn(t.events,i)),e.add(i,0,[["exit",l,t]]),l=void 0),l}function of(e,t,n,r,i){const l=[],o=Xn(t.events,n);i&&(i.end=Object.assign({},o),l.push(["exit",i,t])),r.end=Object.assign({},o),l.push(["exit",r,t]),e.add(n+1,0,l)}function Xn(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const rS={name:"tasklistCheck",tokenize:lS};function iS(){return{text:{91:rS}}}function lS(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),l)}function l(a){return fe(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(a)}function s(a){return X(a)?t(a):ne(a)?e.check({tokenize:oS},t,n)(a):n(a)}}function oS(e,t,n){return le(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function sS(e){return Xh([Ib(),Wb(),Xb(e),eS(),iS()])}const aS={};function bo(e){const t=this,n=e||aS,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(sS(n)),l.push(Tb()),o.push(Lb(n))}function uS(e){ym(e,[/\r?\n|\r/g,cS])}function cS(){return{type:"break"}}function Vu(){return function(e){uS(e)}}const dS=200;function fS(e,t=dS){return e.length<=t?e:e.slice(0,t)+"..."}function So(e){if(!e)return"";const t=e.match(/^mcp__[^_]+__(.+)$/);return t?t[1]:e}function ll(e,t){const n=e.split(`
`);return n.length<=t?e:n.slice(0,t).join(`
`)+`
...`}function sf(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function Wm(e,t){if(!t)return{summary:""};switch(e){case"Write":{const n=String(t.file_path||""),r=t.content?String(t.content):void 0;let i;return r&&(i=ll(r,10)),{summary:n,details:i}}case"Edit":{const n=String(t.file_path||""),r=[];return t.old_string&&r.push("old: "+ll(String(t.old_string),5)),t.new_string&&r.push("new: "+ll(String(t.new_string),5)),{summary:n,details:r.join(`

`)||void 0}}case"Bash":return{summary:"",details:t.command?String(t.command):""};case"Read":{const n=String(t.file_path||""),r=[];return t.offset&&r.push(`offset: ${t.offset}`),t.limit&&r.push(`limit: ${t.limit}`),{summary:n,details:r.length>0?r.join(", "):void 0}}case"SpawnThread":{const n=t.title?String(t.title):"",r=t.model?String(t.model):void 0,i=t.permission_mode?String(t.permission_mode):void 0,l=t.instructions?String(t.instructions):void 0,o=[];r&&o.push(`Model: ${r}`),i&&o.push(`Mode: ${i}`);let s;if(o.length>0||l){const a=[];o.length>0&&a.push(o.join("  |  ")),l&&a.push(ll(l,8)),s=a.join(`

`)}return{summary:n,details:s}}case"Task":{const n=t.description?String(t.description):"",r=t.prompt?String(t.prompt):"";return{summary:"",details:sf(n||r,500)||void 0}}case"Glob":{const n=t.pattern?String(t.pattern):"",r=t.path?String(t.path):void 0;return{summary:n,details:r?`in ${r}`:void 0}}case"Grep":{const n=t.pattern?String(t.pattern):"",r=t.path?String(t.path):void 0,i=t.glob?String(t.glob):void 0,l=[];return r&&l.push(`path: ${r}`),i&&l.push(`glob: ${i}`),{summary:n,details:l.length>0?l.join(`
`):void 0}}default:{const n=JSON.stringify(t,null,2);return{summary:"",details:sf(n,500)}}}}function Ze(e,t){return e?e.length>t?e.slice(0,t-3)+"...":e:null}function Vr(e){if(!e)return null;const t=e.split("/");return t[t.length-1]||null}function pS(e){if(!e)return null;try{return new URL(e).hostname}catch{return Ze(e,30)}}function Hm(e,t,n){var l,o;if(!t)return null;const r=So(e),i=(n==null?void 0:n.maxLength)??40;switch(r){case"Bash":{const s=t.command;return Ze(s,i)}case"Glob":{const s=t.pattern;return Ze(s,i)}case"Grep":{const s=t.pattern,a=t.path;if(!s)return null;const u=a?` in ${Vr(a)||a}`:"";return Ze(`"${s}"${u}`,i)}case"Read":{const s=t.file_path||t.path;return Vr(s)||Ze(s,i)}case"Write":{const s=t.file_path||t.path;return Vr(s)||Ze(s,i)}case"Edit":{const s=t.file_path||t.path;return Vr(s)||Ze(s,i)}case"NotebookEdit":{const s=t.notebook_path;return Vr(s)||Ze(s,i)}case"WebFetch":{const s=t.url;return pS(s)}case"WebSearch":{const s=t.query;return s?Ze(`"${s}"`,i):null}case"Task":{const s=t.description||t.prompt;return Ze(s,i)}case"SpawnThread":{const s=t.title;return Ze(s,i)}case"ReadThread":case"ArchiveThread":case"SendToThread":{const s=t.thread_id;return s?((l=n==null?void 0:n.getThreadTitle)==null?void 0:l.call(n,s))||Ze(s,8)+"...":null}case"AskUserQuestion":{const s=t.questions,a=(o=s==null?void 0:s[0])==null?void 0:o.question;return Ze(a,i)}case"EnterPlanMode":return"Planning...";case"ExitPlanMode":return"Plan ready";default:{const s=["command","query","path","file_path","url","message","content","title","name","description"];for(const a of s){const u=t[a];if(typeof u=="string"&&u.length>0)return Ze(u,i)}return null}}}function Um({tools:e,onNavigateToThread:t}){const[n,r]=N.useState(!1),i=Z(v=>v.threads),l=v=>{const w=i.find(m=>m.title===v);return(w==null?void 0:w.id)||null},o=v=>{const w=i.find(m=>m.id===v);return(w==null?void 0:w.title)||null},s=e.every(v=>v.isComplete),a=N.useRef(!s);if(N.useEffect(()=>{if(s&&a.current&&n){const v=setTimeout(()=>r(!1),ju);return a.current=!1,()=>clearTimeout(v)}s&&(a.current=!1)},[s,n]),e.length===0)return null;const u=e[e.length-1],f=e.filter(v=>v.isComplete).length,d=e.length,p=e.some(v=>!v.isComplete),h=Hm(u.name,u.input,{maxLength:35,getThreadTitle:o}),g=d-1;return c.jsx(Tr,{children:c.jsxs("div",{className:"tool-history-block bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg my-2 overflow-hidden",children:[c.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors","aria-expanded":n,children:[c.jsx("span",{className:"w-5 h-5 bg-gray-500 dark:bg-gray-400 rounded-full flex items-center justify-center text-white dark:text-gray-900 text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsxs("span",{className:"flex-1 text-left text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs",children:So(u.name)}),h&&c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:h}),g>0&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" +",g," more"]}),p?c.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 ml-auto",children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f,"/",d]}):c.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 ml-auto",children:[" ",f,"/",d]})]}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 animate-slide-down",children:e.map((v,w)=>c.jsx(hS,{tool:v,getThreadTitle:o,findThreadByTitle:l,onNavigateToThread:t},v.id||w))})]})})}function hS({tool:e,getThreadTitle:t,findThreadByTitle:n,onNavigateToThread:r}){var g;const[i,l]=N.useState(!1),s=e.input&&Object.keys(e.input).length>0&&JSON.stringify(e.input)!=="{}",a=Hm(e.name,e.input,{maxLength:45,getThreadTitle:t}),u=N.useMemo(()=>!e.name||!e.input?null:Wm(e.name,e.input),[e.name,e.input]),f=e.name==="SpawnThread",d=f&&((g=e.input)!=null&&g.title)?String(e.input.title):null,p=d?n(d):null,h=v=>{v.stopPropagation(),p&&r&&r(p)};return c.jsxs("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50 last:border-b-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{onClick:()=>s&&l(!i),className:`flex-1 flex items-center gap-2 px-4 py-1.5 text-sm ${s?"cursor-pointer hover:bg-gray-200/30 dark:hover:bg-gray-700/30":"cursor-default"}`,disabled:!s,children:[e.isComplete?c.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs w-4 flex-shrink-0",children:""}):c.jsxs("svg",{className:"w-3 h-3 text-gray-500 animate-spin flex-shrink-0",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 flex-shrink-0",children:So(e.name)}),a&&c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate flex-1 text-left font-mono",children:a}),s&&!f&&c.jsx("svg",{className:`w-3 h-3 text-gray-400 flex-shrink-0 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&p&&r&&c.jsx("button",{onClick:h,className:"px-2 py-1 mr-2 text-xs text-primary hover:bg-primary/10 rounded transition-colors flex items-center gap-1",title:"Jump to thread",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i&&s&&u&&c.jsxs("div",{className:"px-4 pb-2 text-xs text-gray-500 dark:text-gray-500 overflow-hidden max-w-full",children:[u.summary&&c.jsx("div",{className:"font-mono text-gray-600 dark:text-gray-400 mb-1",children:u.summary}),u.details&&c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono leading-relaxed bg-gray-200/50 dark:bg-gray-900/50 p-2 rounded",children:u.details})]})]})}function mS(e,t){if(!e||!t)return"";let n="";switch(e){case"Bash":n=t.command?String(t.command):"";break;case"Read":case"Write":case"Edit":n=t.file_path?String(t.file_path):"";break;case"Glob":case"Grep":n=t.pattern?String(t.pattern):"";break;case"Task":n=t.description?String(t.description):"";break;case"WebFetch":n=t.url?String(t.url):"";break;case"SpawnThread":n=t.title?String(t.title):"";break;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":n="";break;default:n=""}return fS(n,100)}function af(e,t){if(!t)return!1;const n=Object.keys(t);if(n.length===0)return!1;switch(e){case"Write":return!1;case"Read":return!1;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":return!1}return n.some(r=>{const i=t[r];return i!=null&&i!==""&&!(typeof i=="object"&&Object.keys(i).length===0)})}function La({name:e,input:t,isComplete:n,isCollapsed:r,isError:i,startCollapsed:l,onNavigateToThread:o}){var m;const s=af(e,t),[a,u]=N.useState(()=>l?!1:!r&&s),f=mS(e,t),d=N.useRef(!n),p=Z(x=>x.threads),h=e==="SpawnThread",g=h&&(t!=null&&t.title)?String(t.title):null,v=g&&((m=p.find(x=>x.title===g))==null?void 0:m.id)||null;N.useEffect(()=>{r&&u(!1)},[r]),N.useEffect(()=>{if(n&&d.current&&a){const x=setTimeout(()=>u(!1),ju);return d.current=!1,()=>clearTimeout(x)}n&&(d.current=!1)},[n,a]);const w=N.useMemo(()=>!e||!t?null:Wm(e,t),[e,t]);return c.jsx(Tr,{children:c.jsxs("div",{className:"my-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("button",{onClick:()=>s&&u(!a),className:`flex-1 flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground rounded-lg transition-colors text-left ${i?"bg-red-500/10 hover:bg-red-500/20 border border-red-500/50":"bg-muted/30 hover:bg-muted/50"} ${s?"":"cursor-default"}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n?c.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):c.jsxs("svg",{className:"w-4 h-4 animate-spin flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:`font-medium ${i?"text-red-600":""}`,children:So(e)}),f&&c.jsx("span",{className:"text-xs opacity-70 truncate flex-1 font-mono",children:f}),s&&c.jsx("svg",{className:`w-4 h-4 transition-transform flex-shrink-0 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&v&&o&&c.jsx("button",{onClick:()=>o(v),className:"px-2 py-1.5 text-xs text-primary hover:bg-primary/10 rounded transition-colors flex-shrink-0",title:"Jump to thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a&&t&&af(e,t)&&w&&c.jsxs("div",{className:"mt-1 ml-6 p-2 bg-muted/20 rounded text-xs overflow-hidden max-w-full",children:[w.summary&&c.jsx("div",{className:"font-mono text-muted-foreground mb-1",children:w.summary}),w.details&&c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono leading-relaxed",children:w.details})]})]})})}function gS(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"?n.push(r):(n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n})),t}function xS({block:e,isLastToolBlock:t,onNavigateToThread:n}){switch(e.type){case"text":return e.content?c.jsx(Tr,{children:c.jsx("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(wo,{remarkPlugins:[bo,Vu],children:e.content})})})}):null;case"thinking":return e.content?c.jsx(Ah,{content:e.content,isStreaming:!1}):null;case"tool_use":return c.jsx(La,{name:e.name,input:e.input,isComplete:e.isComplete??!0,startCollapsed:!t,onNavigateToThread:n});default:return null}}function yS({group:e,isLastToolGroup:t,onNavigateToThread:n}){if(e.type==="single"){const i=t&&e.block.type==="tool_use";return c.jsx(xS,{block:e.block,isLastToolBlock:i,onNavigateToThread:n})}const r=e.blocks.map(i=>({name:i.name||"unknown",input:i.input,id:i.id,isComplete:i.isComplete??!0}));return c.jsx(Um,{tools:r,onNavigateToThread:n})}const vS=N.memo(function({message:t,skipContentBlocks:n=!1,onNavigateToThread:r}){const i=t.role==="user",l=t.role==="system",o=N.useMemo(()=>{if(i||!t.content_blocks)return null;try{return JSON.parse(t.content_blocks)}catch{return null}},[i,t.content_blocks]);if(l)return c.jsx("div",{className:"flex justify-center animate-fade-in my-1",children:c.jsx("div",{className:"max-w-[60%] px-3 py-1.5 text-xs text-muted-foreground italic text-center",children:t.content})});if(i&&t.content.startsWith("[notification]"))return null;if(!i&&o&&o.length>0&&!n){const a=gS(o);let u=-1;for(let f=a.length-1;f>=0;f--){const d=a[f];if(d.type==="tools"||d.type==="single"&&d.block.type==="tool_use"){u=f;break}}return c.jsxs("div",{className:"animate-fade-in space-y-2",children:[a.map((f,d)=>c.jsx(yS,{group:f,isLastToolGroup:d===u,onNavigateToThread:r},`${t.id}-group-${d}`)),c.jsx("p",{className:"text-xs opacity-70 px-4",children:new Date(t.timestamp).toLocaleTimeString()})]})}return c.jsx("div",{className:`flex ${i?"justify-end":"justify-start"} animate-fade-in`,children:c.jsxs("div",{className:`message-bubble max-w-[60%] px-4 py-2 rounded-lg ${i?"message-bubble-user text-primary-foreground":"message-bubble-assistant text-foreground"}`,children:[i?c.jsx("p",{className:"whitespace-pre-wrap",children:t.content}):c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(wo,{remarkPlugins:[bo,Vu],children:t.content})}),c.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(t.timestamp).toLocaleTimeString()})]})})});function kS({content:e,isStreaming:t=!0}){return c.jsx(Tr,{className:"animate-fade-in","aria-live":"polite",children:c.jsxs("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:[c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(wo,{remarkPlugins:[bo,Vu],children:e})}),t&&c.jsx(Dh,{})]})})}function wS({name:e,input:t,isComplete:n,isCollapsed:r,isError:i,submittedAnswers:l}){if(e==="AskUserQuestion"){const o=l?Object.entries(l).map(([,s])=>s).join(", "):null;return c.jsx(La,{name:e,input:o?{"Your answers":o}:void 0,isComplete:n||!!l,isCollapsed:l?r:!0,isError:i})}return c.jsx(La,{name:e,input:t,isComplete:n,isCollapsed:r,isError:i})}function bS({planFilePath:e,planContent:t,threadId:n,onProceed:r,onModify:i,onCompact:l}){const[o,s]=N.useState(!0),[a,u]=N.useState(!1),[f,d]=N.useState(!1),p=async h=>{d(!0);try{await r(h)}finally{d(!1)}};return N.useEffect(()=>{const h=g=>{if(!f&&!(g.target instanceof HTMLInputElement||g.target instanceof HTMLTextAreaElement))switch(g.key){case"1":g.preventDefault(),p("default");break;case"2":g.preventDefault(),p("acceptEdits");break;case"3":g.preventDefault(),p("bypassPermissions");break;case"m":case"M":g.preventDefault(),i();break;case"c":case"C":!g.metaKey&&!g.ctrlKey&&(g.preventDefault(),l());break}};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[f,i,l]),c.jsxs("div",{className:`flex justify-start my-4 ${a?"fixed inset-4 z-50":""}`,children:[a&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>u(!1)}),c.jsxs("div",{className:`rounded-xl overflow-hidden shadow-lg border-2 border-blue-500/40 dark:border-blue-400/30 ${a?"fixed inset-8 z-50 flex flex-col bg-background":"max-w-[85%] w-full"}`,children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-blue-600 to-blue-500 dark:from-blue-700 dark:to-blue-600",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:["Plan Ready for Review",c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-white/20 text-white",children:"Waiting"})]}),c.jsx("p",{className:"text-xs text-blue-100 truncate max-w-md mt-0.5",children:"Review and approve before execution"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(!a),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":a?"Exit fullscreen":"Fullscreen",title:a?"Exit fullscreen":"Expand for easier reading",children:a?c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),c.jsx("button",{onClick:()=>s(!o),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":o?"Collapse plan":"Expand plan",children:c.jsx("svg",{className:`w-5 h-5 text-white transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o&&c.jsx("div",{className:`px-5 py-4 bg-slate-50 dark:bg-slate-900/50 overflow-y-auto ${a?"max-h-[70vh]":"max-h-96"}`,children:c.jsx("div",{className:"prose prose-sm max-w-none text-foreground prose-p:my-2 prose-p:text-foreground prose-headings:text-foreground prose-headings:font-semibold prose-h1:text-lg prose-h2:text-base prose-h3:text-sm prose-strong:text-foreground prose-code:text-foreground prose-code:bg-slate-200 dark:prose-code:bg-slate-700 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none prose-ul:my-2 prose-ol:my-2 prose-li:my-0.5 prose-table:text-sm prose-th:bg-slate-100 dark:prose-th:bg-slate-800 prose-th:px-3 prose-th:py-1.5 prose-td:px-3 prose-td:py-1.5 prose-td:border-slate-200 dark:prose-td:border-slate-700",children:c.jsx(wo,{remarkPlugins:[bo],children:t||"Plan content not available"})})}),c.jsxs("div",{className:"px-5 py-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("button",{onClick:()=>p("default"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg
                         hover:bg-blue-700 active:bg-blue-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Proceed",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-blue-500 rounded font-mono",children:"1"})]}),c.jsxs("button",{onClick:()=>p("acceptEdits"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-emerald-600 text-white rounded-lg
                         hover:bg-emerald-700 active:bg-emerald-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Auto-accept file changes",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Accept Edits",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-emerald-500 rounded font-mono",children:"2"})]}),c.jsxs("button",{onClick:()=>p("bypassPermissions"),disabled:f,className:`px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg
                         hover:bg-red-700 active:bg-red-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Skip all permission prompts (use with caution)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bypass",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-red-500 rounded font-mono",children:"3"})]}),c.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600 mx-1"}),c.jsxs("button",{onClick:i,disabled:f,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Request changes to the plan",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Modify",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"m"})]}),c.jsxs("button",{onClick:l,disabled:f,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Summarize conversation to free up context",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Compact",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"c"})]})]}),c.jsxs("p",{className:"mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:["Keyboard: ",c.jsx("span",{className:"font-medium",children:"1-3"})," proceed  ",c.jsx("span",{className:"font-medium",children:"m"})," modify  ",c.jsx("span",{className:"font-medium",children:"c"})," compact"]})]})]})]})}function SS(){return c.jsx(Tr,{children:c.jsx("div",{className:"processing-block bg-blue-50/60 dark:bg-blue-900/15 border border-blue-200 dark:border-blue-800 rounded-lg px-3 py-2",children:c.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[c.jsx("span",{className:"w-5 h-5 bg-blue-400 dark:bg-blue-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),c.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:["Thinking",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})})}const ct=100,Qt=28,xs=16,jS=20;function CS(e){const t=e.filter(i=>!i.archivedAt),n=new Map;for(const i of t){const l=i.parentId??null;n.has(l)||n.set(l,[]),n.get(l).push(i)}function r(i,l){return(n.get(i)||[]).map(s=>({thread:s,children:r(s.id,l+1),depth:l}))}return r(null,0)}function ES(e,t,n){let r=0,i=0;function l(a,u,f){if(a.children.length===0){const y=f+Qt;y>i&&(i=y);const b=ct;return u+b>r&&(r=u+b),{positioned:{thread:a.thread,x:u,y:f,children:[]},width:ct}}let d=u;const p=f+Qt+jS,h=[];let g=0;for(let y=0;y<a.children.length;y++){const b=l(a.children[y],d,p);h.push(b.positioned),g+=b.width,d+=b.width+xs}g+=(a.children.length-1)*xs;const v=Math.max(ct,g),w=h.length>0?h[0].x+(h[h.length-1].x+ct-h[0].x)/2-ct/2:u,m=w+ct;m>r&&(r=m);const x=f+Qt;return x>i&&(i=x),{positioned:{thread:a.thread,x:w,y:f,children:h},width:v}}let o=t;const s=[];for(let a=0;a<e.length;a++){const u=l(e[a],o,n);s.push(u.positioned),o+=u.width+xs}return{positioned:s,totalWidth:r,totalHeight:i}}const NS={active:"#22c55e",pending:"#f59e0b",done:"#9ca3af",needs_attention:"#ef4444",new_message:"#3b82f6"};function TS(e){return NS[e]||"#9ca3af"}function LS(e,t){return e.length>t?e.slice(0,t-1)+"":e}function Vm({node:e,activeThreadId:t,collapsedIds:n,onNavigate:r,onToggleCollapse:i}){const l=e.thread.id===t,o=n.has(e.thread.id),s=TS(e.thread.status),a=e.children.length>0;return c.jsxs(c.Fragment,{children:[!o&&e.children.map(u=>c.jsx("line",{x1:e.x+ct/2,y1:e.y+Qt,x2:u.x+ct/2,y2:u.y,stroke:"#525252",strokeWidth:1,strokeDasharray:u.thread.status==="done"?"4,2":void 0},`edge-${e.thread.id}-${u.thread.id}`)),c.jsxs("g",{className:"cursor-pointer",onClick:()=>r(e.thread.id),role:"button",tabIndex:0,"aria-label":`Navigate to thread: ${e.thread.title}`,children:[c.jsx("rect",{x:e.x,y:e.y,width:ct,height:Qt,rx:6,ry:6,fill:s+"22",stroke:l?"#f97316":s,strokeWidth:l?2:1}),l&&c.jsx("rect",{x:e.x-2,y:e.y-2,width:ct+4,height:Qt+4,rx:8,ry:8,fill:"none",stroke:"#f97316",strokeWidth:1,strokeDasharray:"4,2",opacity:.5}),c.jsx("text",{x:e.x+ct/2,y:e.y+Qt/2+1,textAnchor:"middle",dominantBaseline:"middle",fontSize:10,fill:"currentColor",className:"select-none pointer-events-none",children:LS(e.thread.title,12)})]}),a&&c.jsxs("g",{className:"cursor-pointer",onClick:u=>{u.stopPropagation(),i(e.thread.id)},role:"button",tabIndex:0,"aria-label":o?"Expand branch":"Collapse branch",children:[c.jsx("circle",{cx:e.x+ct/2,cy:e.y+Qt+6,r:6,fill:"var(--background, #1a1a1a)",stroke:"#525252",strokeWidth:1}),c.jsx("text",{x:e.x+ct/2,y:e.y+Qt+7,textAnchor:"middle",dominantBaseline:"middle",fontSize:10,fill:"#9ca3af",className:"select-none pointer-events-none",children:o?"+":""})]}),!o&&e.children.map(u=>c.jsx(Vm,{node:u,activeThreadId:t,collapsedIds:n,onNavigate:r,onToggleCollapse:i},u.thread.id))]})}function PS({threads:e,activeThreadId:t,onNavigate:n}){const[r,i]=N.useState(new Set),l=N.useCallback(p=>{i(h=>{const g=new Set(h);return g.has(p)?g.delete(p):g.add(p),g})},[]),o=N.useMemo(()=>CS(e),[e]),{positioned:s,totalWidth:a,totalHeight:u}=N.useMemo(()=>ES(o,8,8),[o]);if(s.length===0)return c.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:"No threads"});const f=a+16,d=u+24;return c.jsx("div",{className:"overflow-auto max-h-64 p-1",children:c.jsx("svg",{width:f,height:d,viewBox:`0 0 ${f} ${d}`,className:"text-foreground",children:s.map(p=>c.jsx(Vm,{node:p,activeThreadId:t,collapsedIds:r,onNavigate:n,onToggleCollapse:l},p.thread.id))})})}function _S(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"?n.push(r):(n.length>0&&(t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),t}function IS(e){const[t,n]=N.useState(null),[r,i]=N.useState(!1);return N.useEffect(()=>{if(!e){n(null);return}let l=!1;const o=async()=>{i(!0);try{const a=await fetch(`/api/threads/${e}/tokens`);if(a.ok&&!l){const u=await a.json();n(u)}}catch{}finally{l||i(!1)}};o();const s=setInterval(o,6e4);return()=>{l=!0,clearInterval(s)}},[e]),{tokenInfo:t,isLoading:r}}function MS({block:e,threadId:t,expandedBlockId:n,onToggleExpanded:r}){const i=e.type==="thinking"?`thinking-${e.timestamp}`:e.id,l=!e.isFinalized;switch(e.type){case"text":return e.content?c.jsx(kS,{content:e.content,isStreaming:l}):null;case"thinking":return e.content?c.jsx(Ah,{content:e.content,isStreaming:l,blockId:i,isExpanded:n===i,onToggle:()=>r(i)}):null;case"tool_use":return c.jsx(wS,{name:e.name,input:e.input,isComplete:e.isComplete,toolUseId:e.id,isCollapsed:e.isCollapsed,isError:e.isError,submittedAnswers:e.submittedAnswers});default:return null}}function DS(){const e=Z(T=>T.threads),t=Z(T=>T.activeThreadId),n=Z(T=>T.streamingBlocks),r=Z(T=>T.expandedStreamingBlockId),i=Z(T=>T.pendingQuestion),l=Z(T=>T.pendingPlanApproval),o=Z(T=>T.handlePlanAction),s=Z(T=>T.threadNotifications),a=Z(T=>T.spawnedThreadIds),u=Z(T=>T.error),f=Z(T=>T.sendMessage),d=Z(T=>T.createThread),p=Z(T=>T.setActiveThread),h=Z(T=>T.setExpandedStreamingBlockId),g=Z(T=>T.clearPendingQuestion),v=Z(T=>T.answerQuestion),w=Z(T=>T.updateThreadConfig),m=Z(T=>T.clearThreadMessages),x=Z(T=>T.archiveThread),y=Z(T=>T.stopThread),b=St(T=>T.experimentalAllowNestedSubthreads),L=St(T=>T.experimentalMaxThreadDepth),C=Z(T=>T.childPendingQuestions),[P,I]=N.useState(!1),[A,E]=N.useState(!1),[O,$]=N.useState(!1),[G,Y]=N.useState(null),[J,ue]=N.useState(!1),[z,_]=N.useState(!1),B=N.useRef(null),k=N.useRef(null),{ref:Q,inView:q}=C0({threshold:1}),{tokenInfo:S}=IS(t),K=N.useMemo(()=>e.find(T=>T.id===t),[e,t]),we=N.useMemo(()=>K!=null&&K.parentId?e.find(T=>T.id===K.parentId):null,[e,K]),te=(K==null?void 0:K.messages)||[],de=N.useMemo(()=>t?n[t]||[]:[],[t,n]),_e=N.useMemo(()=>t?i[t]:void 0,[t,i]),Te=N.useMemo(()=>t?l[t]:void 0,[t,l]),Ie=N.useMemo(()=>t?s[t]||[]:[],[t,s]),ot=N.useMemo(()=>t&&r[t]||null,[t,r]),At=N.useMemo(()=>!t||!C?[]:C[t]||[],[t,C]),D=(K==null?void 0:K.isReadOnly)===!0||(K==null?void 0:K.isEphemeral)===!0,U=(K==null?void 0:K.status)==="pending"&&de.length===0;N.useEffect(()=>(U?(ue(!0),B.current&&(clearTimeout(B.current),B.current=null)):J&&(B.current=setTimeout(()=>{ue(!1),B.current=null},400)),()=>{B.current&&clearTimeout(B.current)}),[U,J]);const oe=N.useCallback(T=>{if(!t)return;h(t,ot===T?null:T)},[t,ot,h]),ae=N.useMemo(()=>new Set(Object.values(a||{})),[a]),Ae=N.useMemo(()=>{const T=Ie.filter(ie=>ie.status?!0:!ae.has(ie.threadId));return[...te.map(ie=>({type:"message",data:ie,timestamp:ie.timestamp})),...T.map(ie=>({type:"notification",data:ie,timestamp:ie.timestamp}))].sort((ie,Ce)=>new Date(ie.timestamp).getTime()-new Date(Ce.timestamp).getTime())},[te,Ie,ae]);N.useEffect(()=>{var T;q&&de.length>0&&((T=k.current)==null||T.scrollIntoView({behavior:"smooth"}))},[de,q]);const Et=N.useRef(null);N.useEffect(()=>{var H;const T=Et.current!==t;Et.current=t,(T||q)&&((H=k.current)==null||H.scrollIntoView({behavior:"smooth"}))},[te.length,t,q]),N.useEffect(()=>{if(G){const T=setTimeout(()=>Y(null),3e4);return()=>clearTimeout(T)}},[G]);const xt=N.useCallback(async(T,H,ie)=>{if(!t)return;Y(null);const Ce=H==null?void 0:H.map(ze=>({data:ze.data,media_type:ze.media_type}));await f(t,T,{images:Ce,fileRefs:ie,allowNestedSubthreads:b,maxThreadDepth:L})},[t,f,b,L]),Hn=async T=>{$(!1),Y(null);try{I(!0);const H=await d(T);p(H.id)}catch(H){Y(H instanceof Error?H.message:"Failed to create thread")}finally{I(!1)}},Un=async T=>{E(!1),Y(null);try{const H=await d({title:T.title,parentId:t||void 0,model:T.model,permissionMode:T.permissionMode});p(H.id)}catch(H){Y(H instanceof Error?H.message:"Failed to create thread")}},_r=N.useCallback(async T=>{t&&await w(t,{model:T})},[t,w]),Ir=N.useCallback(async T=>{K&&await w(K.id,{extendedThinking:T})},[K,w]),Vn=N.useCallback(async T=>{K&&await w(K.id,{permissionMode:T})},[K,w]),Qn=N.useCallback(async()=>{if(t&&confirm("Clear all messages in this thread? This cannot be undone."))try{await m(t)}catch(T){Y(T instanceof Error?T.message:"Failed to clear thread")}},[t,m]),j=N.useCallback(async()=>{if(t)try{await x(t)}catch(T){Y(T instanceof Error?T.message:"Failed to archive thread")}},[t,x]),M=N.useCallback(async()=>{if(t)try{await y(t)}catch(T){Y(T instanceof Error?T.message:"Failed to stop thread")}},[t,y]),V=G||u;return c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[V&&c.jsxs("div",{className:"bg-red-500/10 border-b border-red-500/30 px-4 py-3 flex items-start gap-3",children:[c.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),c.jsx("p",{className:"text-red-600/80 text-sm font-mono mt-0.5",children:V})]}),c.jsx("button",{onClick:()=>Y(null),className:"text-red-500 hover:text-red-700 p-1","aria-label":"Dismiss error",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),K&&c.jsxs("div",{className:"relative",children:[c.jsx(xy,{thread:K,parentThread:we||void 0,tokenInfo:S,onNavigateToParent:()=>we&&p(we.id),onClearThread:Qn,onArchiveThread:j}),D&&c.jsxs("span",{className:"absolute top-2 right-32 inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-500/10 text-gray-500 text-xs border border-gray-500/20",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Read-only"]}),c.jsx("button",{onClick:()=>_(T=>!T),className:`absolute top-2 right-2 p-1 rounded border text-xs transition-colors ${z?"bg-primary/10 border-primary/30 text-primary":"bg-background border-border text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:z?"Hide thread map":"Show thread map","aria-label":"Toggle thread minimap",children:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h8m-8 6h16"}),c.jsx("circle",{cx:"18",cy:"12",r:"2",strokeWidth:2})]})})]}),z&&c.jsx("div",{className:"border-b border-border bg-muted/20 flex-shrink-0",children:c.jsx(PS,{threads:e,activeThreadId:t,onNavigate:p})}),At.length>0&&c.jsx("div",{className:"flex-shrink-0",children:At.map(T=>c.jsxs("div",{className:"bg-amber-500/10 border-b border-amber-500/30 px-4 py-2 flex items-center gap-3",children:[c.jsx("svg",{className:"w-4 h-4 text-amber-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{className:"text-sm text-amber-700 dark:text-amber-400 flex-1",children:["Sub-thread ",T.childTitle," needs your input"]}),c.jsx("button",{onClick:()=>p(T.childThreadId),className:"text-xs px-2 py-1 rounded bg-amber-500/20 text-amber-700 dark:text-amber-400 hover:bg-amber-500/30 transition-colors border border-amber-500/30",children:"Go to thread"})]},T.childThreadId))}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[te.length===0&&Ie.length===0&&de.length===0&&c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx("p",{className:"text-lg",children:"Start a conversation"}),c.jsx("p",{className:"text-sm",children:"Type a message below to begin"})]}),Ae.map(T=>{const H=T.type==="message"&&T.data.role==="assistant"&&T.data.content==="[streaming...]"&&de.length>0;return T.type==="message"?c.jsx(vS,{message:T.data,skipContentBlocks:H},T.data.id):T.data.status?c.jsx(my,{notification:T.data,onNavigate:ie=>p(ie)},`completion-${T.data.threadId}-${T.timestamp}`):c.jsx(hy,{notification:T.data,onNavigate:ie=>p(ie)},`created-${T.data.threadId}`)}),t&&_S(de).map(T=>{if(T.type==="single"){const H=T.block,ie=H.id||`block-${H.timestamp}`;return c.jsx(MS,{block:H,threadId:t,expandedBlockId:ot,onToggleExpanded:oe},ie)}else{const H=T.blocks[0],ie=`tool-group-${H.id||H.timestamp}`,Ce=T.blocks.map(ze=>({name:ze.name||"unknown",input:ze.input,id:ze.id,isComplete:ze.isComplete??!1}));return c.jsx(Um,{tools:Ce,onNavigateToThread:p},ie)}}),J&&c.jsx(SS,{}),_e&&t&&c.jsx(py,{questions:_e,onAnswer:async T=>{try{await v(t,T)}catch(H){Y(H instanceof Error?H.message:"Failed to submit answer")}},onCancel:()=>{t&&g(t)}}),Te&&t&&c.jsx(bS,{planFilePath:Te.planFilePath,planContent:Te.planContent,threadId:t,onProceed:async T=>{try{await o(t,"proceed",T)}catch(H){Y(H instanceof Error?H.message:"Failed to proceed with plan")}},onModify:async()=>{try{await o(t,"modify")}catch(T){Y(T instanceof Error?T.message:"Failed to modify plan")}},onCompact:async()=>{try{await o(t,"compact")}catch(T){Y(T instanceof Error?T.message:"Failed to compact context")}}}),c.jsx("div",{ref:Q,className:"h-1"}),c.jsx("div",{ref:k})]}),K&&!D&&c.jsx(ky,{thread:K,disabled:P,onSendMessage:xt,onCreateThread:()=>E(!0),onModelChange:_r,onPermissionModeChange:Vn,onThinkingToggle:Ir,onStopThread:M,onError:Y}),c.jsx(oy,{isOpen:A,parentModel:(K==null?void 0:K.model)||"claude-opus-4-5",parentPermissionMode:(K==null?void 0:K.permissionMode)||"acceptEdits",onSubmit:Un,onCancel:()=>E(!1)}),c.jsx(Mh,{isOpen:O,onSubmit:Hn,onCancel:()=>$(!1)})]})}function ys({value:e,max:t=100,colorThresholds:n={warning:50,critical:80}}){const r=Math.min(e/t*100,100),i=e>n.critical?"bg-red-500":e>n.warning?"bg-yellow-500":"bg-green-500";return c.jsx("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${i} transition-all duration-300`,style:{width:`${r}%`}})})}function AS(){const[e,t]=N.useState(null),[n,r]=N.useState(!1),[i,l]=N.useState(null);return N.useEffect(()=>{const o=async()=>{try{const a=await fetch("/api/stats");a.ok?(t(await a.json()),l(null)):l("Failed to fetch stats")}catch{l("Stats unavailable")}};o();const s=setInterval(o,5e3);return()=>clearInterval(s)},[]),i?c.jsx("div",{className:"text-xs text-muted-foreground px-3 py-2 border-t border-border",children:i}):e?c.jsxs("div",{className:"border-t border-border",children:[c.jsxs("button",{onClick:()=>r(!n),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[c.jsxs("span",{className:e.cpu_percent>80?"text-red-500":e.cpu_percent>50?"text-yellow-500":"text-green-500",children:["CPU ",e.cpu_percent.toFixed(0),"%"]}),c.jsxs("span",{className:e.memory_percent>80?"text-red-500":e.memory_percent>50?"text-yellow-500":"text-green-500",children:["RAM ",e.memory_percent.toFixed(0),"%"]}),c.jsxs("span",{children:["Claude: ",e.claude_process_count]})]}),c.jsx("svg",{className:`w-4 h-4 text-muted-foreground transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&c.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"CPU"}),c.jsxs("span",{children:[e.cpu_percent.toFixed(1),"%"]})]}),c.jsx(ys,{value:e.cpu_percent})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"Memory"}),c.jsxs("span",{children:[e.memory_used_gb,"GB / ",e.memory_total_gb,"GB"]})]}),c.jsx(ys,{value:e.memory_percent})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"Client Cache"}),c.jsxs("span",{children:[e.cache.cached_clients,"/",e.cache.max_cached]})]}),c.jsx(ys,{value:e.cache.cached_clients,max:e.cache.max_cached,colorThresholds:{warning:3,critical:4}}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Hit rate"}),c.jsxs("span",{children:[(e.cache.hit_rate*100).toFixed(1),"%"]})]})]}),e.claude_process_count>0&&c.jsxs("div",{className:"text-xs",children:[c.jsxs("div",{className:"text-muted-foreground mb-1",children:["Claude Processes (",e.claude_process_count,")"]}),c.jsx("div",{className:"text-muted-foreground/70",children:"Active subprocesses for thread execution"})]})]})]}):c.jsx("div",{className:"text-xs text-muted-foreground px-3 py-2 border-t border-border animate-pulse",children:"Loading stats..."})}const Qu={needs_attention:{bg:"bg-red-500",label:"Needs attention"},pending:{bg:"bg-orange-500",label:"Processing"},active:{bg:"bg-green-500",label:"Active"},done:{bg:"bg-green-500",label:"Done"},new_message:{bg:"bg-red-500",label:"New message"}};function Qm({status:e}){const t=Qu[e],n=e==="pending";return c.jsx("span",{className:`w-2 h-2 rounded-full ${t.bg} flex-shrink-0 ${n?"animate-neon-blink":""}`,title:t.label,"aria-label":`Thread status: ${t.label}`,role:"status"})}function Km({mode:e}){return e==="plan"?c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-blue-500/20 text-blue-600 dark:text-blue-400",title:"Plan mode - requires approval before execution",children:"Plan"}):e==="bypassPermissions"?c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-red-500/20 text-red-600",title:"Bypass mode - no permission prompts",children:"Bypass"}):null}const Ku={"claude-sonnet-4-5":{short:"Sonnet",full:"Sonnet 4.5",color:"bg-muted text-muted-foreground"},"claude-opus-4-5":{short:"Opus",full:"Opus 4.5",color:"bg-muted text-muted-foreground"},"claude-haiku-4-5":{short:"Haiku",full:"Haiku 4.5",color:"bg-muted text-muted-foreground"}},qu={short:"?",full:"Unknown",color:"bg-muted text-muted-foreground"};function zS(){const e=Z(z=>z.threads),t=Z(z=>z.activeThreadId),n=Z(z=>z.showArchived),r=Z(z=>z.setActiveThread),i=Z(z=>z.createThread),l=Z(z=>z.archiveThread),o=Z(z=>z.unarchiveThread),s=Z(z=>z.resetAllThreads),a=Z(z=>z.setShowArchived),u=Z(z=>z.stopThread);Z(z=>z.sendMessage);const f=Z(z=>z.updateThreadTitle),d=St(z=>z.isCreateThreadModalOpen),p=St(z=>z.openCreateThreadModal),h=St(z=>z.closeCreateThreadModal),[g,v]=N.useState(!1),[w,m]=N.useState(null),[x,y]=N.useState(new Set),b=N.useRef(new Map),{mainThreads:L,archivedMainThreads:C,archivedSubThreads:P,subThreadsByParent:I,totalArchivedCount:A}=N.useMemo(()=>{const z=e.filter(Q=>!Q.parentId&&!Q.archivedAt),_=e.filter(Q=>!Q.parentId&&Q.archivedAt),B=e.filter(Q=>Q.parentId&&Q.archivedAt),k=new Map;return e.filter(Q=>Q.parentId&&!Q.archivedAt).forEach(Q=>{const q=k.get(Q.parentId)||[];k.set(Q.parentId,[...q,Q])}),{mainThreads:z,archivedMainThreads:_,archivedSubThreads:B,subThreadsByParent:k,totalArchivedCount:_.length+B.length}},[e]);N.useEffect(()=>{const z=new Set;I.forEach((B,k)=>{const Q=b.current.get(k)||0,q=B.length;Q===0&&q>0&&z.add(k)}),z.size>0&&y(B=>{const k=new Set(B);return z.forEach(Q=>k.add(Q)),k});const _=new Map;I.forEach((B,k)=>{_.set(k,B.length)}),b.current=_},[I]);const E=async z=>{h(),m(null);try{const _=await i(z);r(_.id)}catch(_){const B=_ instanceof Error?_.message:"Failed to create thread";m(B)}},O=async z=>{m(null);try{await l(z)}catch(_){const B=_ instanceof Error?_.message:"Failed to archive thread";m(B)}},$=z=>{y(_=>{const B=new Set(_);return B.has(z)?B.delete(z):B.add(z),B})},G=async z=>{m(null);try{await o(z)}catch(_){const B=_ instanceof Error?_.message:"Failed to unarchive thread";m(B)}},Y=async z=>{m(null);try{await u(z)}catch(_){const B=_ instanceof Error?_.message:"Failed to stop thread";m(B)}},J=async()=>{v(!1),m(null);try{await s()}catch(z){const _=z instanceof Error?z.message:"Failed to reset threads";m(_)}},ue=async(z,_)=>{m(null);try{await f(z,_)}catch(B){const k=B instanceof Error?B.message:"Failed to rename thread";throw m(k),B}};return c.jsxs("aside",{className:"w-full h-full border-l border-border bg-muted/30 flex flex-col",children:[c.jsxs("div",{className:"px-4 py-4 border-b border-border flex items-center justify-between flex-shrink-0",children:[c.jsx("h2",{className:"font-semibold",children:"Threads"}),c.jsx("button",{onClick:p,className:"text-sm px-2 py-1 rounded hover:bg-muted","aria-label":"Create new thread",title:"Create new thread (N)",children:"+ New"})]}),w&&c.jsx("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-500/10",children:w}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[e.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No threads yet"}),L.map(z=>c.jsx(RS,{thread:z,subThreads:I.get(z.id)||[],isActive:z.id===t,onSelect:()=>r(z.id),activeThreadId:t,onSelectSub:r,onArchive:O,onStop:Y,onRename:ue,isExpanded:x.has(z.id),onToggleExpand:$},z.id)),n&&A>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[c.jsx("p",{className:"text-xs text-muted-foreground px-2 mb-2 uppercase tracking-wide",children:"Archived"}),C.map(z=>c.jsx(cf,{thread:z,onUnarchive:G,onSelect:()=>r(z.id),isActive:z.id===t},z.id)),P.map(z=>c.jsx(cf,{thread:z,onUnarchive:G,onSelect:()=>r(z.id),isActive:z.id===t,isSubThread:!0},z.id))]})]}),c.jsx(AS,{}),c.jsxs("div",{className:"px-4 py-3 border-t border-border space-y-2 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Cu,{enabled:n,onChange:a,label:"Show archived"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[A," archived"]})]}),c.jsx("button",{onClick:()=>v(!0),className:"w-full text-xs px-2 py-1.5 rounded border border-red-500/30 text-red-600 hover:bg-red-500/10",children:"Reset All Threads"})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 max-w-sm mx-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Reset All Threads?"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will permanently delete all threads and messages. This action cannot be undone."}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1.5 text-sm rounded border border-border hover:bg-muted",children:"Cancel"}),c.jsx("button",{onClick:J,className:"px-3 py-1.5 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Reset All"})]})]})}),c.jsx(Mh,{isOpen:d,onSubmit:E,onCancel:h})]})}function RS({thread:e,subThreads:t,isActive:n,onSelect:r,activeThreadId:i,onSelectSub:l,onArchive:o,onStop:s,onRename:a,isExpanded:u,onToggleExpand:f}){const d=Qu[e.status],p=Ku[e.model]||qu,h=t.length>0,[g,v]=N.useState(!1),[w,m]=N.useState(e.title),x=N.useRef(null),y=t.some(A=>A.id===i),b=u||y,L=A=>{A.stopPropagation(),f(e.id)},C=A=>{A.stopPropagation(),m(e.title),v(!0)},P=async()=>{const A=w.trim();if(A&&A!==e.title)try{await a(e.id,A)}catch{m(e.title)}else m(e.title);v(!1)},I=A=>{A.key==="Enter"?(A.preventDefault(),P()):A.key==="Escape"&&(A.preventDefault(),m(e.title),v(!1))};return N.useEffect(()=>{g&&x.current&&(x.current.focus(),x.current.select())},[g]),c.jsxs("div",{className:"mb-1 group",children:[c.jsxs("div",{className:"flex items-center",children:[h?c.jsx("button",{onClick:L,className:"w-5 h-5 flex items-center justify-center text-muted-foreground hover:text-foreground flex-shrink-0","aria-label":u?"Collapse sub-threads":"Expand sub-threads",children:c.jsx("svg",{className:`w-3 h-3 transition-transform ${b?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:r,onDoubleClick:C,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2
                      ${n?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select thread: ${e.title}, status: ${d.label}`,children:[c.jsx(Qm,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0",children:[g?c.jsx("input",{ref:x,type:"text",value:w,onChange:A=>m(A.target.value),onBlur:P,onKeyDown:I,onClick:A=>A.stopPropagation(),className:"w-full text-sm bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-sm",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${p.color}`,title:p.full,children:p.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,title:e.extendedThinking?"Extended thinking enabled":"Extended thinking disabled",children:"Thinking"}),c.jsx(Km,{mode:e.permissionMode}),h&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:t.length}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[60px]",title:e.gitBranch,children:e.gitBranch})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),e.status==="pending"&&c.jsx("button",{onClick:A=>{A.stopPropagation(),s(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),c.jsx("button",{onClick:A=>{A.stopPropagation(),o(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]}),b&&t.length>0&&c.jsx(BS,{subThreads:t,activeThreadId:i,onSelectSub:l,onStop:s,onArchive:o,onRename:a})]})}const uf=5,vs=52;function BS({subThreads:e,activeThreadId:t,onSelectSub:n,onStop:r,onArchive:i,onRename:l}){const o=N.useRef(null),[s,a]=N.useState(!1),[u,f]=N.useState(!1),d=e.length>uf,p=uf*vs,h=()=>{const g=o.current;g&&(a(g.scrollTop>0),f(g.scrollTop<g.scrollHeight-g.clientHeight-1))};return N.useEffect(()=>{h()},[e.length]),N.useEffect(()=>{if(!t||!o.current)return;const g=e.findIndex(v=>v.id===t);if(g>=0){const v=g*vs;o.current.scrollTo({top:v-vs,behavior:"smooth"})}},[t,e]),c.jsxs("div",{className:"ml-5 mt-1 relative",children:[d&&s&&c.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-background to-transparent z-10 pointer-events-none flex items-start justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsx("div",{ref:o,onScroll:h,className:"space-y-1 border-l-2 border-muted pl-1 overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",style:d?{maxHeight:`${p}px`}:void 0,children:e.map(g=>c.jsx(FS,{sub:g,isActive:g.id===t,onSelect:()=>n(g.id),onStop:r,onArchive:i,onRename:l},g.id))}),d&&u&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-background to-transparent z-10 pointer-events-none flex items-end justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),d&&c.jsxs("div",{className:"text-[10px] text-muted-foreground text-center mt-1",children:[e.length," sub-threads"]})]})}function FS({sub:e,isActive:t,onSelect:n,onStop:r,onArchive:i,onRename:l}){const o=Qu[e.status],s=Ku[e.model]||qu,[a,u]=N.useState(!1),[f,d]=N.useState(e.title),p=N.useRef(null),h=w=>{w.stopPropagation(),d(e.title),u(!0)},g=async()=>{const w=f.trim();if(w&&w!==e.title)try{await l(e.id,w)}catch{d(e.title)}else d(e.title);u(!1)},v=w=>{w.key==="Enter"?(w.preventDefault(),g()):w.key==="Escape"&&(w.preventDefault(),d(e.title),u(!1))};return N.useEffect(()=>{a&&p.current&&(p.current.focus(),p.current.select())},[a]),c.jsxs("div",{className:"flex items-center group",children:[c.jsxs("button",{onClick:n,onDoubleClick:h,className:`flex-1 min-w-0 text-left px-2 py-1.5 rounded flex items-center gap-1.5
                    ${t?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select sub-thread: ${e.title}, status: ${o.label}`,children:[c.jsx(Qm,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[a?c.jsx("input",{ref:p,type:"text",value:f,onChange:w=>d(w.target.value),onBlur:g,onKeyDown:v,onClick:w=>w.stopPropagation(),className:"w-full text-xs bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-xs",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${s.color}`,title:s.full,children:s.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,title:e.extendedThinking?"Extended thinking enabled":"Extended thinking disabled",children:"Thinking"}),c.jsx(Km,{mode:e.permissionMode}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[50px]",title:e.gitBranch,children:e.gitBranch}),e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"WT"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),e.status==="pending"&&c.jsx("button",{onClick:w=>{w.stopPropagation(),r(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),c.jsx("button",{onClick:w=>{w.stopPropagation(),i(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]})}function cf({thread:e,onUnarchive:t,onSelect:n,isActive:r,isSubThread:i}){const l=Ku[e.model]||qu;return c.jsxs("div",{className:`mb-1 group flex items-center ${i?"ml-4":""}`,children:[c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:n,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2 opacity-60 hover:opacity-100
                    ${r?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select archived ${i?"sub-":""}thread: ${e.title}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}):c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[c.jsx("span",{className:"block truncate text-sm max-w-[160px]",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5 flex-wrap",children:[c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${l.color}`,title:l.full,children:l.short}),c.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded bg-muted ${e.extendedThinking?"text-amber-600 dark:text-amber-400":"text-muted-foreground/50 line-through"}`,children:"Thinking"}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground truncate max-w-[50px]",title:e.gitBranch,children:e.gitBranch}),i&&c.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:"Sub"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),c.jsx("button",{onClick:o=>{o.stopPropagation(),t(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Restore thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})}const OS=[{value:"claude-opus-4-5",label:"Opus 4.5",desc:"Most intelligent"},{value:"claude-sonnet-4-5",label:"Sonnet 4.5",desc:"Fast & capable"},{value:"claude-haiku-4-5",label:"Haiku 4.5",desc:"Quick & light"}],$S=[{value:"plan",label:"Plan Mode",desc:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-accept file changes"},{value:"default",label:"Normal",desc:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass All",desc:"Skip permission prompts",warning:!0}];function WS(){const{isSettingsOpen:e,closeSettings:t,defaultModel:n,defaultPermissionMode:r,defaultExtendedThinking:i,defaultAutoReact:l,showArchivedByDefault:o,experimentalAllowNestedSubthreads:s,experimentalMaxThreadDepth:a,updateSettings:u,resetToDefaults:f}=St(),d=N.useRef(null),[p,h]=N.useState(!1);return N.useEffect(()=>{e&&(h(!0),requestAnimationFrame(()=>h(!1)))},[e]),N.useEffect(()=>{if(!e)return;const g=v=>v.key==="Escape"&&t();return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e,t]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:g=>g.target===g.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),c.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-label":"Settings",className:`
          relative bg-background/95 backdrop-blur-xl border border-border/50
          rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden
          transform transition-all duration-200 ease-out
          ${p?"scale-95 opacity-0":"scale-100 opacity-100"}
        `,children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Settings"}),c.jsxs("kbd",{className:`hidden sm:inline-flex items-center gap-1 px-2 py-0.5
                           text-[10px] font-medium text-muted-foreground
                           bg-muted/50 rounded-md border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),","]})]}),c.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-muted-foreground hover:text-foreground
                       hover:bg-muted/50 transition-colors`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"px-6 py-5 space-y-6 max-h-[60vh] overflow-y-auto",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Thread Defaults"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 space-y-4 border border-border/30",children:[c.jsx(ks,{label:"Default Model",description:"For new threads",children:c.jsx(df,{value:n,options:OS,onChange:g=>u({defaultModel:g})})}),c.jsx(ks,{label:"Permission Mode",description:"How Claude asks for approval",children:c.jsx(df,{value:r,options:$S,onChange:g=>u({defaultPermissionMode:g}),warning:r==="bypassPermissions"})}),c.jsxs("div",{className:"border-t border-border/30 pt-4 space-y-3",children:[c.jsx(ol,{label:"Extended Thinking",description:"Enable deep reasoning",enabled:i,onChange:g=>u({defaultExtendedThinking:g})}),c.jsx(ol,{label:"Auto-React",description:"Respond to sub-thread completions",enabled:l,onChange:g=>u({defaultAutoReact:g})})]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Display"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(HS,{}),c.jsx("div",{className:"border-t border-border/30 pt-4",children:c.jsx(ol,{label:"Show Archived",description:"Display archived threads by default",enabled:o,onChange:g=>u({showArchivedByDefault:g})})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Keyboard Shortcuts"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 border border-border/30 space-y-2",children:[c.jsx(Qr,{keys:["&#8984;","K"],description:"Command palette"}),c.jsx(Qr,{keys:["&#8984;",","],description:"Open settings"}),c.jsx(Qr,{keys:["Shift","Enter"],description:"Cycle permission mode"}),c.jsx(Qr,{keys:["Esc"],description:"Stop running thread"}),c.jsx(Qr,{keys:["Esc"],description:"Close modals/settings"})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Experimental"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(ol,{label:"Nested Sub-threads",description:"Allow sub-threads to spawn their own sub-threads",enabled:s,onChange:g=>u({experimentalAllowNestedSubthreads:g})}),s&&c.jsx(ks,{label:"Max Depth",description:"Maximum nesting level (2-5)",children:c.jsx("input",{type:"number",min:2,max:5,value:a,onChange:g=>u({experimentalMaxThreadDepth:Math.min(5,Math.max(2,parseInt(g.target.value)||3))}),className:`w-16 px-2 py-1 rounded border border-border bg-background text-sm
                               focus:outline-none focus:ring-2 focus:ring-primary`})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Info"}),c.jsx("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:"Worktrees"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Sub-threads use isolated git worktrees"})]}),c.jsx("code",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:".mainthread/worktrees/"})]})})]})]}),c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border/50 bg-muted/20",children:[c.jsx("button",{onClick:f,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Reset to Defaults"}),c.jsx("button",{onClick:t,className:`px-4 py-2 bg-primary text-primary-foreground text-sm font-medium
                       rounded-lg hover:bg-primary/90 transition-colors`,children:"Done"})]})]})]}):null}function ks({label:e,description:t,children:n}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),n]})}function ol({label:e,description:t,enabled:n,onChange:r}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),c.jsx("button",{role:"switch","aria-checked":n,onClick:()=>r(!n),className:`
          relative w-11 h-6 rounded-full transition-colors duration-200
          ${n?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
          absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm
          transition-transform duration-200 ${n?"translate-x-5":""}
        `})})]})}function Qr({keys:e,description:t}){return c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:t}),c.jsx("div",{className:"flex items-center gap-1",children:e.map((n,r)=>c.jsxs("span",{children:[c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-background border border-border/50 rounded",dangerouslySetInnerHTML:{__html:n}}),r<e.length-1&&c.jsx("span",{className:"text-muted-foreground mx-0.5",children:"+"})]},r))})]})}function HS(){const e=St(r=>r.theme),t=St(r=>r.updateSettings),n=[{value:"light",label:"Light",icon:""},{value:"dark",label:"Dark",icon:""},{value:"system",label:"System",icon:""}];return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:"Theme"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Light, dark, or system"})]}),c.jsx("div",{className:"flex gap-1 bg-background/50 rounded-lg p-1 border border-border/30",children:n.map(r=>c.jsx("button",{onClick:()=>t({theme:r.value}),className:`
              px-3 py-1.5 text-sm rounded-md transition-colors
              ${e===r.value?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
            `,children:r.label},r.value))})]})}function df({value:e,options:t,onChange:n,warning:r}){const[i,l]=N.useState(!1),o=t.find(s=>s.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>l(!i),className:`
          flex items-center justify-between gap-2 w-40 px-3 py-1.5 text-sm
          rounded-lg border transition-colors text-left
          ${r?"border-red-500/50 bg-red-500/10 text-red-400":"border-border/50 bg-background/50 hover:bg-muted/50"}
        `,children:[c.jsx("span",{className:"truncate",children:o==null?void 0:o.label}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),c.jsx("div",{className:`absolute right-0 mt-1 w-56 bg-background border border-border
                          rounded-lg shadow-lg z-20 py-1 overflow-hidden`,children:t.map(s=>c.jsxs("button",{onClick:()=>{n(s.value),l(!1)},className:`
                  w-full px-3 py-2 text-left hover:bg-muted/50 transition-colors
                  ${s.value===e?"bg-muted/30":""}
                  ${s.warning?"text-red-400":""}
                `,children:[c.jsx("div",{className:"text-sm font-medium",children:s.label}),c.jsx("div",{className:"text-xs text-muted-foreground",children:s.desc})]},s.value))})]})]})}function US(){const{isCommandPaletteOpen:e,closeCommandPalette:t,openSettings:n,openCreateThreadModal:r}=St(),{activeThreadId:i,threads:l,stopThread:o,clearThreadMessages:s}=Z(),[a,u]=N.useState(""),[f,d]=N.useState(0),p=N.useRef(null),h=N.useRef(null),g=l.find(b=>b.id===i),v=(g==null?void 0:g.status)==="pending",w=l.filter(b=>b.parentId&&b.status==="pending"),m=w.length>0,x=N.useMemo(()=>[{id:"new-thread",label:"New Thread",shortcut:"N",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})}),action:()=>{t(),r()}},{id:"settings",label:"Settings",shortcut:",",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),action:()=>{t(),n()}},{id:"stop-thread",label:v?"Stop Thread":"Stop Thread (not running)",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),action:()=>{i&&v&&o(i),t()}},{id:"clear-messages",label:"Clear Messages",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:()=>{i&&s(i),t()}},{id:"stop-all-subthreads",label:m?`Stop All Subthreads (${w.length} running)`:"Stop All Subthreads (none running)",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),danger:!0,action:async()=>{m&&await Promise.all(w.map(b=>o(b.id))),t()}}],[i,v,m,w,t,n,r,o,s]),y=N.useMemo(()=>{if(!a.trim())return x;const b=a.toLowerCase();return x.filter(L=>L.label.toLowerCase().includes(b)||L.id.toLowerCase().includes(b))},[x,a]);return N.useEffect(()=>{d(0)},[a]),N.useEffect(()=>{e&&(u(""),d(0),setTimeout(()=>{var b;return(b=p.current)==null?void 0:b.focus()},0))},[e]),N.useEffect(()=>{if(!e)return;const b=L=>{switch(L.key){case"ArrowDown":L.preventDefault(),d(C=>Math.min(C+1,y.length-1));break;case"ArrowUp":L.preventDefault(),d(C=>Math.max(C-1,0));break;case"Enter":L.preventDefault(),y[f]&&y[f].action();break;case"Escape":L.preventDefault(),t();break}};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[e,f,y,t]),N.useEffect(()=>{var L;if(!h.current)return;(L=h.current.querySelectorAll("[data-command]")[f])==null||L.scrollIntoView({block:"nearest"})},[f]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh]",onClick:b=>b.target===b.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs("div",{className:`relative bg-background/95 backdrop-blur-xl border border-border/50
                      rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden`,children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border/50",children:[c.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{ref:p,type:"text",value:a,onChange:b=>u(b.target.value),placeholder:"Type a command...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground"}),c.jsx("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                          bg-muted/50 rounded border border-border/50`,children:"esc"})]}),c.jsx("div",{ref:h,className:"max-h-[300px] overflow-y-auto py-2",children:y.length===0?c.jsx("div",{className:"px-4 py-6 text-center text-sm text-muted-foreground",children:"No commands found"}):y.map((b,L)=>c.jsxs("button",{"data-command":b.id,onClick:b.action,onMouseEnter:()=>d(L),className:`
                  w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors
                  ${L===f?"bg-muted/50":"hover:bg-muted/30"}
                  ${b.id==="stop-thread"&&!v?"opacity-50":""}
                  ${b.id==="stop-all-subthreads"&&!m?"opacity-50":""}
                  ${b.danger?"text-red-400":""}
                `,children:[c.jsx("span",{className:"text-muted-foreground",children:b.icon}),c.jsx("span",{className:"flex-1 text-sm",children:b.label}),b.shortcut&&c.jsxs("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                                  bg-muted/50 rounded border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),b.shortcut]})]},b.id))}),c.jsx("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/20",children:c.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"navigate"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"select"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:"esc"}),"close"]})]})})]})]}):null}const ff="mainthread_welcome_shown";function VS(){const[e,t]=N.useState(!1);N.useEffect(()=>{try{localStorage.getItem(ff)||t(!0)}catch{t(!0)}},[]);const n=N.useCallback(()=>{try{localStorage.setItem(ff,"true")}catch{}t(!1)},[]);return N.useEffect(()=>{if(!e)return;const r=i=>{i.key==="Escape"&&n()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,n]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-title",children:c.jsxs("div",{className:"bg-background border border-border rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[c.jsxs("div",{className:"relative px-8 pt-10 pb-6 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 text-white",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2220%22 height=%2220%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath d=%22M0 0h20v20H0z%22 fill=%22none%22/%3E%3Ccircle cx=%221%22 cy=%221%22 r=%221%22 fill=%22rgba(255,255,255,0.1)%22/%3E%3C/svg%3E')] opacity-50"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("h1",{id:"welcome-title",className:"text-2xl font-bold",children:"Welcome to MainThread"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Multi-threaded AI conversations"})]})]}),c.jsxs("div",{className:"px-8 py-6 space-y-4",children:[c.jsx("p",{className:"text-foreground leading-relaxed",children:"MainThread helps you manage all your Claude agent conversations in one place."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Spawn Parallel Agents"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Agents can spawn other agents to work on tasks in parallel"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Visual Thread Management"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Jump into any conversation at any time with an intuitive interface"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsxs("svg",{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Full Visibility"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"See agent thinking, tool usage, and real-time progress"})]})]})]})]}),c.jsx("div",{className:"px-8 pb-8",children:c.jsx("button",{onClick:n,autoFocus:!0,className:`w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700
                       text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`,children:"Get Started"})})]})}):null}function QS(){const e=St(t=>t.theme);N.useEffect(()=>{const t=()=>{const n=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(t(),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",t),()=>n.removeEventListener("change",t)}},[e])}const ws=200,bs=500,KS=288,pf="mainthread-sidebar-width";function qS(){const e=Z(l=>l.activeThreadId),t=Z(l=>l.threads),n=Z(l=>l.setActiveThread),r=N.useRef(!1),i=N.useRef(!1);N.useEffect(()=>{if(i.current||t.length===0)return;i.current=!0;const l=window.location.pathname.slice(1)||null;l&&(t.some(s=>s.id===l)?(r.current=!0,n(l)):window.history.replaceState({},"","/"))},[t,n]),N.useEffect(()=>{if(r.current){r.current=!1;return}const l=window.location.pathname.slice(1)||null;if(e!==l){const o=e?`/${e}`:"/";window.history.pushState({},"",o)}},[e]),N.useEffect(()=>{const l=()=>{const o=window.location.pathname.slice(1)||null,s=Z.getState().threads;if(o)s.some(u=>u.id===o)&&(r.current=!0,n(o));else{const a=s.find(u=>!u.parentId)||s[0];a&&(r.current=!0,n(a.id))}};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[n])}function GS(){const{fetchThreads:e,activeThreadId:t,createThread:n,setActiveThread:r,setShowArchived:i}=Z(),{toggleSettings:l,showArchivedByDefault:o,toggleCommandPalette:s}=St();QS(),qS();const a=N.useRef(!1),u=N.useRef(0),[f,d]=N.useState(()=>{const m=localStorage.getItem(pf);return m?Math.min(Math.max(parseInt(m,10),ws),bs):KS}),[p,h]=N.useState(!1),g=N.useRef(null),v=N.useCallback(m=>{m.preventDefault(),h(!0),g.current={startX:m.clientX,startWidth:f}},[f]);N.useEffect(()=>{if(!p)return;const m=y=>{if(!g.current)return;const b=g.current.startX-y.clientX,L=Math.min(Math.max(g.current.startWidth+b,ws),bs);d(L)},x=y=>{if(g.current){const b=g.current.startX-y.clientX,L=Math.min(Math.max(g.current.startWidth+b,ws),bs);localStorage.setItem(pf,String(L))}h(!1),g.current=null};return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[p]);const w=N.useCallback(m=>{const x=Date.now();x-u.current<5e3||(u.current=x,e(m))},[e]);return N.useEffect(()=>{if(a.current)return;a.current=!0,(async()=>{u.current=Date.now(),await e(!0);const x=Z.getState(),y=x.threads;if(y.length===0)try{const b=await n({title:"Main Thread",workDir:void 0});r(b.id)}catch(b){console.error("Failed to create default thread:",b)}else if(!x.activeThreadId){const b=y.find(L=>!L.parentId)||y[0];r(b.id)}})()},[]),N.useEffect(()=>{const m=()=>{document.visibilityState==="visible"&&w(!0)};return document.addEventListener("visibilitychange",m),()=>document.removeEventListener("visibilitychange",m)},[w]),N.useEffect(()=>{const m=setInterval(()=>{document.visibilityState==="visible"&&w(!0)},6e4);return()=>clearInterval(m)},[w]),N.useEffect(()=>{i(o)},[]),N.useEffect(()=>{const m=x=>{(x.metaKey||x.ctrlKey)&&x.key===","?(x.preventDefault(),l()):(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),s())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[l,s]),c.jsxs("div",{className:`flex h-screen bg-background overflow-hidden ${p?"select-none":""}`,children:[c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[c.jsxs("header",{className:"border-b border-border px-6 py-4 flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-semibold",children:"MainThread"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t?`Thread: ${t}`:"Main conversation"})]}),c.jsx(DS,{})]}),c.jsx("div",{className:`w-1 cursor-col-resize hover:bg-primary/30 transition-colors flex-shrink-0 ${p?"bg-primary/50":"bg-transparent"}`,onMouseDown:v,role:"separator","aria-orientation":"vertical","aria-label":"Resize sidebar"}),c.jsx("div",{style:{width:f},className:"flex-shrink-0",children:c.jsx(zS,{})}),c.jsx(WS,{}),c.jsx(US,{}),c.jsx(VS,{})]})}Ss.createRoot(document.getElementById("root")).render(c.jsx(jf.StrictMode,{children:c.jsx(GS,{})}));
