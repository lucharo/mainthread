(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uf={exports:{}},ql={},cf={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),$m=Symbol.for("react.portal"),Um=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Gm=Symbol.for("react.memo"),Xm=Symbol.for("react.lazy"),Vu=Symbol.iterator;function Ym(e){return e===null||typeof e!="object"?null:(e=Vu&&e[Vu]||e["@@iterator"],typeof e=="function"?e:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ff=Object.assign,pf={};function wr(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hf(){}hf.prototype=wr.prototype;function Ca(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}var ja=Ca.prototype=new hf;ja.constructor=Ca;ff(ja,wr.prototype);ja.isPureReactComponent=!0;var Qu=Array.isArray,mf=Object.prototype.hasOwnProperty,Ea={current:null},gf={key:!0,ref:!0,__self:!0,__source:!0};function xf(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)mf.call(t,r)&&!gf.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Si,type:e,key:l,ref:o,props:i,_owner:Ea.current}}function Jm(e,t){return{$$typeof:Si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Na(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function Zm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ku=/\/+/g;function ko(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zm(""+e.key):t.toString(36)}function rl(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Si:case $m:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ko(o,0):r,Qu(i)?(n="",e!=null&&(n=e.replace(Ku,"$&/")+"/"),rl(i,t,n,"",function(u){return u})):i!=null&&(Na(i)&&(i=Jm(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ku,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Qu(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+ko(l,s);o+=rl(l,t,n,a,i)}else if(a=Ym(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+ko(l,s++),o+=rl(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Di(e,t,n){if(e==null)return e;var r=[],i=0;return rl(e,r,"","",function(l){return t.call(n,l,i++)}),r}function eg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},il={transition:null},tg={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:il,ReactCurrentOwner:Ea};function yf(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Di,forEach:function(e,t,n){Di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Di(e,function(){t++}),t},toArray:function(e){return Di(e,function(t){return t})||[]},only:function(e){if(!Na(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=wr;te.Fragment=Um;te.Profiler=Wm;te.PureComponent=Ca;te.StrictMode=Hm;te.Suspense=qm;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tg;te.act=yf;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ff({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Ea.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)mf.call(t,a)&&!gf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Si,type:e.type,key:i,ref:l,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:Qm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vm,_context:e},e.Consumer=e};te.createElement=xf;te.createFactory=function(e){var t=xf.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Km,render:e}};te.isValidElement=Na;te.lazy=function(e){return{$$typeof:Xm,_payload:{_status:-1,_result:e},_init:eg}};te.memo=function(e,t){return{$$typeof:Gm,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=il.transition;il.transition={};try{e()}finally{il.transition=t}};te.unstable_act=yf;te.useCallback=function(e,t){return Ge.current.useCallback(e,t)};te.useContext=function(e){return Ge.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};te.useEffect=function(e,t){return Ge.current.useEffect(e,t)};te.useId=function(){return Ge.current.useId()};te.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ge.current.useMemo(e,t)};te.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};te.useRef=function(e){return Ge.current.useRef(e)};te.useState=function(e){return Ge.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return Ge.current.useTransition()};te.version="18.3.1";cf.exports=te;var T=cf.exports;const vf=Kl(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=T,rg=Symbol.for("react.element"),ig=Symbol.for("react.fragment"),lg=Object.prototype.hasOwnProperty,og=ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sg={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)lg.call(t,r)&&!sg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:rg,type:e,key:l,ref:o,props:i,_owner:og.current}}ql.Fragment=ig;ql.jsx=kf;ql.jsxs=kf;uf.exports=ql;var c=uf.exports,xs={},wf={exports:{}},ht={},bf={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,B){var k=N.length;N.push(B);e:for(;0<k;){var X=k-1>>>1,U=N[X];if(0<i(U,B))N[X]=B,N[k]=U,k=X;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],k=N.pop();if(k!==B){N[0]=k;e:for(var X=0,U=N.length,b=U>>>1;X<b;){var fe=2*(X+1)-1,Se=N[fe],re=fe+1,Ce=N[re];if(0>i(Se,k))re<U&&0>i(Ce,Se)?(N[X]=Ce,N[re]=k,X=re):(N[X]=Se,N[fe]=k,X=fe);else if(re<U&&0>i(Ce,k))N[X]=Ce,N[re]=k,X=re;else break e}}return B}function i(N,B){var k=N.sortIndex-B.sortIndex;return k!==0?k:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(u)}}function C(N){if(v=!1,y(N),!g)if(n(a)!==null)g=!0,se(L);else{var B=n(u);B!==null&&ne(C,B.startTime-N)}}function L(N,B){g=!1,v&&(v=!1,m(_),_=-1),p=!0;var k=h;try{for(y(B),d=n(a);d!==null&&(!(d.expirationTime>B)||N&&!F());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var U=X(d.expirationTime<=B);B=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(a)&&r(a),y(B)}else r(a);d=n(a)}if(d!==null)var b=!0;else{var fe=n(u);fe!==null&&ne(C,fe.startTime-B),b=!1}return b}finally{d=null,h=k,p=!1}}var j=!1,P=null,_=-1,A=5,w=-1;function F(){return!(e.unstable_now()-w<A)}function O(){if(P!==null){var N=e.unstable_now();w=N;var B=!0;try{B=P(!0,N)}finally{B?K():(j=!1,P=null)}}else j=!1}var K;if(typeof x=="function")K=function(){x(O)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=O,K=function(){$.postMessage(null)}}else K=function(){E(O,0)};function se(N){P=N,j||(j=!0,K())}function ne(N,B){_=E(function(){N(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,se(L))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var k=h;h=B;try{return N()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=h;h=N;try{return B()}finally{h=k}},e.unstable_scheduleCallback=function(N,B,k){var X=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?X+k:X):k=X,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=k+U,N={id:f++,callback:B,priorityLevel:N,startTime:k,expirationTime:U,sortIndex:-1},k>X?(N.sortIndex=k,t(u,N),n(a)===null&&N===n(u)&&(v?(m(_),_=-1):v=!0,ne(C,k-X))):(N.sortIndex=U,t(a,N),g||p||(g=!0,se(L))),N},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(N){var B=h;return function(){var k=h;h=B;try{return N.apply(this,arguments)}finally{h=k}}}})(Sf);bf.exports=Sf;var ag=bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug=T,pt=ag;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cf=new Set,ri={};function On(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(ri[e]=t,e=0;e<t.length;e++)Cf.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=Object.prototype.hasOwnProperty,cg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qu={},Gu={};function dg(e){return ys.call(Gu,e)?!0:ys.call(qu,e)?!1:cg.test(e)?Gu[e]=!0:(qu[e]=!0,!1)}function fg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pg(e,t,n,r){if(t===null||typeof t>"u"||fg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ta=/[\-:]([a-z])/g;function La(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ta,La);Re[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ta,La);Re[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ta,La);Re[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pa(e,t,n,r){var i=Re.hasOwnProperty(t)?Re[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pg(t,n,i,r)&&(n=null),r||i===null?dg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zt=ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),_a=Symbol.for("react.strict_mode"),vs=Symbol.for("react.profiler"),jf=Symbol.for("react.provider"),Ef=Symbol.for("react.context"),Ma=Symbol.for("react.forward_ref"),ks=Symbol.for("react.suspense"),ws=Symbol.for("react.suspense_list"),Ia=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Nf=Symbol.for("react.offscreen"),Xu=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=Xu&&e[Xu]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,wo;function $r(e){if(wo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wo=t&&t[1]||""}return`
`+wo+e}var bo=!1;function So(e,t){if(!e||bo)return"";bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$r(e):""}function hg(e){switch(e.tag){case 5:return $r(e.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 2:case 15:return e=So(e.type,!1),e;case 11:return e=So(e.type.render,!1),e;case 1:return e=So(e.type,!0),e;default:return""}}function bs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Kn:return"Portal";case vs:return"Profiler";case _a:return"StrictMode";case ks:return"Suspense";case ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ef:return(e.displayName||"Context")+".Consumer";case jf:return(e._context.displayName||"Context")+".Provider";case Ma:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ia:return t=e.displayName||null,t!==null?t:bs(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return bs(e(t))}catch{}}return null}function mg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bs(t);case 8:return t===_a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gg(e){var t=Tf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){e._valueTracker||(e._valueTracker=gg(e))}function Lf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ss(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pf(e,t){t=t.checked,t!=null&&Pa(e,"checked",t,!1)}function Cs(e,t){Pf(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?js(e,t.type,n):t.hasOwnProperty("defaultValue")&&js(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ju(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function js(e,t,n){(t!=="number"||yl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ur=Array.isArray;function lr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Es(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Ur(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function _f(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ns(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,If=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xg=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(e){xg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vr[t]=Vr[e]})});function Df(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vr.hasOwnProperty(e)&&Vr[e]?(""+t).trim():t+"px"}function Af(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Df(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yg=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ts(e,t){if(t){if(yg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function Da(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,or=null,sr=null;function tc(e){if(e=Ei(e)){if(typeof _s!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Zl(t),_s(e.stateNode,e.type,t))}}function zf(e){or?sr?sr.push(e):sr=[e]:or=e}function Rf(){if(or){var e=or,t=sr;if(sr=or=null,tc(e),t)for(e=0;e<t.length;e++)tc(t[e])}}function Ff(e,t){return e(t)}function Bf(){}var Co=!1;function Of(e,t,n){if(Co)return e(t,n);Co=!0;try{return Ff(e,t,n)}finally{Co=!1,(or!==null||sr!==null)&&(Bf(),Rf())}}function li(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Ms=!1;if(Gt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Ms=!1}function vg(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Qr=!1,vl=null,kl=!1,Is=null,kg={onError:function(e){Qr=!0,vl=e}};function wg(e,t,n,r,i,l,o,s,a){Qr=!1,vl=null,vg.apply(kg,arguments)}function bg(e,t,n,r,i,l,o,s,a){if(wg.apply(this,arguments),Qr){if(Qr){var u=vl;Qr=!1,vl=null}else throw Error(z(198));kl||(kl=!0,Is=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nc(e){if($n(e)!==e)throw Error(z(188))}function Sg(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return nc(i),e;if(l===r)return nc(i),t;l=l.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Uf(e){return e=Sg(e),e!==null?Hf(e):null}function Hf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hf(e);if(t!==null)return t;e=e.sibling}return null}var Wf=pt.unstable_scheduleCallback,rc=pt.unstable_cancelCallback,Cg=pt.unstable_shouldYield,jg=pt.unstable_requestPaint,je=pt.unstable_now,Eg=pt.unstable_getCurrentPriorityLevel,Aa=pt.unstable_ImmediatePriority,Vf=pt.unstable_UserBlockingPriority,wl=pt.unstable_NormalPriority,Ng=pt.unstable_LowPriority,Qf=pt.unstable_IdlePriority,Gl=null,Ft=null;function Tg(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:_g,Lg=Math.log,Pg=Math.LN2;function _g(e){return e>>>=0,e===0?32:31-(Lg(e)/Pg|0)|0}var Fi=64,Bi=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Hr(s):(l&=o,l!==0&&(r=Hr(l)))}else o=n&~i,o!==0?r=Hr(o):l!==0&&(r=Hr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),i=1<<n,r|=e[n],t&=~i;return r}function Mg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ig(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Pt(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=Mg(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function Ds(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kf(){var e=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),e}function jo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Dg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function za(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ue=0;function qf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gf,Ra,Xf,Yf,Jf,As=!1,Oi=[],dn=null,fn=null,pn=null,oi=new Map,si=new Map,sn=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(t.pointerId)}}function _r(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Ei(t),t!==null&&Ra(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zg(e,t,n,r,i){switch(t){case"focusin":return dn=_r(dn,e,t,n,r,i),!0;case"dragenter":return fn=_r(fn,e,t,n,r,i),!0;case"mouseover":return pn=_r(pn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return oi.set(l,_r(oi.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,si.set(l,_r(si.get(l)||null,e,t,n,r,i)),!0}return!1}function Zf(e){var t=Ln(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=$f(n),t!==null){e.blockedOn=t,Jf(e.priority,function(){Xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ps=r,n.target.dispatchEvent(r),Ps=null}else return t=Ei(n),t!==null&&Ra(t),e.blockedOn=n,!1;t.shift()}return!0}function lc(e,t,n){ll(e)&&n.delete(t)}function Rg(){As=!1,dn!==null&&ll(dn)&&(dn=null),fn!==null&&ll(fn)&&(fn=null),pn!==null&&ll(pn)&&(pn=null),oi.forEach(lc),si.forEach(lc)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,As||(As=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,Rg)))}function ai(e){function t(i){return Mr(i,e)}if(0<Oi.length){Mr(Oi[0],e);for(var n=1;n<Oi.length;n++){var r=Oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Mr(dn,e),fn!==null&&Mr(fn,e),pn!==null&&Mr(pn,e),oi.forEach(t),si.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Zf(n),n.blockedOn===null&&sn.shift()}var ar=Zt.ReactCurrentBatchConfig,Sl=!0;function Fg(e,t,n,r){var i=ue,l=ar.transition;ar.transition=null;try{ue=1,Fa(e,t,n,r)}finally{ue=i,ar.transition=l}}function Bg(e,t,n,r){var i=ue,l=ar.transition;ar.transition=null;try{ue=4,Fa(e,t,n,r)}finally{ue=i,ar.transition=l}}function Fa(e,t,n,r){if(Sl){var i=zs(e,t,n,r);if(i===null)Ao(e,t,r,Cl,n),ic(e,r);else if(zg(i,e,t,n,r))r.stopPropagation();else if(ic(e,r),t&4&&-1<Ag.indexOf(e)){for(;i!==null;){var l=Ei(i);if(l!==null&&Gf(l),l=zs(e,t,n,r),l===null&&Ao(e,t,r,Cl,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Ao(e,t,r,null,n)}}var Cl=null;function zs(e,t,n,r){if(Cl=null,e=Da(r),e=Ln(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function ep(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eg()){case Aa:return 1;case Vf:return 4;case wl:case Ng:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var un=null,Ba=null,ol=null;function tp(){if(ol)return ol;var e,t=Ba,n=t.length,r,i="value"in un?un.value:un.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return ol=i.slice(e,1<r?1-r:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function oc(){return!1}function mt(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?$i:oc,this.isPropagationStopped=oc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=mt(br),ji=we({},br,{view:0,detail:0}),Og=mt(ji),Eo,No,Ir,Xl=we({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Eo=e.screenX-Ir.screenX,No=e.screenY-Ir.screenY):No=Eo=0,Ir=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:No}}),sc=mt(Xl),$g=we({},Xl,{dataTransfer:0}),Ug=mt($g),Hg=we({},ji,{relatedTarget:0}),To=mt(Hg),Wg=we({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Vg=mt(Wg),Qg=we({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kg=mt(Qg),qg=we({},br,{data:0}),ac=mt(qg),Gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yg[e])?!!t[e]:!1}function $a(){return Jg}var Zg=we({},ji,{key:function(e){if(e.key){var t=Gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e0=mt(Zg),t0=we({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=mt(t0),n0=we({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),r0=mt(n0),i0=we({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=mt(i0),o0=we({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=mt(o0),a0=[9,13,27,32],Ua=Gt&&"CompositionEvent"in window,Kr=null;Gt&&"documentMode"in document&&(Kr=document.documentMode);var u0=Gt&&"TextEvent"in window&&!Kr,np=Gt&&(!Ua||Kr&&8<Kr&&11>=Kr),cc=" ",dc=!1;function rp(e,t){switch(e){case"keyup":return a0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function c0(e,t){switch(e){case"compositionend":return ip(t);case"keypress":return t.which!==32?null:(dc=!0,cc);case"textInput":return e=t.data,e===cc&&dc?null:e;default:return null}}function d0(e,t){if(Gn)return e==="compositionend"||!Ua&&rp(e,t)?(e=tp(),ol=Ba=un=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return np&&t.locale!=="ko"?null:t.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f0[e.type]:t==="textarea"}function lp(e,t,n,r){zf(r),t=jl(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,ui=null;function p0(e){gp(e,0)}function Yl(e){var t=Jn(e);if(Lf(t))return e}function h0(e,t){if(e==="change")return t}var op=!1;if(Gt){var Lo;if(Gt){var Po="oninput"in document;if(!Po){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),Po=typeof pc.oninput=="function"}Lo=Po}else Lo=!1;op=Lo&&(!document.documentMode||9<document.documentMode)}function hc(){qr&&(qr.detachEvent("onpropertychange",sp),ui=qr=null)}function sp(e){if(e.propertyName==="value"&&Yl(ui)){var t=[];lp(t,ui,e,Da(e)),Of(p0,t)}}function m0(e,t,n){e==="focusin"?(hc(),qr=t,ui=n,qr.attachEvent("onpropertychange",sp)):e==="focusout"&&hc()}function g0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(ui)}function x0(e,t){if(e==="click")return Yl(t)}function y0(e,t){if(e==="input"||e==="change")return Yl(t)}function v0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:v0;function ci(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ys.call(t,i)||!It(e[i],t[i]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var n=mc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mc(n)}}function ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function up(){for(var e=window,t=yl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yl(e.document)}return t}function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k0(e){var t=up(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ap(n.ownerDocument.documentElement,n)){if(r!==null&&Ha(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=gc(n,l);var o=gc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w0=Gt&&"documentMode"in document&&11>=document.documentMode,Xn=null,Rs=null,Gr=null,Fs=!1;function xc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fs||Xn==null||Xn!==yl(r)||(r=Xn,"selectionStart"in r&&Ha(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&ci(Gr,r)||(Gr=r,r=jl(Rs,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function Ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},_o={},cp={};Gt&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function Jl(e){if(_o[e])return _o[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cp)return _o[e]=t[n];return e}var dp=Jl("animationend"),fp=Jl("animationiteration"),pp=Jl("animationstart"),hp=Jl("transitionend"),mp=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){mp.set(e,t),On(t,[e])}for(var Mo=0;Mo<yc.length;Mo++){var Io=yc[Mo],b0=Io.toLowerCase(),S0=Io[0].toUpperCase()+Io.slice(1);wn(b0,"on"+S0)}wn(dp,"onAnimationEnd");wn(fp,"onAnimationIteration");wn(pp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(hp,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function vc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bg(r,t,void 0,e),e.currentTarget=null}function gp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;vc(i,s,u),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;vc(i,s,u),l=a}}}if(kl)throw e=Is,kl=!1,Is=null,e}function me(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var r=e+"__bubble";n.has(r)||(xp(t,e,2,!1),n.add(r))}function Do(e,t,n){var r=0;t&&(r|=4),xp(n,e,r,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[Hi]){e[Hi]=!0,Cf.forEach(function(n){n!=="selectionchange"&&(C0.has(n)||Do(n,!1,e),Do(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,Do("selectionchange",!1,t))}}function xp(e,t,n,r){switch(ep(t)){case 1:var i=Fg;break;case 4:i=Bg;break;default:i=Fa}n=i.bind(null,t,n,e),i=void 0,!Ms||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ao(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ln(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Of(function(){var u=l,f=Da(n),d=[];e:{var h=mp.get(e);if(h!==void 0){var p=Oa,g=e;switch(e){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":p=e0;break;case"focusin":g="focus",p=To;break;case"focusout":g="blur",p=To;break;case"beforeblur":case"afterblur":p=To;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=r0;break;case dp:case fp:case pp:p=Vg;break;case hp:p=l0;break;case"scroll":p=Og;break;case"wheel":p=s0;break;case"copy":case"cut":case"paste":p=Kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uc}var v=(t&4)!==0,E=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,y;x!==null;){y=x;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,m!==null&&(C=li(x,m),C!=null&&v.push(fi(x,C,y)))),E)break;x=x.return}0<v.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ps&&(g=n.relatedTarget||n.fromElement)&&(Ln(g)||g[Xt]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ln(g):null,g!==null&&(E=$n(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=sc,C="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=uc,C="onPointerLeave",m="onPointerEnter",x="pointer"),E=p==null?h:Jn(p),y=g==null?h:Jn(g),h=new v(C,x+"leave",p,n,f),h.target=E,h.relatedTarget=y,C=null,Ln(f)===u&&(v=new v(m,x+"enter",g,n,f),v.target=y,v.relatedTarget=E,C=v),E=C,p&&g)t:{for(v=p,m=g,x=0,y=v;y;y=Wn(y))x++;for(y=0,C=m;C;C=Wn(C))y++;for(;0<x-y;)v=Wn(v),x--;for(;0<y-x;)m=Wn(m),y--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=Wn(v),m=Wn(m)}v=null}else v=null;p!==null&&kc(d,h,p,v,!1),g!==null&&E!==null&&kc(d,E,g,v,!0)}}e:{if(h=u?Jn(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var L=h0;else if(fc(h))if(op)L=y0;else{L=g0;var j=m0}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(L=x0);if(L&&(L=L(e,u))){lp(d,L,n,f);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&js(h,"number",h.value)}switch(j=u?Jn(u):window,e){case"focusin":(fc(j)||j.contentEditable==="true")&&(Xn=j,Rs=u,Gr=null);break;case"focusout":Gr=Rs=Xn=null;break;case"mousedown":Fs=!0;break;case"contextmenu":case"mouseup":case"dragend":Fs=!1,xc(d,n,f);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":xc(d,n,f)}var P;if(Ua)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gn?rp(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(np&&n.locale!=="ko"&&(Gn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Gn&&(P=tp()):(un=f,Ba="value"in un?un.value:un.textContent,Gn=!0)),j=jl(u,_),0<j.length&&(_=new ac(_,e,null,n,f),d.push({event:_,listeners:j}),P?_.data=P:(P=ip(n),P!==null&&(_.data=P)))),(P=u0?c0(e,n):d0(e,n))&&(u=jl(u,"onBeforeInput"),0<u.length&&(f=new ac("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=P))}gp(d,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=li(e,n),l!=null&&r.unshift(fi(e,l,i)),l=li(e,t),l!=null&&r.push(fi(e,l,i))),e=e.return}return r}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kc(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=li(n,l),a!=null&&o.unshift(fi(n,a,s))):i||(a=li(n,l),a!=null&&o.push(fi(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var j0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(j0,`
`).replace(E0,"")}function Wi(e,t,n){if(t=wc(t),wc(e)!==t&&n)throw Error(z(425))}function El(){}var Bs=null,Os=null;function $s(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Us=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,bc=typeof Promise=="function"?Promise:void 0,T0=typeof queueMicrotask=="function"?queueMicrotask:typeof bc<"u"?function(e){return bc.resolve(null).then(e).catch(L0)}:Us;function L0(e){setTimeout(function(){throw e})}function zo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ai(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Sr,pi="__reactProps$"+Sr,Xt="__reactContainer$"+Sr,Hs="__reactEvents$"+Sr,P0="__reactListeners$"+Sr,_0="__reactHandles$"+Sr;function Ln(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sc(e);e!==null;){if(n=e[Rt])return n;e=Sc(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){return e=e[Rt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Zl(e){return e[pi]||null}var Ws=[],Zn=-1;function bn(e){return{current:e}}function ge(e){0>Zn||(e.current=Ws[Zn],Ws[Zn]=null,Zn--)}function he(e,t){Zn++,Ws[Zn]=e.current,e.current=t}var kn={},He=bn(kn),nt=bn(!1),Dn=kn;function pr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function Nl(){ge(nt),ge(He)}function Cc(e,t,n){if(He.current!==kn)throw Error(z(168));he(He,t),he(nt,n)}function yp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,mg(e)||"Unknown",i));return we({},n,r)}function Tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Dn=He.current,he(He,e),he(nt,nt.current),!0}function jc(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=yp(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,ge(nt),ge(He),he(He,e)):ge(nt),he(nt,n)}var Vt=null,eo=!1,Ro=!1;function vp(e){Vt===null?Vt=[e]:Vt.push(e)}function M0(e){eo=!0,vp(e)}function Sn(){if(!Ro&&Vt!==null){Ro=!0;var e=0,t=ue;try{var n=Vt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,eo=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),Wf(Aa,Sn),i}finally{ue=t,Ro=!1}}return null}var er=[],tr=0,Ll=null,Pl=0,yt=[],vt=0,An=null,Qt=1,Kt="";function En(e,t){er[tr++]=Pl,er[tr++]=Ll,Ll=e,Pl=t}function kp(e,t,n){yt[vt++]=Qt,yt[vt++]=Kt,yt[vt++]=An,An=e;var r=Qt;e=Kt;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var l=32-Pt(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qt=1<<32-Pt(t)+i|n<<i|r,Kt=l+e}else Qt=1<<l|n<<i|r,Kt=e}function Wa(e){e.return!==null&&(En(e,1),kp(e,1,0))}function Va(e){for(;e===Ll;)Ll=er[--tr],er[tr]=null,Pl=er[--tr],er[tr]=null;for(;e===An;)An=yt[--vt],yt[vt]=null,Kt=yt[--vt],yt[vt]=null,Qt=yt[--vt],yt[vt]=null}var dt=null,ct=null,xe=!1,Lt=null;function wp(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ct=null,!0):!1;default:return!1}}function Vs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qs(e){if(xe){var t=ct;if(t){var n=t;if(!Ec(e,t)){if(Vs(e))throw Error(z(418));t=hn(n.nextSibling);var r=dt;t&&Ec(e,t)?wp(r,n):(e.flags=e.flags&-4097|2,xe=!1,dt=e)}}else{if(Vs(e))throw Error(z(418));e.flags=e.flags&-4097|2,xe=!1,dt=e}}}function Nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Vi(e){if(e!==dt)return!1;if(!xe)return Nc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$s(e.type,e.memoizedProps)),t&&(t=ct)){if(Vs(e))throw bp(),Error(z(418));for(;t;)wp(e,t),t=hn(t.nextSibling)}if(Nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?hn(e.stateNode.nextSibling):null;return!0}function bp(){for(var e=ct;e;)e=hn(e.nextSibling)}function hr(){ct=dt=null,xe=!1}function Qa(e){Lt===null?Lt=[e]:Lt.push(e)}var I0=Zt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function Sp(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=yn(m,x),m.index=0,m.sibling=null,m}function l(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,x,y,C){return x===null||x.tag!==6?(x=Wo(y,m.mode,C),x.return=m,x):(x=i(x,y),x.return=m,x)}function a(m,x,y,C){var L=y.type;return L===qn?f(m,x,y.props.children,C,y.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ln&&Tc(L)===x.type)?(C=i(x,y.props),C.ref=Dr(m,x,y),C.return=m,C):(C=hl(y.type,y.key,y.props,null,m.mode,C),C.ref=Dr(m,x,y),C.return=m,C)}function u(m,x,y,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Vo(y,m.mode,C),x.return=m,x):(x=i(x,y.children||[]),x.return=m,x)}function f(m,x,y,C,L){return x===null||x.tag!==7?(x=In(y,m.mode,C,L),x.return=m,x):(x=i(x,y),x.return=m,x)}function d(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wo(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ai:return y=hl(x.type,x.key,x.props,null,m.mode,y),y.ref=Dr(m,null,x),y.return=m,y;case Kn:return x=Vo(x,m.mode,y),x.return=m,x;case ln:var C=x._init;return d(m,C(x._payload),y)}if(Ur(x)||Lr(x))return x=In(x,m.mode,y,null),x.return=m,x;Qi(m,x)}return null}function h(m,x,y,C){var L=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return L!==null?null:s(m,x,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ai:return y.key===L?a(m,x,y,C):null;case Kn:return y.key===L?u(m,x,y,C):null;case ln:return L=y._init,h(m,x,L(y._payload),C)}if(Ur(y)||Lr(y))return L!==null?null:f(m,x,y,C,null);Qi(m,y)}return null}function p(m,x,y,C,L){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(y)||null,s(x,m,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ai:return m=m.get(C.key===null?y:C.key)||null,a(x,m,C,L);case Kn:return m=m.get(C.key===null?y:C.key)||null,u(x,m,C,L);case ln:var j=C._init;return p(m,x,y,j(C._payload),L)}if(Ur(C)||Lr(C))return m=m.get(y)||null,f(x,m,C,L,null);Qi(x,C)}return null}function g(m,x,y,C){for(var L=null,j=null,P=x,_=x=0,A=null;P!==null&&_<y.length;_++){P.index>_?(A=P,P=null):A=P.sibling;var w=h(m,P,y[_],C);if(w===null){P===null&&(P=A);break}e&&P&&w.alternate===null&&t(m,P),x=l(w,x,_),j===null?L=w:j.sibling=w,j=w,P=A}if(_===y.length)return n(m,P),xe&&En(m,_),L;if(P===null){for(;_<y.length;_++)P=d(m,y[_],C),P!==null&&(x=l(P,x,_),j===null?L=P:j.sibling=P,j=P);return xe&&En(m,_),L}for(P=r(m,P);_<y.length;_++)A=p(P,m,_,y[_],C),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?_:A.key),x=l(A,x,_),j===null?L=A:j.sibling=A,j=A);return e&&P.forEach(function(F){return t(m,F)}),xe&&En(m,_),L}function v(m,x,y,C){var L=Lr(y);if(typeof L!="function")throw Error(z(150));if(y=L.call(y),y==null)throw Error(z(151));for(var j=L=null,P=x,_=x=0,A=null,w=y.next();P!==null&&!w.done;_++,w=y.next()){P.index>_?(A=P,P=null):A=P.sibling;var F=h(m,P,w.value,C);if(F===null){P===null&&(P=A);break}e&&P&&F.alternate===null&&t(m,P),x=l(F,x,_),j===null?L=F:j.sibling=F,j=F,P=A}if(w.done)return n(m,P),xe&&En(m,_),L;if(P===null){for(;!w.done;_++,w=y.next())w=d(m,w.value,C),w!==null&&(x=l(w,x,_),j===null?L=w:j.sibling=w,j=w);return xe&&En(m,_),L}for(P=r(m,P);!w.done;_++,w=y.next())w=p(P,m,_,w.value,C),w!==null&&(e&&w.alternate!==null&&P.delete(w.key===null?_:w.key),x=l(w,x,_),j===null?L=w:j.sibling=w,j=w);return e&&P.forEach(function(O){return t(m,O)}),xe&&En(m,_),L}function E(m,x,y,C){if(typeof y=="object"&&y!==null&&y.type===qn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ai:e:{for(var L=y.key,j=x;j!==null;){if(j.key===L){if(L=y.type,L===qn){if(j.tag===7){n(m,j.sibling),x=i(j,y.props.children),x.return=m,m=x;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ln&&Tc(L)===j.type){n(m,j.sibling),x=i(j,y.props),x.ref=Dr(m,j,y),x.return=m,m=x;break e}n(m,j);break}else t(m,j);j=j.sibling}y.type===qn?(x=In(y.props.children,m.mode,C,y.key),x.return=m,m=x):(C=hl(y.type,y.key,y.props,null,m.mode,C),C.ref=Dr(m,x,y),C.return=m,m=C)}return o(m);case Kn:e:{for(j=y.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=i(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=Vo(y,m.mode,C),x.return=m,m=x}return o(m);case ln:return j=y._init,E(m,x,j(y._payload),C)}if(Ur(y))return g(m,x,y,C);if(Lr(y))return v(m,x,y,C);Qi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=i(x,y),x.return=m,m=x):(n(m,x),x=Wo(y,m.mode,C),x.return=m,m=x),o(m)):n(m,x)}return E}var mr=Sp(!0),Cp=Sp(!1),_l=bn(null),Ml=null,nr=null,Ka=null;function qa(){Ka=nr=Ml=null}function Ga(e){var t=_l.current;ge(_l),e._currentValue=t}function Ks(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){Ml=e,Ka=nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Ka!==e)if(e={context:e,memoizedValue:t,next:null},nr===null){if(Ml===null)throw Error(z(308));nr=e,Ml.dependencies={lanes:0,firstContext:e}}else nr=nr.next=e;return t}var Pn=null;function Xa(e){Pn===null?Pn=[e]:Pn.push(e)}function jp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yt(e,r)}function Yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yt(e,n)}return i=r.interleaved,i===null?(t.next=t,Xa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yt(e,n)}function al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,za(e,n)}}function Lc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Il(e,t,n,r){var i=e.updateQueue;on=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(l!==null){var d=i.baseState;o=0,f=u=a=null,s=l;do{var h=s.lane,p=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(h=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=we({},d,h);break e;case 2:on=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,a=d):f=f.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Rn|=o,e.lanes=o,e.memoizedState=d}}function Pc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Ni={},Bt=bn(Ni),hi=bn(Ni),mi=bn(Ni);function _n(e){if(e===Ni)throw Error(z(174));return e}function Ja(e,t){switch(he(mi,t),he(hi,e),he(Bt,Ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ns(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ns(t,e)}ge(Bt),he(Bt,t)}function gr(){ge(Bt),ge(hi),ge(mi)}function Np(e){_n(mi.current);var t=_n(Bt.current),n=Ns(t,e.type);t!==n&&(he(hi,e),he(Bt,n))}function Za(e){hi.current===e&&(ge(Bt),ge(hi))}var ve=bn(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=[];function eu(){for(var e=0;e<Fo.length;e++)Fo[e]._workInProgressVersionPrimary=null;Fo.length=0}var ul=Zt.ReactCurrentDispatcher,Bo=Zt.ReactCurrentBatchConfig,zn=0,ke=null,Te=null,Pe=null,Al=!1,Xr=!1,gi=0,D0=0;function Be(){throw Error(z(321))}function tu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function nu(e,t,n,r,i,l){if(zn=l,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?F0:B0,e=n(r,i),Xr){l=0;do{if(Xr=!1,gi=0,25<=l)throw Error(z(301));l+=1,Pe=Te=null,t.updateQueue=null,ul.current=O0,e=n(r,i)}while(Xr)}if(ul.current=zl,t=Te!==null&&Te.next!==null,zn=0,Pe=Te=ke=null,Al=!1,t)throw Error(z(300));return e}function ru(){var e=gi!==0;return gi=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ke.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ct(){if(Te===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Pe===null?ke.memoizedState:Pe.next;if(t!==null)Pe=t,Te=e;else{if(e===null)throw Error(z(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?ke.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function xi(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=Ct(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Te,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,u=l;do{var f=u.lane;if((zn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=d,o=r):a=a.next=d,ke.lanes|=f,Rn|=f}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=s,It(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,ke.lanes|=l,Rn|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $o(e){var t=Ct(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);It(l,t.memoizedState)||(tt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Tp(){}function Lp(e,t){var n=ke,r=Ct(),i=t(),l=!It(r.memoizedState,i);if(l&&(r.memoizedState=i,tt=!0),r=r.queue,iu(Mp.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,yi(9,_p.bind(null,n,r,i,t),void 0,null),_e===null)throw Error(z(349));zn&30||Pp(n,t,i)}return i}function Pp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _p(e,t,n,r){t.value=n,t.getSnapshot=r,Ip(t)&&Dp(e)}function Mp(e,t,n){return n(function(){Ip(t)&&Dp(e)})}function Ip(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function Dp(e){var t=Yt(e,1);t!==null&&_t(t,e,1,-1)}function _c(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=R0.bind(null,ke,e),[t.memoizedState,e]}function yi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ap(){return Ct().memoizedState}function cl(e,t,n,r){var i=At();ke.flags|=e,i.memoizedState=yi(1|t,n,void 0,r===void 0?null:r)}function to(e,t,n,r){var i=Ct();r=r===void 0?null:r;var l=void 0;if(Te!==null){var o=Te.memoizedState;if(l=o.destroy,r!==null&&tu(r,o.deps)){i.memoizedState=yi(t,n,l,r);return}}ke.flags|=e,i.memoizedState=yi(1|t,n,l,r)}function Mc(e,t){return cl(8390656,8,e,t)}function iu(e,t){return to(2048,8,e,t)}function zp(e,t){return to(4,2,e,t)}function Rp(e,t){return to(4,4,e,t)}function Fp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bp(e,t,n){return n=n!=null?n.concat([e]):null,to(4,4,Fp.bind(null,t,e),n)}function lu(){}function Op(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $p(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Up(e,t,n){return zn&21?(It(n,t)||(n=Kf(),ke.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function A0(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Bo.transition;Bo.transition={};try{e(!1),t()}finally{ue=n,Bo.transition=r}}function Hp(){return Ct().memoizedState}function z0(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wp(e))Vp(t,n);else if(n=jp(e,t,n,r),n!==null){var i=qe();_t(n,e,r,i),Qp(n,t,r)}}function R0(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wp(e))Vp(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,It(s,o)){var a=t.interleaved;a===null?(i.next=i,Xa(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=jp(e,t,i,r),n!==null&&(i=qe(),_t(n,e,r,i),Qp(n,t,r))}}function Wp(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Vp(e,t){Xr=Al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,za(e,n)}}var zl={readContext:St,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},F0={readContext:St,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Mc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cl(4194308,4,Fp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=z0.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:lu,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=A0.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,i=At();if(xe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),_e===null)throw Error(z(349));zn&30||Pp(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Mc(Mp.bind(null,r,l,e),[e]),r.flags|=2048,yi(9,_p.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=At(),t=_e.identifierPrefix;if(xe){var n=Kt,r=Qt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=D0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B0={readContext:St,useCallback:Op,useContext:St,useEffect:iu,useImperativeHandle:Bp,useInsertionEffect:zp,useLayoutEffect:Rp,useMemo:$p,useReducer:Oo,useRef:Ap,useState:function(){return Oo(xi)},useDebugValue:lu,useDeferredValue:function(e){var t=Ct();return Up(t,Te.memoizedState,e)},useTransition:function(){var e=Oo(xi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Lp,useId:Hp,unstable_isNewReconciler:!1},O0={readContext:St,useCallback:Op,useContext:St,useEffect:iu,useImperativeHandle:Bp,useInsertionEffect:zp,useLayoutEffect:Rp,useMemo:$p,useReducer:$o,useRef:Ap,useState:function(){return $o(xi)},useDebugValue:lu,useDeferredValue:function(e){var t=Ct();return Te===null?t.memoizedState=e:Up(t,Te.memoizedState,e)},useTransition:function(){var e=$o(xi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Lp,useId:Hp,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var no={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),i=xn(e),l=qt(r,i);l.payload=t,n!=null&&(l.callback=n),t=mn(e,l,i),t!==null&&(_t(t,e,i,r),al(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),i=xn(e),l=qt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=mn(e,l,i),t!==null&&(_t(t,e,i,r),al(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=xn(e),i=qt(n,r);i.tag=2,t!=null&&(i.callback=t),t=mn(e,i,r),t!==null&&(_t(t,e,r,n),al(t,e,r))}};function Ic(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!ci(n,r)||!ci(i,l):!0}function Kp(e,t,n){var r=!1,i=kn,l=t.contextType;return typeof l=="object"&&l!==null?l=St(l):(i=rt(t)?Dn:He.current,r=t.contextTypes,l=(r=r!=null)?pr(e,i):kn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Dc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ya(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=St(l):(l=rt(t)?Dn:He.current,i.context=pr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(qs(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),Il(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=hg(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Uo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function qp(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,oa=r),Xs(e,t)},n}function Gp(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xs(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Xs(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ac(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=tx.bind(null,e,t,n),t.then(e,e))}function zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var U0=Zt.ReactCurrentOwner,tt=!1;function Qe(e,t,n,r){t.child=e===null?Cp(t,null,n,r):mr(t,e.child,n,r)}function Fc(e,t,n,r,i){n=n.render;var l=t.ref;return ur(t,i),r=nu(e,t,n,r,l,i),n=ru(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jt(e,t,i)):(xe&&n&&Wa(t),t.flags|=1,Qe(e,t,r,i),t.child)}function Bc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!pu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Xp(e,t,l,r,i)):(e=hl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(o,r)&&e.ref===t.ref)return Jt(e,t,i)}return t.flags|=1,e=yn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Xp(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(ci(l,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Jt(e,t,i)}return Ys(e,t,n,r,i)}function Yp(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(ir,ut),ut|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(ir,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,he(ir,ut),ut|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,he(ir,ut),ut|=r;return Qe(e,t,i,n),t.child}function Jp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ys(e,t,n,r,i){var l=rt(n)?Dn:He.current;return l=pr(t,l),ur(t,i),n=nu(e,t,n,r,l,i),r=ru(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jt(e,t,i)):(xe&&r&&Wa(t),t.flags|=1,Qe(e,t,n,i),t.child)}function Oc(e,t,n,r,i){if(rt(n)){var l=!0;Tl(t)}else l=!1;if(ur(t,i),t.stateNode===null)dl(e,t),Kp(t,n,r),Gs(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=rt(n)?Dn:He.current,u=pr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==u)&&Dc(t,o,r,u),on=!1;var h=t.memoizedState;o.state=h,Il(t,r,o,i),a=t.memoizedState,s!==r||h!==a||nt.current||on?(typeof f=="function"&&(qs(t,n,f,r),a=t.memoizedState),(s=on||Ic(t,n,s,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ep(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Nt(t.type,s),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=St(a):(a=rt(n)?Dn:He.current,a=pr(t,a));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==a)&&Dc(t,o,r,a),on=!1,h=t.memoizedState,o.state=h,Il(t,r,o,i);var g=t.memoizedState;s!==d||h!==g||nt.current||on?(typeof p=="function"&&(qs(t,n,p,r),g=t.memoizedState),(u=on||Ic(t,n,u,r,h,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Js(e,t,n,r,l,i)}function Js(e,t,n,r,i,l){Jp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&jc(t,n,!1),Jt(e,t,l);r=t.stateNode,U0.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mr(t,e.child,null,l),t.child=mr(t,null,s,l)):Qe(e,t,s,l),t.memoizedState=r.state,i&&jc(t,n,!0),t.child}function Zp(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),Ja(e,t.containerInfo)}function $c(e,t,n,r,i){return hr(),Qa(i),t.flags|=256,Qe(e,t,n,r),t.child}var Zs={dehydrated:null,treeContext:null,retryLane:0};function ea(e){return{baseLanes:e,cachePool:null,transitions:null}}function eh(e,t,n){var r=t.pendingProps,i=ve.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(ve,i&1),e===null)return Qs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=lo(o,r,0,null),e=In(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ea(n),t.memoizedState=Zs,e):ou(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return H0(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=yn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=yn(s,l):(l=In(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?ea(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Zs,r}return l=e.child,e=l.sibling,r=yn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ou(e,t){return t=lo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ki(e,t,n,r){return r!==null&&Qa(r),mr(t,e.child,null,n),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H0(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Uo(Error(z(422))),Ki(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=lo({mode:"visible",children:r.children},i,0,null),l=In(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&mr(t,e.child,null,o),t.child.memoizedState=ea(o),t.memoizedState=Zs,l);if(!(t.mode&1))return Ki(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(z(419)),r=Uo(l,r,void 0),Ki(e,t,o,r)}if(s=(o&e.childLanes)!==0,tt||s){if(r=_e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Yt(e,i),_t(r,e,i,-1))}return fu(),r=Uo(Error(z(421))),Ki(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nx.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,ct=hn(i.nextSibling),dt=t,xe=!0,Lt=null,e!==null&&(yt[vt++]=Qt,yt[vt++]=Kt,yt[vt++]=An,Qt=e.id,Kt=e.overflow,An=t),t=ou(t,r.children),t.flags|=4096,t)}function Uc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ks(e.return,t,n)}function Ho(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function th(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Qe(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uc(e,n,t);else if(e.tag===19)Uc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ve,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ho(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ho(t,!0,n,null,l);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function W0(e,t,n){switch(t.tag){case 3:Zp(t),hr();break;case 5:Np(t);break;case 1:rt(t.type)&&Tl(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(_l,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?eh(e,t,n):(he(ve,ve.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);he(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return th(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Yp(e,t,n)}return Jt(e,t,n)}var nh,ta,rh,ih;nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ta=function(){};rh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_n(Bt.current);var l=null;switch(n){case"input":i=Ss(e,i),r=Ss(e,r),l=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),l=[];break;case"textarea":i=Es(e,i),r=Es(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=El)}Ts(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ri.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ri.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&me("scroll",e),l||s===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};ih=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ar(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function V0(e,t,n){var r=t.pendingProps;switch(Va(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return rt(t.type)&&Nl(),Oe(t),null;case 3:return r=t.stateNode,gr(),ge(nt),ge(He),eu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(ua(Lt),Lt=null))),ta(e,t),Oe(t),null;case 5:Za(t);var i=_n(mi.current);if(n=t.type,e!==null&&t.stateNode!=null)rh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Oe(t),null}if(e=_n(Bt.current),Vi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Rt]=t,r[pi]=l,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)me(Wr[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Yu(r,l),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},me("invalid",r);break;case"textarea":Zu(r,l),me("invalid",r)}Ts(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&Wi(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&Wi(r.textContent,s,e),i=["children",""+s]):ri.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":zi(r),Ju(r,l,!0);break;case"textarea":zi(r),ec(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=El)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rt]=t,e[pi]=r,nh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ls(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)me(Wr[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":Yu(e,r),i=Ss(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),me("invalid",e);break;case"textarea":Zu(e,r),i=Es(e,r),me("invalid",e);break;default:i=r}Ts(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Af(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&If(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ii(e,a):typeof a=="number"&&ii(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ri.hasOwnProperty(l)?a!=null&&l==="onScroll"&&me("scroll",e):a!=null&&Pa(e,l,a,o))}switch(n){case"input":zi(e),Ju(e,r,!1);break;case"textarea":zi(e),ec(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?lr(e,!!r.multiple,l,!1):r.defaultValue!=null&&lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)ih(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=_n(mi.current),_n(Bt.current),Vi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(l=r.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:Wi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Oe(t),null;case 13:if(ge(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&ct!==null&&t.mode&1&&!(t.flags&128))bp(),hr(),t.flags|=98560,l=!1;else if(l=Vi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[Rt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),l=!1}else Lt!==null&&(ua(Lt),Lt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Le===0&&(Le=3):fu())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return gr(),ta(e,t),e===null&&di(t.stateNode.containerInfo),Oe(t),null;case 10:return Ga(t.type._context),Oe(t),null;case 17:return rt(t.type)&&Nl(),Oe(t),null;case 19:if(ge(ve),l=t.memoizedState,l===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Ar(l,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dl(e),o!==null){for(t.flags|=128,Ar(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ve,ve.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>yr&&(t.flags|=128,r=!0,Ar(l,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ar(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!xe)return Oe(t),null}else 2*je()-l.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,r=!0,Ar(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,n=ve.current,he(ve,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return du(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Q0(e,t){switch(Va(t),t.tag){case 1:return rt(t.type)&&Nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),ge(nt),ge(He),eu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Za(t),null;case 13:if(ge(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(ve),null;case 4:return gr(),null;case 10:return Ga(t.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var qi=!1,$e=!1,K0=typeof WeakSet=="function"?WeakSet:Set,H=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function na(e,t,n){try{n()}catch(r){be(e,t,r)}}var Hc=!1;function q0(e,t){if(Bs=Sl,e=up(),Ha(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==l||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=o),h===l&&++f===r&&(a=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Os={focusedElem:e,selectionRange:n},Sl=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,E=g.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nt(t.type,v),E);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){be(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return g=Hc,Hc=!1,g}function Yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&na(t,n,l)}i=i.next}while(i!==r)}}function ro(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[pi],delete t[Hs],delete t[P0],delete t[_0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=El));else if(r!==4&&(e=e.child,e!==null))for(ia(e,t,n),e=e.sibling;e!==null;)ia(e,t,n),e=e.sibling}function la(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(la(e,t,n),e=e.sibling;e!==null;)la(e,t,n),e=e.sibling}var Ae=null,Tt=!1;function nn(e,t,n){for(n=n.child;n!==null;)sh(e,t,n),n=n.sibling}function sh(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:$e||rr(n,t);case 6:var r=Ae,i=Tt;Ae=null,nn(e,t,n),Ae=r,Tt=i,Ae!==null&&(Tt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(Tt?(e=Ae,n=n.stateNode,e.nodeType===8?zo(e.parentNode,n):e.nodeType===1&&zo(e,n),ai(e)):zo(Ae,n.stateNode));break;case 4:r=Ae,i=Tt,Ae=n.stateNode.containerInfo,Tt=!0,nn(e,t,n),Ae=r,Tt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&na(n,t,o),i=i.next}while(i!==r)}nn(e,t,n);break;case 1:if(!$e&&(rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){be(n,t,s)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,nn(e,t,n),$e=r):nn(e,t,n);break;default:nn(e,t,n)}}function Vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K0),t.forEach(function(r){var i=rx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ae=s.stateNode,Tt=!1;break e;case 3:Ae=s.stateNode.containerInfo,Tt=!0;break e;case 4:Ae=s.stateNode.containerInfo,Tt=!0;break e}s=s.return}if(Ae===null)throw Error(z(160));sh(l,o,i),Ae=null,Tt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}function ah(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Dt(e),r&4){try{Yr(3,e,e.return),ro(3,e)}catch(v){be(e,e.return,v)}try{Yr(5,e,e.return)}catch(v){be(e,e.return,v)}}break;case 1:Et(t,e),Dt(e),r&512&&n!==null&&rr(n,n.return);break;case 5:if(Et(t,e),Dt(e),r&512&&n!==null&&rr(n,n.return),e.flags&32){var i=e.stateNode;try{ii(i,"")}catch(v){be(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Pf(i,l),Ls(s,o);var u=Ls(s,l);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Af(i,d):f==="dangerouslySetInnerHTML"?If(i,d):f==="children"?ii(i,d):Pa(i,f,d,u)}switch(s){case"input":Cs(i,l);break;case"textarea":_f(i,l);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var p=l.value;p!=null?lr(i,!!l.multiple,p,!1):h!==!!l.multiple&&(l.defaultValue!=null?lr(i,!!l.multiple,l.defaultValue,!0):lr(i,!!l.multiple,l.multiple?[]:"",!1))}i[pi]=l}catch(v){be(e,e.return,v)}}break;case 6:if(Et(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){be(e,e.return,v)}}break;case 3:if(Et(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(v){be(e,e.return,v)}break;case 4:Et(t,e),Dt(e);break;case 13:Et(t,e),Dt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(uu=je())),r&4&&Vc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||f,Et(t,e),$e=u):Et(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(H=e,f=e.child;f!==null;){for(d=H=f;H!==null;){switch(h=H,p=h.child,h.tag){case 0:case 11:case 14:case 15:Yr(4,h,h.return);break;case 1:rr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){be(r,n,v)}}break;case 5:rr(h,h.return);break;case 22:if(h.memoizedState!==null){Kc(d);continue}}p!==null?(p.return=h,H=p):Kc(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Df("display",o))}catch(v){be(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){be(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(t,e),Dt(e),r&4&&Vc(e);break;case 21:break;default:Et(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oh(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ii(i,""),r.flags&=-33);var l=Wc(e);la(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Wc(e);ia(e,s,o);break;default:throw Error(z(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G0(e,t,n){H=e,uh(e)}function uh(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qi;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||$e;s=qi;var u=$e;if(qi=o,($e=a)&&!u)for(H=i;H!==null;)o=H,a=o.child,o.tag===22&&o.memoizedState!==null?qc(i):a!==null?(a.return=o,H=a):qc(i);for(;l!==null;)H=l,uh(l),l=l.sibling;H=i,qi=s,$e=u}Qc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,H=l):Qc(e)}}function Qc(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||ro(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Pc(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pc(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}$e||t.flags&512&&ra(t)}catch(h){be(t,t.return,h)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Kc(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function qc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ro(4,t)}catch(a){be(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){be(t,i,a)}}var l=t.return;try{ra(t)}catch(a){be(t,l,a)}break;case 5:var o=t.return;try{ra(t)}catch(a){be(t,o,a)}}}catch(a){be(t,t.return,a)}if(t===e){H=null;break}var s=t.sibling;if(s!==null){s.return=t.return,H=s;break}H=t.return}}var X0=Math.ceil,Rl=Zt.ReactCurrentDispatcher,su=Zt.ReactCurrentOwner,bt=Zt.ReactCurrentBatchConfig,oe=0,_e=null,Ne=null,ze=0,ut=0,ir=bn(0),Le=0,vi=null,Rn=0,io=0,au=0,Jr=null,et=null,uu=0,yr=1/0,Wt=null,Fl=!1,oa=null,gn=null,Gi=!1,cn=null,Bl=0,Zr=0,sa=null,fl=-1,pl=0;function qe(){return oe&6?je():fl!==-1?fl:fl=je()}function xn(e){return e.mode&1?oe&2&&ze!==0?ze&-ze:I0.transition!==null?(pl===0&&(pl=Kf()),pl):(e=ue,e!==0||(e=window.event,e=e===void 0?16:ep(e.type)),e):1}function _t(e,t,n,r){if(50<Zr)throw Zr=0,sa=null,Error(z(185));Ci(e,n,r),(!(oe&2)||e!==_e)&&(e===_e&&(!(oe&2)&&(io|=n),Le===4&&an(e,ze)),it(e,r),n===1&&oe===0&&!(t.mode&1)&&(yr=je()+500,eo&&Sn()))}function it(e,t){var n=e.callbackNode;Ig(e,t);var r=bl(e,e===_e?ze:0);if(r===0)n!==null&&rc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rc(n),t===1)e.tag===0?M0(Gc.bind(null,e)):vp(Gc.bind(null,e)),T0(function(){!(oe&6)&&Sn()}),n=null;else{switch(qf(r)){case 1:n=Aa;break;case 4:n=Vf;break;case 16:n=wl;break;case 536870912:n=Qf;break;default:n=wl}n=xh(n,ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ch(e,t){if(fl=-1,pl=0,oe&6)throw Error(z(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=bl(e,e===_e?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ol(e,r);else{t=r;var i=oe;oe|=2;var l=fh();(_e!==e||ze!==t)&&(Wt=null,yr=je()+500,Mn(e,t));do try{Z0();break}catch(s){dh(e,s)}while(!0);qa(),Rl.current=l,oe=i,Ne!==null?t=0:(_e=null,ze=0,t=Le)}if(t!==0){if(t===2&&(i=Ds(e),i!==0&&(r=i,t=aa(e,i))),t===1)throw n=vi,Mn(e,0),an(e,r),it(e,je()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!Y0(i)&&(t=Ol(e,r),t===2&&(l=Ds(e),l!==0&&(r=l,t=aa(e,l))),t===1))throw n=vi,Mn(e,0),an(e,r),it(e,je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Nn(e,et,Wt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=uu+500-je(),10<t)){if(bl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Us(Nn.bind(null,e,et,Wt),t);break}Nn(e,et,Wt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pt(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X0(r/1960))-r,10<r){e.timeoutHandle=Us(Nn.bind(null,e,et,Wt),r);break}Nn(e,et,Wt);break;case 5:Nn(e,et,Wt);break;default:throw Error(z(329))}}}return it(e,je()),e.callbackNode===n?ch.bind(null,e):null}function aa(e,t){var n=Jr;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=Ol(e,t),e!==2&&(t=et,et=n,t!==null&&ua(t)),e}function ua(e){et===null?et=e:et.push.apply(et,e)}function Y0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!It(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~au,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(oe&6)throw Error(z(327));cr();var t=bl(e,0);if(!(t&1))return it(e,je()),null;var n=Ol(e,t);if(e.tag!==0&&n===2){var r=Ds(e);r!==0&&(t=r,n=aa(e,r))}if(n===1)throw n=vi,Mn(e,0),an(e,t),it(e,je()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,et,Wt),it(e,je()),null}function cu(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(yr=je()+500,eo&&Sn())}}function Fn(e){cn!==null&&cn.tag===0&&!(oe&6)&&cr();var t=oe;oe|=1;var n=bt.transition,r=ue;try{if(bt.transition=null,ue=1,e)return e()}finally{ue=r,bt.transition=n,oe=t,!(oe&6)&&Sn()}}function du(){ut=ir.current,ge(ir)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,N0(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Va(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:gr(),ge(nt),ge(He),eu();break;case 5:Za(r);break;case 4:gr();break;case 13:ge(ve);break;case 19:ge(ve);break;case 10:Ga(r.type._context);break;case 22:case 23:du()}n=n.return}if(_e=e,Ne=e=yn(e.current,null),ze=ut=t,Le=0,vi=null,au=io=Rn=0,et=Jr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}Pn=null}return e}function dh(e,t){do{var n=Ne;try{if(qa(),ul.current=zl,Al){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Al=!1}if(zn=0,Pe=Te=ke=null,Xr=!1,gi=0,su.current=null,n===null||n.return===null){Le=1,vi=t,Ne=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=ze,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=zc(o);if(p!==null){p.flags&=-257,Rc(p,o,s,l,t),p.mode&1&&Ac(l,u,t),t=p,a=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break e}else{if(!(t&1)){Ac(l,u,t),fu();break e}a=Error(z(426))}}else if(xe&&s.mode&1){var E=zc(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Rc(E,o,s,l,t),Qa(xr(a,s));break e}}l=a=xr(a,s),Le!==4&&(Le=2),Jr===null?Jr=[l]:Jr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=qp(l,a,t);Lc(l,m);break e;case 1:s=a;var x=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gn===null||!gn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var C=Gp(l,s,t);Lc(l,C);break e}}l=l.return}while(l!==null)}hh(n)}catch(L){t=L,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function fh(){var e=Rl.current;return Rl.current=zl,e===null?zl:e}function fu(){(Le===0||Le===3||Le===2)&&(Le=4),_e===null||!(Rn&268435455)&&!(io&268435455)||an(_e,ze)}function Ol(e,t){var n=oe;oe|=2;var r=fh();(_e!==e||ze!==t)&&(Wt=null,Mn(e,t));do try{J0();break}catch(i){dh(e,i)}while(!0);if(qa(),oe=n,Rl.current=r,Ne!==null)throw Error(z(261));return _e=null,ze=0,Le}function J0(){for(;Ne!==null;)ph(Ne)}function Z0(){for(;Ne!==null&&!Cg();)ph(Ne)}function ph(e){var t=gh(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?hh(e):Ne=t,su.current=null}function hh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Q0(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ne=null;return}}else if(n=V0(n,t,ut),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Le===0&&(Le=5)}function Nn(e,t,n){var r=ue,i=bt.transition;try{bt.transition=null,ue=1,ex(e,t,n,r)}finally{bt.transition=i,ue=r}return null}function ex(e,t,n,r){do cr();while(cn!==null);if(oe&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Dg(e,l),e===_e&&(Ne=_e=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gi||(Gi=!0,xh(wl,function(){return cr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=bt.transition,bt.transition=null;var o=ue;ue=1;var s=oe;oe|=4,su.current=null,q0(e,n),ah(n,e),k0(Os),Sl=!!Bs,Os=Bs=null,e.current=n,G0(n),jg(),oe=s,ue=o,bt.transition=l}else e.current=n;if(Gi&&(Gi=!1,cn=e,Bl=i),l=e.pendingLanes,l===0&&(gn=null),Tg(n.stateNode),it(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fl)throw Fl=!1,e=oa,oa=null,e;return Bl&1&&e.tag!==0&&cr(),l=e.pendingLanes,l&1?e===sa?Zr++:(Zr=0,sa=e):Zr=0,Sn(),null}function cr(){if(cn!==null){var e=qf(Bl),t=bt.transition,n=ue;try{if(bt.transition=null,ue=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Bl=0,oe&6)throw Error(z(331));var i=oe;for(oe|=4,H=e.current;H!==null;){var l=H,o=l.child;if(H.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(H=u;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Yr(8,f,l)}var d=f.child;if(d!==null)d.return=f,H=d;else for(;H!==null;){f=H;var h=f.sibling,p=f.return;if(lh(f),f===u){H=null;break}if(h!==null){h.return=p,H=h;break}H=p}}}var g=l.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}H=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,H=o;else e:for(;H!==null;){if(l=H,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Yr(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,H=m;break e}H=l.return}}var x=e.current;for(H=x;H!==null;){o=H;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,H=y;else e:for(o=x;H!==null;){if(s=H,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ro(9,s)}}catch(L){be(s,s.return,L)}if(s===o){H=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,H=C;break e}H=s.return}}if(oe=i,Sn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Gl,e)}catch{}r=!0}return r}finally{ue=n,bt.transition=t}}return!1}function Xc(e,t,n){t=xr(n,t),t=qp(e,t,1),e=mn(e,t,1),t=qe(),e!==null&&(Ci(e,1,t),it(e,t))}function be(e,t,n){if(e.tag===3)Xc(e,e,n);else for(;t!==null;){if(t.tag===3){Xc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=xr(n,e),e=Gp(t,e,1),t=mn(t,e,1),e=qe(),t!==null&&(Ci(t,1,e),it(t,e));break}}t=t.return}}function tx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(ze&n)===n&&(Le===4||Le===3&&(ze&130023424)===ze&&500>je()-uu?Mn(e,0):au|=n),it(e,t)}function mh(e,t){t===0&&(e.mode&1?(t=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):t=1);var n=qe();e=Yt(e,t),e!==null&&(Ci(e,t,n),it(e,n))}function nx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mh(e,n)}function rx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),mh(e,n)}var gh;gh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,W0(e,t,n);tt=!!(e.flags&131072)}else tt=!1,xe&&t.flags&1048576&&kp(t,Pl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dl(e,t),e=t.pendingProps;var i=pr(t,He.current);ur(t,n),i=nu(null,t,r,e,i,n);var l=ru();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(l=!0,Tl(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ya(t),i.updater=no,t.stateNode=i,i._reactInternals=t,Gs(t,r,e,n),t=Js(null,t,r,!0,l,n)):(t.tag=0,xe&&l&&Wa(t),Qe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=lx(r),e=Nt(r,e),i){case 0:t=Ys(null,t,r,e,n);break e;case 1:t=Oc(null,t,r,e,n);break e;case 11:t=Fc(null,t,r,e,n);break e;case 14:t=Bc(null,t,r,Nt(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Ys(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Oc(e,t,r,i,n);case 3:e:{if(Zp(t),e===null)throw Error(z(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Ep(e,t),Il(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=xr(Error(z(423)),t),t=$c(e,t,r,n,i);break e}else if(r!==i){i=xr(Error(z(424)),t),t=$c(e,t,r,n,i);break e}else for(ct=hn(t.stateNode.containerInfo.firstChild),dt=t,xe=!0,Lt=null,n=Cp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===i){t=Jt(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return Np(t),e===null&&Qs(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,$s(r,i)?o=null:l!==null&&$s(r,l)&&(t.flags|=32),Jp(e,t),Qe(e,t,o,n),t.child;case 6:return e===null&&Qs(t),null;case 13:return eh(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Fc(e,t,r,i,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,he(_l,r._currentValue),r._currentValue=o,l!==null)if(It(l.value,o)){if(l.children===i.children&&!nt.current){t=Jt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=qt(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ks(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(z(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ks(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Qe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ur(t,n),i=St(i),r=r(i),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,i=Nt(r,t.pendingProps),i=Nt(r.type,i),Bc(e,t,r,i,n);case 15:return Xp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),dl(e,t),t.tag=1,rt(r)?(e=!0,Tl(t)):e=!1,ur(t,n),Kp(t,r,i),Gs(t,r,i,n),Js(null,t,r,!0,e,n);case 19:return th(e,t,n);case 22:return Yp(e,t,n)}throw Error(z(156,t.tag))};function xh(e,t){return Wf(e,t)}function ix(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new ix(e,t,n,r)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lx(e){if(typeof e=="function")return pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ma)return 11;if(e===Ia)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hl(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")pu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qn:return In(n.children,i,l,t);case _a:o=8,i|=8;break;case vs:return e=wt(12,n,t,i|2),e.elementType=vs,e.lanes=l,e;case ks:return e=wt(13,n,t,i),e.elementType=ks,e.lanes=l,e;case ws:return e=wt(19,n,t,i),e.elementType=ws,e.lanes=l,e;case Nf:return lo(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jf:o=10;break e;case Ef:o=9;break e;case Ma:o=11;break e;case Ia:o=14;break e;case ln:o=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function In(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function lo(e,t,n,r){return e=wt(22,e,r,t),e.elementType=Nf,e.lanes=n,e.stateNode={isHidden:!1},e}function Wo(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Vo(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ox(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hu(e,t,n,r,i,l,o,s,a){return e=new ox(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ya(l),e}function sx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yh(e){if(!e)return kn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(rt(n))return yp(e,n,t)}return t}function vh(e,t,n,r,i,l,o,s,a){return e=hu(n,r,!0,e,i,l,o,s,a),e.context=yh(null),n=e.current,r=qe(),i=xn(n),l=qt(r,i),l.callback=t??null,mn(n,l,i),e.current.lanes=i,Ci(e,i,r),it(e,r),e}function oo(e,t,n,r){var i=t.current,l=qe(),o=xn(i);return n=yh(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(i,t,o),e!==null&&(_t(e,i,o,l),al(e,i,o)),o}function $l(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mu(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function ax(){return null}var kh=typeof reportError=="function"?reportError:function(e){console.error(e)};function gu(e){this._internalRoot=e}so.prototype.render=gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));oo(e,t,null,null)};so.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){oo(null,e,null,null)}),t[Xt]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Zf(e)}};function xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function ux(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=$l(o);l.call(u)}}var o=vh(t,r,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[Xt]=o.current,di(e.nodeType===8?e.parentNode:e),Fn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=$l(a);s.call(u)}}var a=hu(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=a,e[Xt]=a.current,di(e.nodeType===8?e.parentNode:e),Fn(function(){oo(t,a,n,r)}),a}function uo(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=$l(o);s.call(a)}}oo(t,o,e,i)}else o=ux(n,t,e,i,r);return $l(o)}Gf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hr(t.pendingLanes);n!==0&&(za(t,n|1),it(t,je()),!(oe&6)&&(yr=je()+500,Sn()))}break;case 13:Fn(function(){var r=Yt(e,1);if(r!==null){var i=qe();_t(r,e,1,i)}}),mu(e,1)}};Ra=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var n=qe();_t(t,e,134217728,n)}mu(e,134217728)}};Xf=function(e){if(e.tag===13){var t=xn(e),n=Yt(e,t);if(n!==null){var r=qe();_t(n,e,t,r)}mu(e,t)}};Yf=function(){return ue};Jf=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};_s=function(e,t,n){switch(t){case"input":if(Cs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zl(r);if(!i)throw Error(z(90));Lf(r),Cs(r,i)}}}break;case"textarea":_f(e,n);break;case"select":t=n.value,t!=null&&lr(e,!!n.multiple,t,!1)}};Ff=cu;Bf=Fn;var cx={usingClientEntryPoint:!1,Events:[Ei,Jn,Zl,zf,Rf,cu]},zr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dx={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uf(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{Gl=Xi.inject(dx),Ft=Xi}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xu(t))throw Error(z(200));return sx(e,t,null,n)};ht.createRoot=function(e,t){if(!xu(e))throw Error(z(299));var n=!1,r="",i=kh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hu(e,1,!1,null,null,n,!1,r,i),e[Xt]=t.current,di(e.nodeType===8?e.parentNode:e),new gu(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Uf(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return Fn(e)};ht.hydrate=function(e,t,n){if(!ao(t))throw Error(z(200));return uo(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!xu(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=kh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=vh(t,null,e,1,n??null,i,!1,l,o),e[Xt]=t.current,di(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new so(t)};ht.render=function(e,t,n){if(!ao(t))throw Error(z(200));return uo(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!ao(e))throw Error(z(40));return e._reactRootContainer?(Fn(function(){uo(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ht.unstable_batchedUpdates=cu;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ao(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return uo(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wh)}catch(e){console.error(e)}}wh(),wf.exports=ht;var fx=wf.exports,Zc=fx;xs.createRoot=Zc.createRoot,xs.hydrateRoot=Zc.hydrateRoot;var ca=new Map,Yi=new WeakMap,ed=0,px;function hx(e){return e?(Yi.has(e)||(ed+=1,Yi.set(e,ed.toString())),Yi.get(e)):"0"}function mx(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?hx(e.root):e[t]}`).toString()}function gx(e){const t=mx(e);let n=ca.get(t);if(!n){const r=new Map;let i;const l=new IntersectionObserver(o=>{o.forEach(s=>{var a;const u=s.isIntersecting&&i.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(a=r.get(s.target))==null||a.forEach(f=>{f(u,s)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},ca.set(t,n)}return n}function xx(e,t,n={},r=px){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const a=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:i,observer:l,elements:o}=gx(n),s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),l.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(o.delete(e),l.unobserve(e)),o.size===0&&(l.disconnect(),ca.delete(i))}}function yx({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:l,skip:o,initialInView:s,fallbackInView:a,onChange:u}={}){var f;const[d,h]=T.useState(null),p=T.useRef(u),g=T.useRef(s),[v,E]=T.useState({inView:!!s,entry:void 0});p.current=u,T.useEffect(()=>{if(g.current===void 0&&(g.current=s),o||!d)return;let C;return C=xx(d,(L,j)=>{const P=g.current;g.current=L,!(P===void 0&&!L)&&(E({inView:L,entry:j}),p.current&&p.current(L,j),j.isIntersecting&&l&&C&&(C(),C=void 0))},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},a),()=>{C&&C()}},[Array.isArray(e)?e.toString():e,d,i,r,l,o,n,a,t]);const m=(f=v.entry)==null?void 0:f.target,x=T.useRef(void 0);!d&&m&&!l&&!o&&x.current!==m&&(x.current=m,E({inView:!!s,entry:void 0}),g.current=s);const y=[h,v.inView,v.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const vx={},td=e=>{let t;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(vx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},kx=e=>e?td(e):td;var bh={exports:{}},Sh={},Ch={exports:{}},jh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=T;function wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bx=typeof Object.is=="function"?Object.is:wx,Sx=vr.useState,Cx=vr.useEffect,jx=vr.useLayoutEffect,Ex=vr.useDebugValue;function Nx(e,t){var n=t(),r=Sx({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return jx(function(){i.value=n,i.getSnapshot=t,Qo(i)&&l({inst:i})},[e,n,t]),Cx(function(){return Qo(i)&&l({inst:i}),e(function(){Qo(i)&&l({inst:i})})},[e]),Ex(n),n}function Qo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bx(e,n)}catch{return!0}}function Tx(e,t){return t()}var Lx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tx:Nx;jh.useSyncExternalStore=vr.useSyncExternalStore!==void 0?vr.useSyncExternalStore:Lx;Ch.exports=jh;var Px=Ch.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=T,_x=Px;function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ix=typeof Object.is=="function"?Object.is:Mx,Dx=_x.useSyncExternalStore,Ax=co.useRef,zx=co.useEffect,Rx=co.useMemo,Fx=co.useDebugValue;Sh.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=Ax(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=Rx(function(){function a(p){if(!u){if(u=!0,f=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,Ix(f,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(f=p,g):(f=p,d=v)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var s=Dx(e,l[0],l[1]);return zx(function(){o.hasValue=!0,o.value=s},[s]),Fx(s),s};bh.exports=Sh;var Bx=bh.exports;const Ox=Kl(Bx),Eh={},{useDebugValue:$x}=vf,{useSyncExternalStoreWithSelector:Ux}=Ox;let nd=!1;const Hx=e=>e;function Wx(e,t=Hx,n){(Eh?"production":void 0)!=="production"&&n&&!nd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nd=!0);const r=Ux(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $x(r),r}const rd=e=>{(Eh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?kx(e):e,n=(r,i)=>Wx(t,r,i);return Object.assign(n,t),n},Nh=e=>e?rd(e):rd,yu=500,Vx=yu+100,id=2,Ve="/api";function De(e,t){try{return JSON.parse(e)}catch{return t}}function Qx(e,t){return!(e==="done"&&t!=="done")}const Y=Nh((e,t)=>({threads:[],activeThreadId:null,isLoading:!1,error:null,showArchived:!1,sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{},setActiveThread:n=>{const r=t().activeThreadId,i=t().threads,l=i.find(s=>s.id===n),o=i.find(s=>s.id===r);if(r&&r!==n){const s=(l==null?void 0:l.parentId)===r,a=(o==null?void 0:o.parentId)===n;!s&&!a&&t().unsubscribeFromThread(r)}if(e({activeThreadId:n}),n&&t().subscribeToThread(n),l!=null&&l.parentId&&t().subscribeToThread(l.parentId),n){const s=i.filter(a=>a.parentId===n&&!a.archivedAt);for(const a of s)(a.status==="pending"||a.status==="active")&&t().subscribeToThread(a.id)}},fetchThreads:async n=>{var r;e({isLoading:!0,error:null});try{const l=await fetch(`${Ve}/threads${n?"?include_archived=true":""}`);if(!l.ok){const h=(await l.json().catch(()=>({}))).detail||l.statusText;throw new Error(`${h} (HTTP ${l.status})`)}const o=await l.json(),s=t().threads,a=new Map(s.map(d=>[d.id,{lastUsage:d.lastUsage,lastCostUsd:d.lastCostUsd}])),u=o.map(d=>{var h,p;return{...d,lastUsage:(h=a.get(d.id))==null?void 0:h.lastUsage,lastCostUsd:(p=a.get(d.id))==null?void 0:p.lastCostUsd}}),f={};for(const d of u){const h=((r=d.messages)==null?void 0:r.length)||0;f[d.id]={hasMore:h>=50,total:h,loadedCount:h,isLoading:!1}}e({threads:u,pagination:f,isLoading:!1})}catch(i){const l=i instanceof Error?i.message:"Failed to fetch threads";e({error:l,isLoading:!1})}},createThread:async n=>{const r=await fetch(`${Ve}/threads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const l=await r.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.json();return e(l=>({threads:[...l.threads,i]})),i},sendMessage:async(n,r,i)=>{const l=`temp-${Date.now()}`,o={id:l,role:"user",content:r,timestamp:new Date().toISOString()};e(f=>({threads:f.threads.map(d=>d.id===n?{...d,messages:[...d.messages,o],status:"pending"}:d)})),t().clearStreamingBlocks(n);const s=new AbortController,a=setTimeout(()=>s.abort(),3e5),u={content:r};i!=null&&i.images&&i.images.length>0&&(u.images=i.images),i!=null&&i.fileRefs&&i.fileRefs.length>0&&(u.file_references=i.fileRefs);try{const f=await fetch(`${Ve}/threads/${n}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),signal:s.signal});if(!f.ok){const h=await f.json().catch(()=>({})),p=h.detail||f.statusText,g=h.type?` [${h.type}]`:"";throw new Error(`${p}${g} (HTTP ${f.status})`)}const d=await f.json();e(h=>{const p=h.threads.find(m=>m.id===n);if(!p)return h;const g=new Set(p.messages.map(m=>m.id)),E=[...p.messages.filter(m=>m.id!==l)];return d.userMessage&&!g.has(d.userMessage.id)&&E.push(d.userMessage),d.assistantMessage&&!g.has(d.assistantMessage.id)&&E.push(d.assistantMessage),{threads:h.threads.map(m=>m.id===n?{...m,messages:E,status:"active"}:m)}})}catch(f){if(f instanceof DOMException&&f.name==="AbortError"){const h="Request timed out after 5 minutes";throw e(p=>({threads:p.threads.map(g=>g.id===n?{...g,status:"needs_attention"}:g),error:h})),new Error(h)}const d=f instanceof Error?f.message:"Failed to send message";throw e(h=>({threads:h.threads.map(p=>p.id===n?{...p,status:"needs_attention"}:p),error:d})),f}finally{clearTimeout(a)}},stopThread:async n=>{try{const r=await fetch(`${Ve}/threads/${n}/stop`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}catch(r){if(r instanceof Error&&r.message.includes("No active task"))return;throw r}},updateThreadStatus:(n,r)=>{e(i=>({threads:i.threads.map(l=>l.id===n?{...l,status:r}:l)}))},updateThreadTitle:async(n,r)=>{const i=await fetch(`${Ve}/threads/${n}/title`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,title:r}:o)}))},updateThreadConfig:async(n,r)=>{const i=await fetch(`${Ve}/threads/${n}/config`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>({threads:l.threads.map(o=>o.id===n?{...o,...r}:o)}))},clearThreadMessages:async n=>{const r=await fetch(`${Ve}/threads/${n}/messages`,{method:"DELETE"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const{[n]:l,...o}=i.threadNotifications;return{threads:i.threads.map(s=>s.id===n?{...s,messages:[],sessionId:null}:s),threadNotifications:o}})},archiveThread:async n=>{const r=await fetch(`${Ve}/threads/${n}/archive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>{const l=i.threads.find(a=>a.id===n),o=i.activeThreadId===n;let s=i.activeThreadId;if(o)if(l!=null&&l.parentId)s=l.parentId;else{const a=i.threads.find(u=>u.id!==n&&!u.parentId&&!u.archivedAt);s=(a==null?void 0:a.id)||null}return{threads:i.threads.map(a=>a.id===n?{...a,archivedAt:new Date().toISOString()}:a),activeThreadId:s}})},unarchiveThread:async n=>{const r=await fetch(`${Ve}/threads/${n}/unarchive`,{method:"POST"});if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.detail||`HTTP ${r.status}: ${r.statusText}`)}e(i=>({threads:i.threads.map(l=>l.id===n?{...l,archivedAt:null}:l)}))},resetAllThreads:async()=>{const n=await fetch(`${Ve}/threads/all?confirm=true`,{method:"DELETE"});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.detail||`HTTP ${n.status}: ${n.statusText}`)}t().cleanupAllConnections(),e({threads:[],activeThreadId:null,error:null})},setShowArchived:n=>{e({showArchived:n}),t().fetchThreads(!0)},loadMoreMessages:async n=>{const{pagination:r,threads:i}=t(),l=r[n],o=i.find(s=>s.id===n);if(!(l!=null&&l.isLoading||!(l!=null&&l.hasMore))){e(s=>({pagination:{...s.pagination,[n]:{...s.pagination[n],isLoading:!0}}}));try{const a=((o==null?void 0:o.messages)||[]).length,u=await fetch(`${Ve}/threads/${n}/messages?limit=50&offset=${a}`);if(!u.ok)throw new Error(`HTTP ${u.status}`);const f=await u.json();e(d=>{const h=d.threads.find(v=>v.id===n);if(!h)return d;const p=new Set(h.messages.map(v=>v.id)),g=f.messages.filter(v=>!p.has(v.id));return{threads:d.threads.map(v=>v.id===n?{...v,messages:[...g,...v.messages]}:v),pagination:{...d.pagination,[n]:{hasMore:f.hasMore,total:f.total,loadedCount:h.messages.length+g.length,isLoading:!1}}}})}catch(s){console.error("Failed to load more messages:",s),e(a=>({pagination:{...a.pagination,[n]:{...a.pagination[n],isLoading:!1}}}))}}},subscribeToThread:(n,r)=>{const{sseConnections:i}=t();if(i[n])return;const l=r?`${Ve}/threads/${n}/stream?last_event_id=${r}`:`${Ve}/threads/${n}/stream`,o=new EventSource(l),s=a=>{a.lastEventId&&e(u=>{const f=u.sseConnections[n];return f?{sseConnections:{...u.sseConnections,[n]:{...f,lastEventId:a.lastEventId}}}:u})};o.addEventListener("connected",()=>{console.log(`[SSE] Connected to thread ${n}`),e(a=>{const u=a.sseConnections[n];return u?{sseConnections:{...a.sseConnections,[n]:{...u,reconnectAttempts:0,reconnectTimeoutId:void 0}}}:a})}),o.addEventListener("text_delta",a=>{var f;s(a);const u=De(a.data,{content:""});console.log("[SSE] text_delta received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendTextToLastBlock(n,u.content)}),o.addEventListener("thinking",a=>{var f;s(a);const u=De(a.data,{});console.log("[SSE] thinking received:",(f=u.content)==null?void 0:f.slice(0,50)),u.content&&t().appendThinkingToLastBlock(n,u.content)}),o.addEventListener("tool_use",a=>{s(a);const u=De(a.data,{});console.log("[SSE] tool_use received:",u,"id:",u.id);const f=u.tool||u.name;f&&t().appendStreamingBlock(n,{type:"tool_use",name:f,input:u.input,id:u.id,isComplete:!1})}),o.addEventListener("tool_result",a=>{s(a);const u=De(a.data,{});if(console.log("[SSE] tool_result received:",u,"tool_use_id:",u.tool_use_id),u.tool_use_id){const f=u.is_error===!0,d=f&&typeof u.content=="string"?u.content:void 0;console.log("[SSE] Marking block complete:",u.tool_use_id,"isError:",f),t().markBlockComplete(n,u.tool_use_id,f,d),u.thread_id&&t().setSpawnedThreadId(u.tool_use_id,u.thread_id)}else console.warn("[SSE] tool_result missing tool_use_id:",u)}),o.addEventListener("question",a=>{s(a);const u=De(a.data,{});u.questions&&u.questions.length>0&&t().setPendingQuestion(n,u.questions)}),o.addEventListener("plan_approval",a=>{s(a);const u=De(a.data,{});if(u.timeout){console.warn("[SSE] Plan approval timed out:",u.message);return}u.planContent!==void 0&&t().setPendingPlanApproval(n,{planFilePath:u.planFilePath||"Plan",planContent:u.planContent||"",allowedPrompts:u.allowedPrompts})}),o.addEventListener("message",a=>{s(a);const u=De(a.data,{});u.message&&e(f=>{const d=f.threads.find(p=>p.id===n);return(d==null?void 0:d.messages.some(p=>p.id===u.message.id))?{threads:f.threads.map(p=>p.id===n?{...p,status:u.status||p.status}:p)}:{threads:f.threads.map(p=>p.id===n?{...p,messages:[...p.messages,u.message],status:u.status||p.status}:p)}})}),o.addEventListener("status_change",a=>{s(a);const u=De(a.data,{});u.status&&t().updateThreadStatus(n,u.status)}),o.addEventListener("stopped",a=>{s(a),console.log("[SSE] stopped received for thread",n),t().clearStreamingBlocks(n),t().updateThreadStatus(n,"active")}),o.addEventListener("config_change",a=>{s(a);const u=De(a.data,{});e(f=>({threads:f.threads.map(d=>d.id===n?{...d,...u.model!==void 0&&{model:u.model},...u.extendedThinking!==void 0&&{extendedThinking:u.extendedThinking},...u.permissionMode!==void 0&&{permissionMode:u.permissionMode},...u.autoReact!==void 0&&{autoReact:u.autoReact}}:d)}))}),o.addEventListener("title_change",a=>{s(a);const u=De(a.data,{});u.title&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,title:u.title}:d)}))}),o.addEventListener("subthread_status",a=>{s(a);const u=De(a.data,{});if(u.threadId&&u.status){const f=t().threads.find(d=>d.id===u.threadId);if(!Qx(f==null?void 0:f.status,u.status)){console.log(`[SSE] Ignoring status change from '${f==null?void 0:f.status}' to '${u.status}' for thread ${u.threadId}`);return}t().updateThreadStatus(u.threadId,u.status),(u.status==="done"||u.status==="needs_attention")&&t().addThreadNotification(n,{threadId:u.threadId,threadTitle:u.title||"Sub-thread",timestamp:new Date().toISOString(),status:u.status})}}),o.addEventListener("thread_created",a=>{s(a);const u=De(a.data,{});u.thread&&(e(f=>f.threads.some(h=>h.id===u.thread.id)?f:{threads:[...f.threads,u.thread]}),t().addThreadNotification(n,{threadId:u.thread.id,threadTitle:u.thread.title,timestamp:new Date().toISOString()}),u.thread.parentId===n&&t().sseConnections[n]&&t().subscribeToThread(u.thread.id,"0"))}),o.addEventListener("thread_archived",a=>{s(a);const u=De(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:new Date().toISOString()}:d)}))}),o.addEventListener("thread_unarchived",a=>{s(a);const u=De(a.data,{});u.threadId&&e(f=>({threads:f.threads.map(d=>d.id===u.threadId?{...d,archivedAt:null}:d)}))}),o.addEventListener("usage",a=>{s(a);const u=De(a.data,{});u.usage&&e(f=>({threads:f.threads.map(d=>d.id===n?{...d,lastUsage:u.usage,lastCostUsd:u.totalCostUsd}:d)}))}),o.addEventListener("complete",a=>{s(a);const u=De(a.data,{});console.log("[SSE] complete received"),setTimeout(()=>{t().clearStreamingBlocks(n)},Vx),u.message?e(f=>{const d=f.threads.find(p=>p.id===n);return(d==null?void 0:d.messages.some(p=>p.id===u.message.id))?{threads:f.threads.map(p=>p.id===n?{...p,status:u.status||p.status}:p)}:{threads:f.threads.map(p=>p.id===n?{...p,messages:[...p.messages,u.message],status:u.status||p.status}:p)}}):u.status&&t().updateThreadStatus(n,u.status)}),o.addEventListener("error",a=>{const u=a,f=u.data?De(u.data,{}):{};console.error(`[SSE] Error for thread ${n}:`,f.error||"Unknown error")}),o.onerror=()=>{const a=t().sseConnections[n],u=(a==null?void 0:a.reconnectAttempts)??0,f=5;if(console.error(`[SSE] Connection lost for thread ${n} (attempt ${u+1}/${f})`),a!=null&&a.reconnectTimeoutId&&clearTimeout(a.reconnectTimeoutId),o.close(),u>=f){console.error(`[SSE] Max reconnection attempts reached for thread ${n}`),t().unsubscribeFromThread(n);return}const d=t().activeThreadId,h=d?t().threads.find(E=>E.id===d):null,p=(h==null?void 0:h.parentId)===n;if(d!==n&&!p){t().unsubscribeFromThread(n);return}const g=Math.min(1e3*Math.pow(2,u),16e3);console.log(`[SSE] Reconnecting to thread ${n} in ${g}ms`);const v=setTimeout(()=>{var y;const E=t().activeThreadId,m=E?t().threads.find(C=>C.id===E):null;if(E===n||(m==null?void 0:m.parentId)===n){const C=(y=t().sseConnections[n])==null?void 0:y.lastEventId,{[n]:L,...j}=t().sseConnections;e({sseConnections:j}),t().subscribeToThread(n,C)}},g);e(E=>({sseConnections:{...E.sseConnections,[n]:{...a,reconnectAttempts:u+1,reconnectTimeoutId:v}}}))},e({sseConnections:{...i,[n]:{eventSource:o,threadId:n,reconnectAttempts:0,lastEventId:r}}})},unsubscribeFromThread:n=>{const{sseConnections:r}=t(),i=r[n];if(i){i.reconnectTimeoutId&&clearTimeout(i.reconnectTimeoutId),i.eventSource.close();const{[n]:l,...o}=r;e({sseConnections:o})}},appendStreamingBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=i.recentToolBlockIds[n]||[];let s=l.map(u=>({...u,isFinalized:!0})),a=[...o];if(r.type==="tool_use"&&r.id){for(console.log(`[FIFO] New tool_use block: ${r.id}, queue before:`,a,`limit: ${id}`);a.length>=id;){const u=a.shift();console.log(`[FIFO] Collapsing oldest block: ${u}`),u&&(s=s.map(f=>f.type==="tool_use"&&f.id===u?{...f,isCollapsed:!0}:f))}a.push(r.id),console.log("[FIFO] Queue after:",a)}else r.type==="tool_use"&&console.log("[FIFO] Tool block missing id:",r);return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{...r,timestamp:Date.now(),isFinalized:!1}]},expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:null},recentToolBlockIds:{...i.recentToolBlockIds,[n]:a}}})},appendTextToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="text"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"text",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},appendThinkingToLastBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[],o=l[l.length-1];if(o&&o.type==="thinking"&&!o.isFinalized){const s=[...l];return s[l.length-1]={...o,content:(o.content||"")+r,isFinalized:!1},{streamingBlocks:{...i.streamingBlocks,[n]:s}}}else{const s=l.map(a=>({...a,isFinalized:!0}));return{streamingBlocks:{...i.streamingBlocks,[n]:[...s,{type:"thinking",content:r,timestamp:Date.now(),isFinalized:!1}]}}}})},markBlockComplete:(n,r,i=!1,l)=>{console.log(`[SSE] markBlockComplete called: threadId=${n}, toolUseId=${r}, isError=${i}`),e(o=>{const s=o.streamingBlocks[n]||[],a=s.findIndex(u=>u.type==="tool_use"&&u.id===r);return console.log(`[SSE] Found block at index ${a}, total blocks: ${s.length}`),{streamingBlocks:{...o.streamingBlocks,[n]:s.map(u=>u.type==="tool_use"&&u.id===r?{...u,isComplete:!0,isFinalized:!0,isError:i,errorMessage:l}:u)}}})},collapseToolBlock:(n,r)=>{e(i=>{const l=i.streamingBlocks[n]||[];return{streamingBlocks:{...i.streamingBlocks,[n]:l.map(o=>o.type==="tool_use"&&o.id===r?{...o,isCollapsed:!0}:o)}}})},clearStreamingBlocks:n=>{e(r=>{const{[n]:i,...l}=r.streamingBlocks,{[n]:o,...s}=r.expandedStreamingBlockId,{[n]:a,...u}=r.recentToolBlockIds;return{streamingBlocks:l,expandedStreamingBlockId:s,recentToolBlockIds:u}})},setExpandedStreamingBlockId:(n,r)=>{e(i=>({expandedStreamingBlockId:{...i.expandedStreamingBlockId,[n]:r}}))},setPendingQuestion:(n,r)=>{e(i=>({pendingQuestion:{...i.pendingQuestion,[n]:r}}))},clearPendingQuestion:n=>{e(r=>{const{[n]:i,...l}=r.pendingQuestion;return{pendingQuestion:l}})},answerQuestion:async(n,r)=>{const i=await fetch(`${Ve}/threads/${n}/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:r})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.detail||`HTTP ${i.status}: ${i.statusText}`)}e(l=>{const s=[...l.streamingBlocks[n]||[]];for(let a=s.length-1;a>=0;a--){const u=s[a];if(u.type==="tool_use"&&u.name==="AskUserQuestion"&&!u.submittedAnswers){s[a]={...u,submittedAnswers:r,isComplete:!0};break}}return{streamingBlocks:{...l.streamingBlocks,[n]:s}}}),t().clearPendingQuestion(n)},setPendingPlanApproval:(n,r)=>{e(i=>({pendingPlanApproval:{...i.pendingPlanApproval,[n]:r}}))},clearPendingPlanApproval:n=>{e(r=>{const{[n]:i,...l}=r.pendingPlanApproval;return{pendingPlanApproval:l}})},handlePlanAction:async(n,r,i)=>{const l=await fetch(`${Ve}/threads/${n}/plan-action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:r,permissionMode:i})});if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.detail||`HTTP ${l.status}: ${l.statusText}`)}t().clearPendingPlanApproval(n)},addThreadNotification:(n,r)=>{e(i=>({threadNotifications:{...i.threadNotifications,[n]:[...i.threadNotifications[n]||[],r]}}))},clearThreadNotifications:n=>{e(r=>{const{[n]:i,...l}=r.threadNotifications;return{threadNotifications:l}})},cleanupAllConnections:()=>{const{sseConnections:n}=t();Object.values(n).forEach(r=>{r.eventSource.close()}),e({sseConnections:{},streamingBlocks:{},expandedStreamingBlockId:{},recentToolBlockIds:{},pendingQuestion:{},pendingPlanApproval:{},threadNotifications:{},pagination:{},spawnedThreadIds:{}})},setSpawnedThreadId:(n,r)=>{e(i=>({spawnedThreadIds:{...i.spawnedThreadIds,[n]:r}}))},getSpawnedThreadId:n=>t().spawnedThreadIds[n]})),Ko=[{value:"claude-sonnet-4-5",label:"Sonnet",desc:"Fast & capable",color:"bg-violet-500"},{value:"claude-opus-4-5",label:"Opus",desc:"Most powerful",color:"bg-amber-500"},{value:"claude-haiku-4-5",label:"Haiku",desc:"Quick responses",color:"bg-emerald-500"}],qo=[{value:"plan",label:"Plan",desc:"Review before executing",color:"border-blue-500 bg-blue-500/10 text-blue-700 dark:text-blue-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-approve file changes",color:"border-green-500 bg-green-500/10 text-green-700 dark:text-green-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},{value:"default",label:"Normal",desc:"Prompt for each action",color:"border-gray-400 bg-gray-500/10 text-gray-700 dark:text-gray-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{value:"bypassPermissions",label:"Bypass",desc:"Skip all prompts",color:"border-red-500 bg-red-500/10 text-red-700 dark:text-red-300",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}];function Kx({isOpen:e,parentModel:t,parentPermissionMode:n,onSubmit:r,onCancel:i}){const[l,o]=T.useState(""),[s,a]=T.useState(t),[u,f]=T.useState(n),d=T.useRef(null),h=T.useRef(null),p=T.useId();T.useEffect(()=>{var m;e?(h.current=document.activeElement,o(""),a(t),f(n),requestAnimationFrame(()=>{var x;return(x=d.current)==null?void 0:x.focus()})):(m=h.current)==null||m.focus()},[e,t,n]),T.useEffect(()=>{if(!e)return;const m=x=>{x.key==="Escape"&&i()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,i]);const g=T.useCallback(m=>{if(m.key==="Tab"){const x=m.currentTarget.querySelectorAll("input, button:not([disabled])"),y=x[0],C=x[x.length-1];m.shiftKey&&document.activeElement===y?(m.preventDefault(),C==null||C.focus()):!m.shiftKey&&document.activeElement===C&&(m.preventDefault(),y==null||y.focus())}},[]),v=m=>{m.preventDefault(),l.trim()&&r({title:l.trim(),model:s,permissionMode:u})},E=m=>{m.target===m.currentTarget&&i()};return e?(Ko.find(m=>m.value===s)||Ko[0],qo.find(m=>m.value===u)||qo[2],c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:E,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":p,className:"bg-background border border-border rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",onClick:m=>m.stopPropagation(),onKeyDown:g,children:[c.jsxs("div",{className:"px-6 py-4 border-b border-border bg-muted/30",children:[c.jsxs("h2",{id:p,className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Create Sub-Thread"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Spawn a parallel task with its own settings"})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${p}-title`,className:"block text-sm font-medium mb-2",children:"Thread Title"}),c.jsx("input",{id:`${p}-title`,ref:d,type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"e.g., Refactor auth module",className:`w-full px-4 py-2.5 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
                         placeholder:text-muted-foreground/50`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:Ko.map(m=>c.jsxs("button",{type:"button",onClick:()=>a(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${s===m.value?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${m.color}`}),c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),s===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Permission Mode"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:qo.map(m=>c.jsxs("button",{type:"button",onClick:()=>f(m.value),className:`relative px-3 py-2.5 rounded-lg border-2 transition-all text-left
                    ${u===m.value?`${m.color} border-current`:"border-border hover:border-muted-foreground/30 hover:bg-muted/50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[m.icon,c.jsx("span",{className:"font-medium text-sm",children:m.label})]}),c.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:m.desc}),u===m.value&&c.jsx("div",{className:"absolute top-1.5 right-1.5",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},m.value))}),u==="bypassPermissions"&&c.jsxs("p",{className:"mt-2 text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Caution: All actions will be auto-approved"]})]}),c.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:!l.trim(),className:`px-5 py-2 text-sm bg-primary text-primary-foreground rounded-lg
                         hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed
                         transition-colors font-medium flex items-center gap-2`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Thread"]})]})]})]})})):null}const qx={};function Gx(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var l;const o=a=>a===null?null:JSON.parse(a,void 0),s=(l=n.getItem(i))!=null?l:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,l)=>n.setItem(i,JSON.stringify(l,void 0)),removeItem:i=>n.removeItem(i)}}const ki=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ki(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ki(r)(n)}}}},Xx=(e,t)=>(n,r,i)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,m)=>({...m,...E}),...t},o=!1;const s=new Set,a=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...E)},r,i);const f=ki(l.serialize),d=()=>{const E=l.partialize({...r()});let m;const x=f({state:E,version:l.version}).then(y=>u.setItem(l.name,y)).catch(y=>{m=y});if(m)throw m;return x},h=i.setState;i.setState=(E,m)=>{h(E,m),d()};const p=e((...E)=>{n(...E),d()},r,i);let g;const v=()=>{var E;if(!u)return;o=!1,s.forEach(x=>x(r()));const m=((E=l.onRehydrateStorage)==null?void 0:E.call(l,r()))||void 0;return ki(u.getItem.bind(u))(l.name).then(x=>{if(x)return l.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return l.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return g=l.merge(x,(y=r())!=null?y:p),n(g,!0),d()}).then(()=>{m==null||m(g,void 0),o=!0,a.forEach(x=>x(g))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:E=>{l={...l,...E},E.getStorage&&(u=E.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:E=>(s.add(E),()=>{s.delete(E)}),onFinishHydration:E=>(a.add(E),()=>{a.delete(E)})},v(),g||p},Yx=(e,t)=>(n,r,i)=>{let l={storage:Gx(()=>localStorage),partialize:v=>v,version:0,merge:(v,E)=>({...E,...v}),...t},o=!1;const s=new Set,a=new Set;let u=l.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...v)},r,i);const f=()=>{const v=l.partialize({...r()});return u.setItem(l.name,{state:v,version:l.version})},d=i.setState;i.setState=(v,E)=>{d(v,E),f()};const h=e((...v)=>{n(...v),f()},r,i);i.getInitialState=()=>h;let p;const g=()=>{var v,E;if(!u)return;o=!1,s.forEach(x=>{var y;return x((y=r())!=null?y:h)});const m=((E=l.onRehydrateStorage)==null?void 0:E.call(l,(v=r())!=null?v:h))||void 0;return ki(u.getItem.bind(u))(l.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==l.version){if(l.migrate)return[!0,l.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[C,L]=x;if(p=l.merge(L,(y=r())!=null?y:h),n(p,!0),C)return f()}).then(()=>{m==null||m(p,void 0),p=r(),o=!0,a.forEach(x=>x(p))}).catch(x=>{m==null||m(void 0,x)})};return i.persist={setOptions:v=>{l={...l,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(s.add(v),()=>{s.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},l.skipHydration||g(),p||h},Jx=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((qx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Xx(e,t)):Yx(e,t),Zx=Jx,ld={defaultModel:"claude-opus-4-5",defaultPermissionMode:"acceptEdits",defaultExtendedThinking:!0,defaultAutoReact:!0,showArchivedByDefault:!1,theme:"system",experimentalAllowNestedSubthreads:!1,experimentalMaxThreadDepth:3},Ot=Nh()(Zx(e=>({...ld,isSettingsOpen:!1,openSettings:()=>e({isSettingsOpen:!0}),closeSettings:()=>e({isSettingsOpen:!1}),toggleSettings:()=>e(t=>({isSettingsOpen:!t.isSettingsOpen})),isCreateThreadModalOpen:!1,openCreateThreadModal:()=>e({isCreateThreadModalOpen:!0}),closeCreateThreadModal:()=>e({isCreateThreadModalOpen:!1}),isCommandPaletteOpen:!1,openCommandPalette:()=>e({isCommandPaletteOpen:!0}),closeCommandPalette:()=>e({isCommandPaletteOpen:!1}),toggleCommandPalette:()=>e(t=>({isCommandPaletteOpen:!t.isCommandPaletteOpen})),updateSettings:t=>e(n=>({...n,...t})),resetToDefaults:()=>e(ld)}),{name:"mainthread-settings",partialize:e=>({defaultModel:e.defaultModel,defaultPermissionMode:e.defaultPermissionMode,defaultExtendedThinking:e.defaultExtendedThinking,defaultAutoReact:e.defaultAutoReact,showArchivedByDefault:e.showArchivedByDefault,theme:e.theme,experimentalAllowNestedSubthreads:e.experimentalAllowNestedSubthreads,experimentalMaxThreadDepth:e.experimentalMaxThreadDepth})}));function vu({enabled:e,onChange:t,label:n,size:r="sm"}){const i=r==="sm"?{track:"w-8 h-4",thumb:"w-3 h-3",translate:"translate-x-4"}:{track:"w-10 h-5",thumb:"w-4 h-4",translate:"translate-x-5"};return c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`
          ${i.track} rounded-full transition-colors duration-200 ease-in-out
          relative inline-flex items-center shrink-0
          ${e?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
            ${i.thumb} rounded-full bg-white shadow-sm
            transform transition-transform duration-200 ease-in-out
            ${e?i.translate:"translate-x-0.5"}
          `})}),n&&c.jsx("span",{className:"text-xs text-foreground",children:n})]})}function ey({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Go({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function ty({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 10V5a2 2 0 012-2h6a2 2 0 012 2v5M7 10v4a2 2 0 002 2h6a2 2 0 002-2v-4M7 10h10"})})}function Xo({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function od({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function ny({className:e}){return c.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function ry({className:e}){return c.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]})}function Yo(e,t=!1){const n="/Users/";let r=e;if(e.startsWith(n)){const i=e.slice(n.length),l=i.indexOf("/");l>0&&(r="~"+i.slice(l))}if(t){const i=r.split("/").filter(Boolean);return i.length<=2?r:"~/"+i.slice(-2).join("/")}return r}const iy=[{value:"claude-sonnet-4-5",label:"Sonnet 4.5",description:"Fast and capable"},{value:"claude-opus-4-5",label:"Opus 4.5",description:"Most powerful"},{value:"claude-haiku-4-5",label:"Haiku 4.5",description:"Quick responses"}],ly=[{value:"plan",label:"Plan",description:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",description:"Auto-accept file changes"},{value:"default",label:"Normal",description:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass",description:"Skip all permission prompts"}];function Th({isOpen:e,onSubmit:t,onCancel:n}){const{defaultModel:r,defaultExtendedThinking:i,defaultPermissionMode:l,openSettings:o,closeCreateThreadModal:s}=Ot(),[a,u]=T.useState(""),[f,d]=T.useState(""),[h,p]=T.useState(r),[g,v]=T.useState(i),[E,m]=T.useState(l),x=T.useRef(null),y=T.useRef(null),C=T.useRef(null),L=T.useId(),[j,P]=T.useState([]),[_,A]=T.useState(!1),[w,F]=T.useState(0),[O,K]=T.useState(null),[Z,$]=T.useState(!1),[se,ne]=T.useState([]),[N,B]=T.useState(null),[k,X]=T.useState(!1),[U,b]=T.useState(null),[fe,Se]=T.useState(!1),[re,Ce]=T.useState(!1),[Me,Ie]=T.useState(""),[Fe,jt]=T.useState(!1),[D,W]=T.useState("");T.useEffect(()=>{if(!e)return;const S=M=>{M.key==="Escape"&&n()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[e,n]),T.useEffect(()=>{var S;e?(C.current=document.activeElement,u(""),p(r),v(i),m(l),P([]),A(!1),K(null),ne([]),B(null),b(null),Se(!1),Ce(!1),Ie(""),jt(!1),W(""),fetch("/api/cwd").then(M=>M.ok?M.json():null).then(M=>{M!=null&&M.path?(d(M.path),K(!0)):d("")}).catch(()=>d("")),fetch("/api/directories/suggestions").then(M=>M.ok?M.json():[]).then(M=>ne(M)).catch(()=>ne([])),requestAnimationFrame(()=>{var M;(M=x.current)==null||M.focus()})):(S=C.current)==null||S.focus()},[e,r,i,l]);const ie=T.useCallback(async S=>{try{const M=await fetch(`/api/browse?path=${encodeURIComponent(S)}&type=directory`);if(M.ok){const V=await M.json();if(P(V),F(0),!S){K(null);return}const G=S.replace(/\/$/,""),ae=V.some(Ye=>Ye.path===G||Ye.path===S),ot=V.length>0&&V.every(Ye=>Ye.path.startsWith(G+"/"));if(ae||ot)K(!0);else{const Ye=V.length>0;K(Ye?null:!1)}}}catch{P([])}},[]);T.useEffect(()=>{const S=setTimeout(()=>ie(f),150);return()=>clearTimeout(S)},[f,ie]),T.useEffect(()=>{if(!f||O===!1){B(null),b(null);return}const M=setTimeout(async()=>{X(!0);try{const V=await fetch(`/api/git/info?path=${encodeURIComponent(f)}`);if(V.ok){const G=await V.json();B(G),G.isGitRepo&&G.currentBranch?(b(G.currentBranch),K(!0)):G.repoRoot}}catch{B(null)}finally{X(!1)}},500);return()=>clearTimeout(M)},[f,O]),T.useEffect(()=>{if(!(N!=null&&N.repoRoot)||!U||U===N.currentBranch){W("");return}const S=U.replace(/[\/\\]/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase(),M=N.repoName||"repo",V=N.repoRoot.split("/").slice(0,-1).join("/");W(`${V}/${M}-${S}`)},[U,N]);const ce=T.useCallback(S=>{if(S.key==="Tab"){const M=S.currentTarget.querySelectorAll("input, select, button:not([disabled])"),V=M[0],G=M[M.length-1];S.shiftKey&&document.activeElement===V?(S.preventDefault(),G==null||G.focus()):!S.shiftKey&&document.activeElement===G&&(S.preventDefault(),V==null||V.focus())}},[]),ye=S=>{if(!(!_||j.length===0))switch(S.key){case"ArrowDown":S.preventDefault(),F(M=>Math.min(M+1,j.length-1));break;case"ArrowUp":S.preventDefault(),F(M=>Math.max(M-1,0));break;case"Enter":j[w]&&(S.preventDefault(),d(j[w].path),A(!1));break;case"Escape":S.preventDefault(),A(!1);break;case"Tab":j[w]&&(S.preventDefault(),d(j[w].path),A(!1));break}},I=async()=>{if(f){$(!0);try{const S=await fetch("/api/directories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:f})});if(S.ok){const M=await S.json();d(M.path),K(!0)}}catch(S){console.error("Failed to create directory:",S)}finally{$(!1)}}},Q=S=>{var M;d(S.path),A(!1),(M=y.current)==null||M.focus()},gt=S=>{b(S),Se(!1),Ce(!1),Ie("")},tn=()=>{Ce(!0),Se(!1)},xt=()=>{Me.trim()&&(b(Me.trim()),Ce(!1),Ie(""))},yo=S=>{if(S.preventDefault(),a.trim()){const M={title:a.trim(),workDir:f.trim()||void 0,model:h,extendedThinking:g,permissionMode:E};N!=null&&N.isGitRepo&&U&&U!==N.currentBranch&&(M.gitBranch=U,M.useWorktree=Fe,Fe&&D&&(M.worktreePath=D)),t(M)}},vo=S=>{S.target===S.currentTarget&&n()},Mi=(N==null?void 0:N.isGitRepo)&&U&&U!==N.currentBranch,Ii=(N==null?void 0:N.isGitRepo)&&U&&!N.branches.includes(U);return e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:vo,role:"presentation",children:c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":L,className:"bg-background border border-border rounded-lg shadow-lg p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),onKeyDown:ce,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{id:L,className:"text-lg font-semibold",children:"Create New Thread"}),c.jsx("button",{type:"button",onClick:()=>{s(),o()},className:"p-1.5 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",title:"Configure defaults",children:c.jsx(ey,{className:"w-4 h-4"})})]}),c.jsxs("form",{onSubmit:yo,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${L}-title`,className:"block text-sm font-medium mb-1",children:"Title"}),c.jsx("input",{id:`${L}-title`,ref:x,type:"text",value:a,onChange:S=>u(S.target.value),placeholder:"Enter thread title...",className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:`${L}-workdir`,className:"block text-sm font-medium mb-1",children:"Working Directory"}),se.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:se.slice(0,8).map(S=>c.jsxs("button",{type:"button",onClick:()=>{d(S.path),K(!0)},className:`px-2 py-1 text-xs rounded-full bg-muted hover:bg-muted/80
                               flex items-center gap-1 text-muted-foreground hover:text-foreground
                               transition-colors border border-transparent hover:border-border/50`,title:Yo(S.path),children:[S.type==="git"&&c.jsx(ry,{className:"w-3 h-3"}),S.type==="recent"&&c.jsx(ny,{className:"w-3 h-3"}),S.type==="folder"&&c.jsx(Go,{className:"w-3 h-3"}),c.jsx("span",{className:"truncate max-w-[140px] font-mono",children:Yo(S.path,!0)})]},S.path))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:`${L}-workdir`,ref:y,type:"text",value:f,onChange:S=>{d(S.target.value),A(!0)},onFocus:()=>{A(!0),j.length===0&&f&&ie(f)},onBlur:()=>{setTimeout(()=>A(!1),200)},onKeyDown:ye,placeholder:"~ or /path/to/project",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true",className:`w-full px-4 py-2 pr-10 rounded-lg border border-border bg-background
                           focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`}),c.jsx(Go,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]}),_&&j.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:j.map((S,M)=>c.jsxs("button",{type:"button",onClick:()=>Q(S),onMouseEnter:()=>F(M),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${M===w?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx(Go,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate font-mono text-xs",children:Yo(S.path)})]},S.path))}),f&&c.jsx("div",{className:"mt-1.5 flex items-center gap-2",children:O===!1?c.jsxs(c.Fragment,{children:[c.jsx(od,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-xs text-amber-600",children:"Path does not exist"}),c.jsx("button",{type:"button",onClick:I,disabled:Z,className:"text-xs text-primary hover:underline disabled:opacity-50",children:Z?"Creating...":"Create it?"})]}):O===!0&&(N!=null&&N.isGitRepo)?c.jsxs(c.Fragment,{children:[c.jsx(Xo,{className:"w-4 h-4 text-green-500"}),c.jsxs("span",{className:"text-xs text-green-600",children:["Git repository: ",N.repoName]})]}):O===!0?c.jsxs(c.Fragment,{children:[c.jsx(Xo,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"(not a git repository)"})]}):null})]}),(N==null?void 0:N.isGitRepo)&&c.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded-lg border border-border",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("label",{htmlFor:`${L}-branch`,className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[c.jsx(ty,{className:"w-4 h-4"}),"Branch",c.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(use worktree for parallel work)"})]}),re?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:Me,onChange:S=>Ie(S.target.value),placeholder:"feature/new-branch",className:`flex-1 px-3 py-2 rounded-lg border border-border bg-background
                                 focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm`,autoFocus:!0,onKeyDown:S=>{S.key==="Enter"?(S.preventDefault(),xt()):S.key==="Escape"&&(Ce(!1),Ie(""))}}),c.jsx("button",{type:"button",onClick:xt,disabled:!Me.trim(),className:"px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 disabled:opacity-50",children:"Create"}),c.jsx("button",{type:"button",onClick:()=>{Ce(!1),Ie("")},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"})]}):c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>Se(!fe),className:`w-full px-4 py-2 rounded-lg border border-border bg-background text-left
                                 focus:outline-none focus:ring-2 focus:ring-primary flex items-center justify-between`,children:[c.jsxs("span",{className:"font-mono text-sm",children:[U||N.currentBranch,U===N.currentBranch&&c.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(current)"}),Ii&&c.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(new)"})]}),c.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),fe&&c.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[N.branches.map(S=>c.jsxs("button",{type:"button",onClick:()=>gt(S),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 ${S===U?"bg-muted":""}`,children:[S===U&&c.jsx(Xo,{className:"w-4 h-4 text-primary flex-shrink-0"}),c.jsx("span",{className:`font-mono ${S!==U?"ml-6":""}`,children:S}),S===N.currentBranch&&c.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"(current)"})]},S)),c.jsx("div",{className:"border-t border-border",children:c.jsx("button",{type:"button",onClick:tn,className:"w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-muted/50 text-primary",children:c.jsx("span",{className:"ml-6",children:"+ Create new branch..."})})})]})]})]}),Mi&&!Ii&&!Fe&&c.jsxs("div",{className:"flex items-start gap-2 p-2 bg-amber-50 border border-amber-200 rounded-lg text-sm",children:[c.jsx(od,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-amber-700",children:["This will checkout '",U,"' in the repository."]}),c.jsx("p",{className:"text-amber-600 text-xs mt-0.5",children:"Any uncommitted changes may be affected. Consider using a worktree instead."})]})]}),Mi&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Fe,onChange:S=>jt(S.target.checked),className:"w-4 h-4 rounded border-border"}),c.jsxs("span",{className:"text-sm",children:["Use git worktree",c.jsx("span",{className:"text-muted-foreground ml-1",children:"(recommended for parallel work)"})]})]}),Fe&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-muted-foreground mb-1",children:"Worktree path:"}),c.jsx("input",{type:"text",value:D,onChange:S=>W(S.target.value),placeholder:"Auto-generated path...",className:`w-full px-3 py-1.5 rounded border border-border bg-background
                                   focus:outline-none focus:ring-1 focus:ring-primary font-mono text-xs`})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${L}-model`,className:"block text-sm font-medium mb-1",children:"Model"}),c.jsx("select",{id:`${L}-model`,value:h,onChange:S=>p(S.target.value),className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                         focus:outline-none focus:ring-2 focus:ring-primary`,children:iy.map(S=>c.jsxs("option",{value:S.value,children:[S.label," - ",S.description]},S.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:`${L}-permission-mode`,className:"block text-sm font-medium mb-1",children:"Permission Mode"}),c.jsx("select",{id:`${L}-permission-mode`,value:E,onChange:S=>m(S.target.value),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${E==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,children:ly.map(S=>c.jsxs("option",{value:S.value,children:[S.value==="bypassPermissions"?" ":"",S.label," - ",S.description]},S.value))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(vu,{enabled:g,onChange:v,label:"Extended Thinking",size:"md"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Extended reasoning for complex tasks"})]}),c.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!a.trim(),className:`px-4 py-2 bg-primary text-primary-foreground rounded-lg
                         hover:opacity-90 disabled:opacity-50`,children:"Create Thread"})]})]})]})}):null}function Cr({children:e,className:t=""}){return c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:`max-w-[60%] w-full ${t}`,children:e})})}function Lh({variant:e="primary"}){const t=e==="thinking"?"bg-amber-500/70":"bg-primary/70";return c.jsx("span",{className:`inline-block w-0.5 h-4 ${t} animate-cursor-blink ml-1`,"aria-hidden":"true"})}function Ph({content:e,isStreaming:t=!1,blockId:n,isExpanded:r,onToggle:i}){const[l,o]=T.useState(!1),s=r!==void 0&&i!==void 0,a=s?r:l,u=s?i:()=>o(!l);return c.jsx(Cr,{children:c.jsxs("div",{className:"thinking-block bg-amber-50/60 dark:bg-amber-900/15 border border-amber-200 dark:border-amber-800 rounded-lg overflow-hidden",children:[c.jsxs("button",{onClick:u,className:"thinking-header w-full flex items-center gap-2 px-3 py-2 text-amber-700 dark:text-amber-300 hover:bg-amber-100/50 dark:hover:bg-amber-800/30 transition-colors","aria-expanded":a,"aria-controls":n?`thinking-content-${n}`:"thinking-content",children:[c.jsx("span",{className:"w-5 h-5 bg-amber-400 dark:bg-amber-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsx("span",{role:"img","aria-label":"thinking",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),c.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:t?c.jsxs("span",{className:"flex items-center gap-2",children:["thinking",c.jsxs("span",{className:"flex gap-0.5",children:[c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}):"Claude's Reasoning"}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&c.jsxs("div",{id:n?`thinking-content-${n}`:"thinking-content",className:"thinking-content px-4 py-3 text-sm text-amber-600 dark:text-amber-400 italic border-t border-amber-200/50 dark:border-amber-700/50 animate-slide-down",children:[c.jsx("pre",{className:"whitespace-pre-wrap font-mono text-xs leading-relaxed",children:e}),t&&c.jsx(Lh,{variant:"thinking"})]})]})})}function oy({questions:e,onAnswer:t,onCancel:n}){const[r,i]=T.useState({}),[l,o]=T.useState({}),[s,a]=T.useState(0),[u,f]=T.useState(0),d=T.useRef(new Map);if(e.length===0)return null;const h=e[s],p=s===e.length-1,g=T.useMemo(()=>{const P=r[h.question]||[],_=l[h.question];return P.length>0||!!_},[r,l,h.question]),v=P=>{const _=h;i(A=>{const w=A[_.question]||[];return _.multiSelect?w.includes(P)?{...A,[_.question]:w.filter(F=>F!==P)}:{...A,[_.question]:[...w,P]}:{...A,[_.question]:[P]}}),o(A=>({...A,[_.question]:""})),_.multiSelect||setTimeout(()=>{p?E(P):(a(A=>A+1),f(0))},150)},E=P=>{const _={};for(const A of e)if(A.question===h.question)_[A.question]=P;else{const w=r[A.question]||[],F=l[A.question];F?_[A.question]=F:w.length>0&&(_[A.question]=w.join(", "))}t(_)},m=()=>{const P={};for(const _ of e){const A=r[_.question]||[],w=l[_.question];w?P[_.question]=w:A.length>0&&(P[_.question]=A.join(", "))}t(P)},x=()=>{!p&&g&&(a(P=>P+1),f(0))},y=()=>{s>0&&(a(P=>P-1),f(0))},C=P=>{P.key==="Enter"&&l[h.question]&&(P.preventDefault(),p?m():x())},L=T.useCallback((P,_)=>{const A=h.options.length;switch(P.key){case"ArrowDown":P.preventDefault(),f(w=>Math.min(w+1,A-1));break;case"ArrowUp":P.preventDefault(),f(w=>Math.max(w-1,0));break;case"Enter":case" ":P.preventDefault(),v(h.options[_].label);break;case"ArrowRight":!h.multiSelect&&g&&!p&&(P.preventDefault(),x());break;case"ArrowLeft":s>0&&(P.preventDefault(),y());break}},[h,p,s]);T.useEffect(()=>{const P=d.current.get(u);P==null||P.focus()},[u,s]);const j=r[h.question]||[];return c.jsx("div",{className:"flex justify-start animate-fade-in my-3",children:c.jsx("div",{className:"max-w-[500px] w-full",children:c.jsxs("div",{className:"bg-amber-50/80 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-700 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-amber-200/50 dark:border-amber-700/50 bg-amber-100/50 dark:bg-amber-800/20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),c.jsx("span",{className:"font-medium text-amber-800 dark:text-amber-200 text-sm",children:"Agent needs your input"})]}),e.length>1&&c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400","aria-label":`Question ${s+1} of ${e.length}`,children:[s+1," / ",e.length]})]}),e.length>1&&c.jsx("div",{className:"mt-2 h-1 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":s+1,"aria-valuemin":1,"aria-valuemax":e.length,"aria-label":"Question progress",children:c.jsx("div",{className:"h-full bg-amber-500 transition-all duration-300",style:{width:`${(s+1)/e.length*100}%`}})})]}),c.jsxs("div",{className:"p-4",children:[h.header&&c.jsx("span",{className:"inline-block px-2 py-0.5 bg-amber-500/20 text-amber-700 dark:text-amber-300 text-xs rounded-full font-medium mb-2",children:h.header}),c.jsx("p",{className:"font-medium text-foreground mb-4",children:h.question}),c.jsxs("div",{className:"space-y-2",children:[h.options.map((P,_)=>{const A=j.includes(P.label);return c.jsx("button",{ref:w=>{w?d.current.set(_,w):d.current.delete(_)},onClick:()=>v(P.label),onKeyDown:w=>L(w,_),tabIndex:u===_?0:-1,className:`w-full text-left p-3 rounded-lg border transition-all focus:outline-none focus:ring-2 focus:ring-amber-400/50 ${A?"border-amber-500 bg-amber-100/50 dark:bg-amber-800/30 scale-[1.02]":"border-amber-200 dark:border-amber-700/50 hover:border-amber-400 hover:bg-amber-50/50 dark:hover:bg-amber-800/20"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`mt-0.5 w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors ${A?"border-amber-500 bg-amber-500":"border-amber-400"}`,children:A&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm",children:P.label}),P.description&&c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:P.description})]})]})},_)}),c.jsx("div",{className:"pt-2",children:c.jsx("input",{type:"text",placeholder:"Or type a custom answer...","aria-label":"Custom answer",value:l[h.question]||"",onChange:P=>{o(_=>({..._,[h.question]:P.target.value})),P.target.value&&i(_=>({..._,[h.question]:[]}))},onKeyDown:C,className:"w-full px-3 py-2 text-sm border border-amber-200 dark:border-amber-700/50 rounded-lg bg-white/50 dark:bg-background/50 focus:outline-none focus:ring-2 focus:ring-amber-400/50"})})]})]}),c.jsxs("div",{className:"px-4 py-3 border-t border-amber-200/50 dark:border-amber-700/50 bg-amber-50/50 dark:bg-amber-800/10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-2",children:[s>0&&c.jsxs("button",{onClick:y,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),c.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm rounded-lg text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors",children:"Skip"})]}),c.jsxs("div",{children:[h.multiSelect&&!p&&c.jsxs("button",{onClick:x,disabled:!g,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:["Next",c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),p&&h.multiSelect&&g&&c.jsx("button",{onClick:m,className:"px-4 py-1.5 text-sm rounded-lg bg-amber-500 text-white hover:bg-amber-600 transition-colors",children:"Submit"})]})]})]})})})}function sy({notification:e,onNavigate:t}){return c.jsx("div",{className:"my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"w-full flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 bg-purple-500",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:"spawned"})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function ay({notification:e,onNavigate:t}){const n=e.status==="done";e.status;const i=n?{bgColor:"bg-green-500",textColor:"text-green-600 dark:text-green-400",label:"completed",icon:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}:{bgColor:"bg-red-500",textColor:"text-red-600 dark:text-red-400",label:"blocked",icon:c.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})})};return c.jsx("div",{className:"my-2",children:c.jsxs("button",{onClick:()=>t(e.threadId),className:"w-full flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:[c.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0 ${i.bgColor}`,children:i.icon}),c.jsxs("span",{className:"flex-1 text-left text-sm flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs truncate max-w-[200px]",children:e.threadTitle}),c.jsx("span",{className:`text-xs ${i.textColor}`,children:i.label})]}),c.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function uy(e){if(!e)return"";const t=[/^\/Users\/[^/]+/,/^\/home\/[^/]+/,/^C:\\Users\\[^\\]+/i];for(const n of t)if(n.test(e))return e.replace(n,"~");return e}function cy({thread:e,parentThread:t,tokenInfo:n,onNavigateToParent:r,onClearThread:i,onArchiveThread:l}){const[o,s]=T.useState(!1),a=T.useCallback(async()=>{if(!e.sessionId||!e.workDir)return;const v=`cd "${e.workDir}" && claude --resume ${e.sessionId}`;try{await navigator.clipboard.writeText(v),s(!0),setTimeout(()=>s(!1),2e3)}catch{}},[e.sessionId,e.workDir]),u=e.lastUsage,f=u==null?void 0:u.input_tokens,d=u==null?void 0:u.output_tokens,h=f!=null&&d!=null?f+d:(n==null?void 0:n.totalTokens)||0,p=!!u,g=e.lastCostUsd;return c.jsxs("div",{className:"border-b border-border px-4 py-2 flex items-center justify-between bg-muted/30 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{children:[t&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-0.5",children:[c.jsx("button",{onClick:r,className:"hover:text-foreground hover:underline transition-colors",children:t.title}),c.jsx("span",{children:"/"})]}),c.jsx("h2",{className:"font-semibold text-sm",children:e.title}),e.workDir&&c.jsx("p",{className:"text-xs text-muted-foreground",title:e.workDir,children:uy(e.workDir)})]}),e.gitBranch&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-500/10 text-blue-600 text-xs",children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"6",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"18",cy:"6",r:"2",strokeWidth:2}),c.jsx("circle",{cx:"6",cy:"18",r:"2",strokeWidth:2}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 8v8M18 8v4a4 4 0 01-4 4H6"})]}),e.gitBranch,e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 bg-blue-500/20 rounded",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"worktree"})]}),(u||n)&&h>0&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p&&f!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Input: ${f.toLocaleString()} tokens`,children:["i: ",f>=1e3?`${(f/1e3).toFixed(1)}K`:f]}),p&&d!=null&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Output: ${d.toLocaleString()} tokens`,children:["o: ",d>=1e3?`${(d/1e3).toFixed(1)}K`:d]}),!p&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`~${h.toLocaleString()} estimated tokens`,children:["~",h>=1e3?`${(h/1e3).toFixed(1)}K`:h]}),g!=null&&g>0&&c.jsxs("span",{className:"px-1.5 py-0.5 rounded bg-muted text-muted-foreground",title:`Cost: $${g.toFixed(6)}`,children:["$",g.toFixed(4)]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[e.sessionId&&e.workDir&&c.jsxs("button",{onClick:a,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted flex items-center gap-1",title:`cd "${e.workDir}" && claude --resume ${e.sessionId}`,children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),o?"Copied!":"Resume in CLI"]}),c.jsx("button",{onClick:i,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground",title:"Clear all messages",children:"Clear"}),c.jsxs("button",{onClick:l,className:"text-xs px-2 py-1 rounded border border-border bg-background hover:bg-muted text-muted-foreground hover:text-foreground flex items-center gap-1",title:"Archive thread",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Archive"]})]})]})}const dy=[{value:"claude-sonnet-4-5",label:"Sonnet 4.5"},{value:"claude-opus-4-5",label:"Opus 4.5"},{value:"claude-haiku-4-5",label:"Haiku 4.5"}],fy=[{value:"plan",label:"Plan"},{value:"acceptEdits",label:"Accept"},{value:"default",label:"Normal"},{value:"bypassPermissions",label:"Bypass"}];function py({thread:e,disabled:t,onSendMessage:n,onCreateThread:r,onModelChange:i,onPermissionModeChange:l,onThinkingToggle:o,onStopThread:s,onAutoReactToggle:a,onError:u}){const[f,d]=T.useState(""),h=T.useRef(null),p=T.useRef(null),[g,v]=T.useState([]),[E,m]=T.useState(!1),[x,y]=T.useState([]),[C,L]=T.useState(!1),[j,P]=T.useState(""),[_,A]=T.useState([]),[w,F]=T.useState(0),O=T.useRef(null),K=D=>new Promise((W,ie)=>{const ce=new FileReader;ce.onload=()=>{const I=ce.result.split(",")[1];W(I)},ce.onerror=ie,ce.readAsDataURL(D)}),Z=async D=>{if(!D.type.startsWith("image/")){u("Only image files are supported");return}if(g.length>=10){u("Maximum 10 images allowed");return}try{const W=await K(D),ie=`data:${D.type};base64,${W}`,ce={id:`img-${Date.now()}-${Math.random().toString(36).slice(2)}`,data:W,media_type:D.type,preview:ie,name:D.name};v(ye=>[...ye,ce])}catch{u("Failed to process image")}},$=D=>{D.preventDefault(),D.stopPropagation(),m(!0)},se=D=>{D.preventDefault(),D.stopPropagation(),D.currentTarget.contains(D.relatedTarget)||m(!1)},ne=D=>{D.preventDefault(),D.stopPropagation()},N=async D=>{D.preventDefault(),D.stopPropagation(),m(!1);const W=Array.from(D.dataTransfer.files);for(const ie of W)ie.type.startsWith("image/")&&await Z(ie)},B=async D=>{const W=Array.from(D.clipboardData.items);for(const ie of W)if(ie.type.startsWith("image/")){D.preventDefault();const ce=ie.getAsFile();ce&&await Z(ce)}},k=async D=>{const W=D.target.files;if(W){for(const ie of Array.from(W))ie.type.startsWith("image/")&&await Z(ie);D.target.value=""}},X=D=>{v(W=>W.filter(ie=>ie.id!==D))};T.useEffect(()=>{if(!C||!e.workDir){A([]);return}const W=setTimeout(async()=>{try{const ie=new URLSearchParams({limit:"20"});j&&ie.set("query",j);const ce=await fetch(`/api/threads/${e.id}/files?${ie}`);if(ce.ok){const ye=await ce.json();A(ye),F(0)}}catch{A([])}},150);return()=>clearTimeout(W)},[C,j,e.id,e.workDir]);const U=D=>{const W=D.target.value;d(W);const ie=D.target.selectionStart||0,ye=W.slice(0,ie).match(/@([^\s]*)$/);ye?(L(!0),P(ye[1])):(L(!1),P(""))},b=D=>{var ye,I;x.find(Q=>Q.path===D.path)||y(Q=>[...Q,D]);const W=((ye=h.current)==null?void 0:ye.selectionStart)||0,ce=f.slice(0,W).match(/@([^\s]*)$/);if(ce){const Q=f.slice(0,W-ce[0].length)+f.slice(W);d(Q)}L(!1),P(""),(I=h.current)==null||I.focus()},fe=D=>{y(W=>W.filter(ie=>ie.path!==D))},Se=D=>{if(!(!C||_.length===0))switch(D.key){case"ArrowDown":D.preventDefault(),F(W=>Math.min(W+1,_.length-1));break;case"ArrowUp":D.preventDefault(),F(W=>Math.max(W-1,0));break;case"Enter":_[w]&&(D.preventDefault(),b(_[w]));break;case"Escape":D.preventDefault(),L(!1);break;case"Tab":_[w]&&(D.preventDefault(),b(_[w]));break}},re=T.useCallback(async()=>{const D=["plan","acceptEdits","default","bypassPermissions"],ie=(D.indexOf(e.permissionMode)+1)%D.length;try{await l(D[ie])}catch(ce){u(ce instanceof Error?ce.message:"Failed to update permission mode")}},[e.permissionMode,l,u]);T.useEffect(()=>{const D=W=>{W.key==="Enter"&&W.shiftKey&&document.activeElement===h.current&&(W.preventDefault(),W.stopPropagation(),re())};return document.addEventListener("keydown",D,{capture:!0}),()=>{document.removeEventListener("keydown",D,{capture:!0})}},[re]),T.useEffect(()=>{const D=W=>{W.key==="Escape"&&e.status==="pending"&&(W.preventDefault(),s())};return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[e.status,s]);const Ce=async D=>{if(D.preventDefault(),!f.trim()&&g.length===0)return;const W=f,ie=g.length>0?[...g]:void 0,ce=x.length>0?x.map(ye=>ye.path):void 0;d(""),v([]),y([]),L(!1);try{await n(W,ie,ce)}catch(ye){u(ye instanceof Error?ye.message:"Failed to send message")}},Me=T.useCallback(D=>{D.key==="Enter"&&D.shiftKey&&(D.preventDefault(),D.stopPropagation(),re())},[re]),Ie=async D=>{try{await i(D.target.value)}catch(W){u(W instanceof Error?W.message:"Failed to update model")}},Fe=async D=>{try{await l(D.target.value)}catch(W){u(W instanceof Error?W.message:"Failed to update permission mode")}},jt=async D=>{try{await o(D)}catch(W){u(W instanceof Error?W.message:"Failed to update thinking mode")}};return c.jsxs("div",{className:`border-t border-border p-4 flex-shrink-0 space-y-3 transition-colors ${E?"bg-primary/10 border-primary":""}`,onDragEnter:$,onDragLeave:se,onDragOver:ne,onDrop:N,children:[E&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/5 border-2 border-dashed border-primary rounded-lg pointer-events-none z-10",children:c.jsx("p",{className:"text-primary font-medium",children:"Drop images here"})}),c.jsx("div",{className:"flex items-center gap-4 justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("select",{value:e.model,onChange:Ie,className:"text-xs px-2 py-1.5 rounded border border-border bg-background focus:outline-none focus:ring-1 focus:ring-primary","aria-label":"Select model",children:dy.map(D=>c.jsx("option",{value:D.value,children:D.label},D.value))}),c.jsx("select",{value:e.permissionMode,onChange:Fe,className:`text-xs px-2 py-1.5 rounded border focus:outline-none focus:ring-1 ${e.permissionMode==="bypassPermissions"?"border-red-500 text-red-600 bg-red-50 focus:ring-red-500":"border-border bg-background focus:ring-primary"}`,"aria-label":"Permission mode",children:fy.map(D=>c.jsx("option",{value:D.value,children:D.value==="bypassPermissions"?" "+D.label:D.label},D.value))}),c.jsx(vu,{enabled:e.extendedThinking,onChange:jt,label:"Thinking"}),!e.parentId&&c.jsxs("label",{className:"text-xs flex items-center gap-1.5 px-2 py-1 rounded border border-border bg-background cursor-pointer hover:bg-muted",title:"When enabled, the agent automatically responds to sub-thread completion notifications",children:[c.jsx("input",{type:"checkbox",checked:e.autoReact??!0,onChange:D=>a(D.target.checked),className:"w-3 h-3 rounded border-border"}),c.jsx("span",{className:"text-muted-foreground",children:"Auto-react"})]})]})}),g.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(D=>c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:D.preview,alt:D.name,className:"w-16 h-16 object-cover rounded-lg border border-border"}),c.jsx("button",{type:"button",onClick:()=>X(D.id),className:`absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full
                           flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity`,children:""})]},D.id))}),x.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap",children:x.map(D=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md border border-border",children:[c.jsx("svg",{className:"w-3 h-3 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"text-muted-foreground",children:D.name}),c.jsx("button",{type:"button",onClick:()=>fe(D.path),className:"ml-1 text-muted-foreground hover:text-foreground",children:""})]},D.path))}),c.jsxs("form",{onSubmit:Ce,className:"flex gap-2 relative",children:[c.jsx("input",{ref:p,type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden","aria-label":"Upload images"}),c.jsx("button",{type:"button",onClick:()=>{var D;return(D=p.current)==null?void 0:D.click()},className:"px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",title:"Attach images","aria-label":"Attach images",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{ref:h,type:"text",value:f,onChange:U,onKeyDown:D=>{Se(D),C||Me(D)},onPaste:B,placeholder:"Type a message... (@ for files)",disabled:t,"aria-label":"Message input",className:`w-full px-4 py-2 rounded-lg border border-border bg-background
                       focus:outline-none focus:ring-2 focus:ring-primary`}),C&&_.length>0&&c.jsx("div",{ref:O,className:`absolute bottom-full left-0 mb-1 w-80 max-h-60 overflow-y-auto
                         bg-background border border-border rounded-lg shadow-lg z-20`,children:_.map((D,W)=>c.jsxs("button",{type:"button",onClick:()=>b(D),onMouseEnter:()=>F(W),className:`w-full px-3 py-2 text-left text-sm flex items-center gap-2 ${W===w?"bg-muted":"hover:bg-muted/50"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("span",{className:"truncate",children:D.path})]},D.path))})]}),e.status==="pending"?c.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Stop running agent (Esc)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})}),"Stop"]}):c.jsx("button",{type:"submit",disabled:!f.trim()&&g.length===0||t,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Send"}),c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors","aria-label":"Create new sub-thread",children:"+ Thread"})]})]})}function hy(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const my=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xy={};function sd(e,t){return(xy.jsx?gy:my).test(e)}const yy=/[ \t\n\f\r]/g;function vy(e){return typeof e=="object"?e.type==="text"?ad(e.value):!1:ad(e)}function ad(e){return e.replace(yy,"")===""}class Ti{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ti.prototype.normal={};Ti.prototype.property={};Ti.prototype.space=void 0;function _h(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ti(n,r,t)}function da(e){return e.toLowerCase()}class lt{constructor(t,n){this.attribute=n,this.property=t}}lt.prototype.attribute="";lt.prototype.booleanish=!1;lt.prototype.boolean=!1;lt.prototype.commaOrSpaceSeparated=!1;lt.prototype.commaSeparated=!1;lt.prototype.defined=!1;lt.prototype.mustUseProperty=!1;lt.prototype.number=!1;lt.prototype.overloadedBoolean=!1;lt.prototype.property="";lt.prototype.spaceSeparated=!1;lt.prototype.space=void 0;let ky=0;const J=Un(),Ee=Un(),fa=Un(),R=Un(),pe=Un(),dr=Un(),at=Un();function Un(){return 2**++ky}const pa=Object.freeze(Object.defineProperty({__proto__:null,boolean:J,booleanish:Ee,commaOrSpaceSeparated:at,commaSeparated:dr,number:R,overloadedBoolean:fa,spaceSeparated:pe},Symbol.toStringTag,{value:"Module"})),Jo=Object.keys(pa);class ku extends lt{constructor(t,n,r,i){let l=-1;if(super(t,n),ud(this,"space",i),typeof r=="number")for(;++l<Jo.length;){const o=Jo[l];ud(this,Jo[l],(r&pa[o])===pa[o])}}}ku.prototype.defined=!0;function ud(e,t,n){n&&(e[t]=n)}function jr(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const l=new ku(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[da(r)]=r,n[da(l.attribute)]=r}return new Ti(t,n,e.space)}const Mh=jr({properties:{ariaActiveDescendant:null,ariaAtomic:Ee,ariaAutoComplete:null,ariaBusy:Ee,ariaChecked:Ee,ariaColCount:R,ariaColIndex:R,ariaColSpan:R,ariaControls:pe,ariaCurrent:null,ariaDescribedBy:pe,ariaDetails:null,ariaDisabled:Ee,ariaDropEffect:pe,ariaErrorMessage:null,ariaExpanded:Ee,ariaFlowTo:pe,ariaGrabbed:Ee,ariaHasPopup:null,ariaHidden:Ee,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pe,ariaLevel:R,ariaLive:null,ariaModal:Ee,ariaMultiLine:Ee,ariaMultiSelectable:Ee,ariaOrientation:null,ariaOwns:pe,ariaPlaceholder:null,ariaPosInSet:R,ariaPressed:Ee,ariaReadOnly:Ee,ariaRelevant:null,ariaRequired:Ee,ariaRoleDescription:pe,ariaRowCount:R,ariaRowIndex:R,ariaRowSpan:R,ariaSelected:Ee,ariaSetSize:R,ariaSort:null,ariaValueMax:R,ariaValueMin:R,ariaValueNow:R,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Ih(e,t){return t in e?e[t]:t}function Dh(e,t){return Ih(e,t.toLowerCase())}const wy=jr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dr,acceptCharset:pe,accessKey:pe,action:null,allow:null,allowFullScreen:J,allowPaymentRequest:J,allowUserMedia:J,alt:null,as:null,async:J,autoCapitalize:null,autoComplete:pe,autoFocus:J,autoPlay:J,blocking:pe,capture:null,charSet:null,checked:J,cite:null,className:pe,cols:R,colSpan:null,content:null,contentEditable:Ee,controls:J,controlsList:pe,coords:R|dr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:J,defer:J,dir:null,dirName:null,disabled:J,download:fa,draggable:Ee,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:J,formTarget:null,headers:pe,height:R,hidden:fa,high:R,href:null,hrefLang:null,htmlFor:pe,httpEquiv:pe,id:null,imageSizes:null,imageSrcSet:null,inert:J,inputMode:null,integrity:null,is:null,isMap:J,itemId:null,itemProp:pe,itemRef:pe,itemScope:J,itemType:pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:J,low:R,manifest:null,max:null,maxLength:R,media:null,method:null,min:null,minLength:R,multiple:J,muted:J,name:null,nonce:null,noModule:J,noValidate:J,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:J,optimum:R,pattern:null,ping:pe,placeholder:null,playsInline:J,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:J,referrerPolicy:null,rel:pe,required:J,reversed:J,rows:R,rowSpan:R,sandbox:pe,scope:null,scoped:J,seamless:J,selected:J,shadowRootClonable:J,shadowRootDelegatesFocus:J,shadowRootMode:null,shape:null,size:R,sizes:null,slot:null,span:R,spellCheck:Ee,src:null,srcDoc:null,srcLang:null,srcSet:null,start:R,step:null,style:null,tabIndex:R,target:null,title:null,translate:null,type:null,typeMustMatch:J,useMap:null,value:Ee,width:R,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pe,axis:null,background:null,bgColor:null,border:R,borderColor:null,bottomMargin:R,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:J,declare:J,event:null,face:null,frame:null,frameBorder:null,hSpace:R,leftMargin:R,link:null,longDesc:null,lowSrc:null,marginHeight:R,marginWidth:R,noResize:J,noHref:J,noShade:J,noWrap:J,object:null,profile:null,prompt:null,rev:null,rightMargin:R,rules:null,scheme:null,scrolling:Ee,standby:null,summary:null,text:null,topMargin:R,valueType:null,version:null,vAlign:null,vLink:null,vSpace:R,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:J,disableRemotePlayback:J,prefix:null,property:null,results:R,security:null,unselectable:null},space:"html",transform:Dh}),by=jr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:at,accentHeight:R,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:R,amplitude:R,arabicForm:null,ascent:R,attributeName:null,attributeType:null,azimuth:R,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:R,by:null,calcMode:null,capHeight:R,className:pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:R,diffuseConstant:R,direction:null,display:null,dur:null,divisor:R,dominantBaseline:null,download:J,dx:null,dy:null,edgeMode:null,editable:null,elevation:R,enableBackground:null,end:null,event:null,exponent:R,externalResourcesRequired:null,fill:null,fillOpacity:R,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dr,g2:dr,glyphName:dr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:R,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:R,horizOriginX:R,horizOriginY:R,id:null,ideographic:R,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:R,k:R,k1:R,k2:R,k3:R,k4:R,kernelMatrix:at,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:R,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:R,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:R,overlineThickness:R,paintOrder:null,panose1:null,path:null,pathLength:R,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:R,pointsAtY:R,pointsAtZ:R,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:at,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:at,rev:at,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:at,requiredFeatures:at,requiredFonts:at,requiredFormats:at,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:R,specularExponent:R,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:R,strikethroughThickness:R,string:null,stroke:null,strokeDashArray:at,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:R,strokeOpacity:R,strokeWidth:null,style:null,surfaceScale:R,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:at,tabIndex:R,tableValues:null,target:null,targetX:R,targetY:R,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:at,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:R,underlineThickness:R,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:R,values:null,vAlphabetic:R,vMathematical:R,vectorEffect:null,vHanging:R,vIdeographic:R,version:null,vertAdvY:R,vertOriginX:R,vertOriginY:R,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:R,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ih}),Ah=jr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),zh=jr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Dh}),Rh=jr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Sy={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Cy=/[A-Z]/g,cd=/-[a-z]/g,jy=/^data[-\w.:]+$/i;function Ey(e,t){const n=da(t);let r=t,i=lt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jy.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(cd,Ty);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!cd.test(l)){let o=l.replace(Cy,Ny);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ku}return new i(r,t)}function Ny(e){return"-"+e.toLowerCase()}function Ty(e){return e.charAt(1).toUpperCase()}const Ly=_h([Mh,wy,Ah,zh,Rh],"html"),wu=_h([Mh,by,Ah,zh,Rh],"svg");function Py(e){return e.join(" ").trim()}var bu={},dd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,_y=/\n/g,My=/^\s*/,Iy=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Dy=/^:\s*/,Ay=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,zy=/^[;\s]*/,Ry=/^\s+|\s+$/g,Fy=`
`,fd="/",pd="*",Tn="",By="comment",Oy="declaration";function $y(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var v=g.match(_y);v&&(n+=v.length);var E=g.lastIndexOf(Fy);r=~E?g.length-E:r+g.length}function l(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(g){var v=new Error(t.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function a(g){var v=g.exec(e);if(v){var E=v[0];return i(E),e=e.slice(E.length),v}}function u(){a(My)}function f(g){var v;for(g=g||[];v=d();)v!==!1&&g.push(v);return g}function d(){var g=l();if(!(fd!=e.charAt(0)||pd!=e.charAt(1))){for(var v=2;Tn!=e.charAt(v)&&(pd!=e.charAt(v)||fd!=e.charAt(v+1));)++v;if(v+=2,Tn===e.charAt(v-1))return s("End of comment missing");var E=e.slice(2,v-2);return r+=2,i(E),e=e.slice(v),r+=2,g({type:By,comment:E})}}function h(){var g=l(),v=a(Iy);if(v){if(d(),!a(Dy))return s("property missing ':'");var E=a(Ay),m=g({type:Oy,property:hd(v[0].replace(dd,Tn)),value:E?hd(E[0].replace(dd,Tn)):Tn});return a(zy),m}}function p(){var g=[];f(g);for(var v;v=h();)v!==!1&&(g.push(v),f(g));return g}return u(),p()}function hd(e){return e?e.replace(Ry,Tn):Tn}var Uy=$y,Hy=xl&&xl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bu,"__esModule",{value:!0});bu.default=Vy;const Wy=Hy(Uy);function Vy(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Wy.default)(e),i=typeof t=="function";return r.forEach(l=>{if(l.type!=="declaration")return;const{property:o,value:s}=l;i?t(o,s,l):s&&(n=n||{},n[o]=s)}),n}var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.camelCase=void 0;var Qy=/^--[a-zA-Z0-9_-]+$/,Ky=/-([a-z])/g,qy=/^[^-]+$/,Gy=/^-(webkit|moz|ms|o|khtml)-/,Xy=/^-(ms)-/,Yy=function(e){return!e||qy.test(e)||Qy.test(e)},Jy=function(e,t){return t.toUpperCase()},md=function(e,t){return"".concat(t,"-")},Zy=function(e,t){return t===void 0&&(t={}),Yy(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Xy,md):e=e.replace(Gy,md),e.replace(Ky,Jy))};fo.camelCase=Zy;var e1=xl&&xl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},t1=e1(bu),n1=fo;function ha(e,t){var n={};return!e||typeof e!="string"||(0,t1.default)(e,function(r,i){r&&i&&(n[(0,n1.camelCase)(r,t)]=i)}),n}ha.default=ha;var r1=ha;const i1=Kl(r1),Fh=Bh("end"),Su=Bh("start");function Bh(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function l1(e){const t=Su(e),n=Fh(e);if(t&&n)return{start:t,end:n}}function ei(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?gd(e.position):"start"in e||"end"in e?gd(e):"line"in e||"column"in e?ma(e):""}function ma(e){return xd(e&&e.line)+":"+xd(e&&e.column)}function gd(e){return ma(e&&e.start)+"-"+ma(e&&e.end)}function xd(e){return e&&typeof e=="number"?e:1}class We extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?l.ruleId=r:(l.source=r.slice(0,a),l.ruleId=r.slice(a+1))}if(!l.place&&l.ancestors&&l.ancestors){const a=l.ancestors[l.ancestors.length-1];a&&(l.place=a.position)}const s=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=ei(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}We.prototype.file="";We.prototype.name="";We.prototype.reason="";We.prototype.message="";We.prototype.stack="";We.prototype.column=void 0;We.prototype.line=void 0;We.prototype.ancestors=void 0;We.prototype.cause=void 0;We.prototype.fatal=void 0;We.prototype.place=void 0;We.prototype.ruleId=void 0;We.prototype.source=void 0;const Cu={}.hasOwnProperty,o1=new Map,s1=/[A-Z]/g,a1=new Set(["table","tbody","thead","tfoot","tr"]),u1=new Set(["td","th"]),Oh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function c1(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=y1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=x1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?wu:Ly,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=$h(i,e,void 0);return l&&typeof l!="string"?l:i.create(e,i.Fragment,{children:l||void 0},void 0)}function $h(e,t,n){if(t.type==="element")return d1(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return f1(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return h1(e,t,n);if(t.type==="mdxjsEsm")return p1(e,t);if(t.type==="root")return m1(e,t,n);if(t.type==="text")return g1(e,t)}function d1(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=wu,e.schema=i),e.ancestors.push(t);const l=Hh(e,t.tagName,!1),o=v1(e,t);let s=Eu(e,t);return a1.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!vy(a):!0})),Uh(e,o,l,t),ju(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function f1(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}wi(e,t.position)}function p1(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);wi(e,t.position)}function h1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=wu,e.schema=i),e.ancestors.push(t);const l=t.name===null?e.Fragment:Hh(e,t.name,!0),o=k1(e,t),s=Eu(e,t);return Uh(e,o,l,t),ju(o,s),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function m1(e,t,n){const r={};return ju(r,Eu(e,t)),e.create(t,e.Fragment,r,n)}function g1(e,t){return t.value}function Uh(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ju(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function x1(e,t,n){return r;function r(i,l,o,s){const u=Array.isArray(o.children)?n:t;return s?u(l,o,s):u(l,o)}}function y1(e,t){return n;function n(r,i,l,o){const s=Array.isArray(l.children),a=Su(r);return t(i,l,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function v1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Cu.call(t.properties,i)){const l=w1(e,i,t.properties[i]);if(l){const[o,s]=l;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&u1.has(t.tagName)?r=s:n[o]=s}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function k1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else wi(e,t.position);else{const i=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,l=e.evaluater.evaluateExpression(s.expression)}else wi(e,t.position);else l=r.value===null?!0:r.value;n[i]=l}return n}function Eu(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:o1;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const a=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const s=$h(e,l,o);s!==void 0&&n.push(s)}return n}function w1(e,t,n){const r=Ey(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hy(n):Py(n)),r.property==="style"){let i=typeof n=="object"?n:b1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=S1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Sy[r.property]||r.property:r.attribute,n]}}function b1(e,t){try{return i1(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new We("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Oh+"#cannot-parse-style-attribute",i}}function Hh(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let l=-1,o;for(;++l<i.length;){const s=sd(i[l])?{type:"Identifier",name:i[l]}:{type:"Literal",value:i[l]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(l&&s.type==="Literal"),optional:!1}:s}r=o}else r=sd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Cu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);wi(e)}function wi(e,t){const n=new We("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Oh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function S1(e){const t={};let n;for(n in e)Cu.call(e,n)&&(t[C1(n)]=e[n]);return t}function C1(e){let t=e.replace(s1,j1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function j1(e){return"-"+e.toLowerCase()}const Zo={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},E1={};function Nu(e,t){const n=E1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Wh(e,r,i)}function Wh(e,t,n){if(N1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return yd(e.children,t,n)}return Array.isArray(e)?yd(e,t,n):""}function yd(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Wh(e[i],t,n);return r.join("")}function N1(e){return!!(e&&typeof e=="object")}const vd=document.createElement("i");function Tu(e){const t="&"+e+";";vd.innerHTML=t;const n=vd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ft(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function kt(e,t){return e.length>0?(ft(e,e.length,0,t),e):t}const kd={}.hasOwnProperty;function Vh(e){const t={};let n=-1;for(;++n<e.length;)T1(t,e[n]);return t}function T1(e,t){let n;for(n in t){const i=(kd.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){kd.call(i,o)||(i[o]=[]);const s=l[o];L1(i[o],Array.isArray(s)?s:s?[s]:[])}}}function L1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ft(e,0,0,r)}function Qh(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Mt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ke=Cn(/[A-Za-z]/),Ue=Cn(/[\dA-Za-z]/),P1=Cn(/[#-'*+\--9=?A-Z^-~]/);function Ul(e){return e!==null&&(e<32||e===127)}const ga=Cn(/\d/),_1=Cn(/[\dA-Fa-f]/),M1=Cn(/[!-/:-@[-`{-~]/);function q(e){return e!==null&&e<-2}function de(e){return e!==null&&(e<0||e===32)}function ee(e){return e===-2||e===-1||e===32}const po=Cn(new RegExp("\\p{P}|\\p{S}","u")),Bn=Cn(/\s/);function Cn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Er(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Ue(e.charCodeAt(n+1))&&Ue(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const s=e.charCodeAt(n+1);l<56320&&s>56319&&s<57344?(o=String.fromCharCode(l,s),i=1):o=""}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function le(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(a){return ee(a)?(e.enter(n),s(a)):t(a)}function s(a){return ee(a)&&l++<i?(e.consume(a),s):(e.exit(n),t(a))}}const I1={tokenize:D1};function D1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),le(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),l(s)}function l(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return q(s)?(e.consume(s),e.exit("chunkText"),l):(e.consume(s),o)}}const A1={tokenize:z1},wd={tokenize:R1};function z1(e){const t=this,n=[];let r=0,i,l,o;return s;function s(y){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,a,u)(y)}return u(y)}function a(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const C=t.events.length;let L=C,j;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){j=t.events[L][1].end;break}m(r);let P=C;for(;P<t.events.length;)t.events[P][1].end={...j},P++;return ft(t.events,L+1,0,t.events.slice(C)),t.events.length=P,u(y)}return s(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(wd,f,d)(y)}function f(y){return i&&x(),m(r),h(y)}function d(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(y)}function h(y){return t.containerState={},e.attempt(wd,p,g)(y)}function p(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function g(y){if(y===null){i&&x(),m(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),v(y)}function v(y){if(y===null){E(e.exit("chunkFlow"),!0),m(0),e.consume(y);return}return q(y)?(e.consume(y),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(y),v)}function E(y,C){const L=t.sliceStream(y);if(C&&L.push(null),y.previous=l,l&&(l.next=y),l=y,i.defineSkip(y.start),i.write(L),t.parser.lazy[y.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const P=t.events.length;let _=P,A,w;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(A){w=t.events[_][1].end;break}A=!0}for(m(r),j=P;j<t.events.length;)t.events[j][1].end={...w},j++;ft(t.events,_+1,0,t.events.slice(P)),t.events.length=j}}function m(y){let C=n.length;for(;C-- >y;){const L=n[C];t.containerState=L[1],L[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function R1(e,t,n){return le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function kr(e){if(e===null||de(e)||Bn(e))return 1;if(po(e))return 2}function ho(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const xa={name:"attention",resolveAll:F1,tokenize:B1};function F1(e,t){let n=-1,r,i,l,o,s,a,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};bd(d,-a),bd(h,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=kt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=kt(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=kt(u,ho(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=kt(u,[["exit",l,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=kt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,ft(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function B1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=kr(r);let l;return o;function o(a){return l=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===l)return e.consume(a),s;const u=e.exit("attentionSequence"),f=kr(a),d=!f||f===2&&i||n.includes(a),h=!i||i===2&&f||n.includes(r);return u._open=!!(l===42?d:d&&(i||!h)),u._close=!!(l===42?h:h&&(f||!d)),t(a)}}function bd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const O1={name:"autolink",tokenize:$1};function $1(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(p){return Ke(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Ue(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,a):(p===43||p===45||p===46||Ue(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function a(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Ul(p)?n(p):(e.consume(p),a)}function u(p){return p===64?(e.consume(p),f):P1(p)?(e.consume(p),u):n(p)}function f(p){return Ue(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Ue(p))&&r++<63){const g=p===45?h:d;return e.consume(p),g}return n(p)}}const Li={partial:!0,tokenize:U1};function U1(e,t,n){return r;function r(l){return ee(l)?le(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||q(l)?t(l):n(l)}}const Kh={continuation:{tokenize:W1},exit:V1,name:"blockQuote",tokenize:H1};function H1(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return ee(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function W1(e,t,n){const r=this;return i;function i(o){return ee(o)?le(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(Kh,t,n)(o)}}function V1(e){e.exit("blockQuote")}const qh={name:"characterEscape",tokenize:Q1};function Q1(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return M1(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Gh={name:"characterReference",tokenize:K1};function K1(e,t,n){const r=this;let i=0,l,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),a}function a(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=Ue,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=_1,f):(e.enter("characterReferenceValue"),l=7,o=ga,f(d))}function f(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===Ue&&!Tu(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<l?(e.consume(d),f):n(d)}}const Sd={partial:!0,tokenize:G1},Cd={concrete:!0,name:"codeFenced",tokenize:q1};function q1(e,t,n){const r=this,i={partial:!0,tokenize:L};let l=0,o=0,s;return a;function a(j){return u(j)}function u(j){const P=r.events[r.events.length-1];return l=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===s?(o++,e.consume(j),f):o<3?n(j):(e.exit("codeFencedFenceSequence"),ee(j)?le(e,d,"whitespace")(j):d(j))}function d(j){return j===null||q(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(Sd,v,C)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||q(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(j)):ee(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),le(e,p,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),h)}function p(j){return j===null||q(j)?d(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||q(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(j)):j===96&&j===s?n(j):(e.consume(j),g)}function v(j){return e.attempt(i,C,E)(j)}function E(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),m}function m(j){return l>0&&ee(j)?le(e,x,"linePrefix",l+1)(j):x(j)}function x(j){return j===null||q(j)?e.check(Sd,v,C)(j):(e.enter("codeFlowValue"),y(j))}function y(j){return j===null||q(j)?(e.exit("codeFlowValue"),x(j)):(e.consume(j),y)}function C(j){return e.exit("codeFenced"),t(j)}function L(j,P,_){let A=0;return w;function w($){return j.enter("lineEnding"),j.consume($),j.exit("lineEnding"),F}function F($){return j.enter("codeFencedFence"),ee($)?le(j,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):O($)}function O($){return $===s?(j.enter("codeFencedFenceSequence"),K($)):_($)}function K($){return $===s?(A++,j.consume($),K):A>=o?(j.exit("codeFencedFenceSequence"),ee($)?le(j,Z,"whitespace")($):Z($)):_($)}function Z($){return $===null||q($)?(j.exit("codeFencedFence"),P($)):_($)}}}function G1(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const es={name:"codeIndented",tokenize:Y1},X1={partial:!0,tokenize:J1};function Y1(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),le(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):q(u)?e.attempt(X1,o,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||q(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function J1(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):q(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):le(e,l,"linePrefix",5)(o)}function l(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):q(o)?i(o):n(o)}}const Z1={name:"codeText",previous:tv,resolve:ev,tokenize:nv};function ev(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function tv(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nv(e,t,n){let r=0,i,l;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),a(d))}function a(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),a):d===96?(l=e.enter("codeTextSequence"),i=0,f(d)):q(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||q(d)?(e.exit("codeTextData"),a(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(l.type="codeTextData",u(d))}}class rv{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Rr(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Rr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Rr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Rr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Rr(this.left,n.reverse())}}}function Rr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Xh(e){const t={};let n=-1,r,i,l,o,s,a,u;const f=new rv(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,l=0,l<a.length&&a[l][1].type==="lineEndingBlank"&&(l+=2),l<a.length&&a[l][1].type==="content"))for(;++l<a.length&&a[l][1].type!=="content";)a[l][1].type==="chunkText"&&(a[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,iv(f,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=f.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return ft(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function iv(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,a=[],u={};let f,d,h=-1,p=n,g=0,v=0;const E=[v];for(;p;){for(;e.get(++i)[1]!==p;);l.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(v=h+1,E.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):E.pop(),h=E.length;h--;){const m=s.slice(E[h],E[h+1]),x=l.pop();a.push([x,x+m.length-1]),e.splice(x,2,m)}for(a.reverse(),h=-1;++h<a.length;)u[g+a[h][0]]=g+a[h][1],g+=a[h][1]-a[h][0]-1;return u}const lv={resolve:sv,tokenize:av},ov={partial:!0,tokenize:uv};function sv(e){return Xh(e),e}function av(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?l(s):q(s)?e.check(ov,o,l)(s):(e.consume(s),i)}function l(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function uv(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),le(e,l,"linePrefix")}function l(o){if(o===null||q(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Yh(e,t,n,r,i,l,o,s,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return d;function d(m){return m===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(m),e.exit(l),h):m===null||m===32||m===41||Ul(m)?n(m):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(m))}function h(m){return m===62?(e.enter(l),e.consume(m),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(e.exit("chunkString"),e.exit(s),h(m)):m===null||m===60||q(m)?n(m):(e.consume(m),m===92?g:p)}function g(m){return m===60||m===62||m===92?(e.consume(m),p):p(m)}function v(m){return!f&&(m===null||m===41||de(m))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(m)):f<u&&m===40?(e.consume(m),f++,v):m===41?(e.consume(m),f--,v):m===null||m===32||m===40||Ul(m)?n(m):(e.consume(m),m===92?E:v)}function E(m){return m===40||m===41||m===92?(e.consume(m),v):v(m)}}function Jh(e,t,n,r,i,l){const o=this;let s=0,a;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(l),f}function f(p){return s>999||p===null||p===91||p===93&&!a||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(l),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):q(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||q(p)||s++>999?(e.exit("chunkString"),f(p)):(e.consume(p),a||(a=!ee(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function Zh(e,t,n,r,i,l){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,a):n(h)}function a(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(l),u(h))}function u(h){return h===o?(e.exit(l),a(o)):h===null?n(h):q(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),le(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===o||h===null||q(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===o||h===92?(e.consume(h),f):f(h)}}function ti(e,t){let n;return r;function r(i){return q(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ee(i)?le(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const cv={name:"definition",tokenize:fv},dv={partial:!0,tokenize:pv};function fv(e,t,n){const r=this;let i;return l;function l(p){return e.enter("definition"),o(p)}function o(p){return Jh.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a):n(p)}function a(p){return de(p)?ti(e,u)(p):u(p)}function u(p){return Yh(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(dv,d,d)(p)}function d(p){return ee(p)?le(e,h,"whitespace")(p):h(p)}function h(p){return p===null||q(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function pv(e,t,n){return r;function r(s){return de(s)?ti(e,i)(s):n(s)}function i(s){return Zh(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function l(s){return ee(s)?le(e,o,"whitespace")(s):o(s)}function o(s){return s===null||q(s)?t(s):n(s)}}const hv={name:"hardBreakEscape",tokenize:mv};function mv(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return q(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const gv={name:"headingAtx",resolve:xv,tokenize:yv};function xv(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ft(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function yv(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),l(f)}function l(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||de(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),a(f)):f===null||q(f)?(e.exit("atxHeading"),t(f)):ee(f)?le(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function a(f){return f===35?(e.consume(f),a):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||de(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const vv=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jd=["pre","script","style","textarea"],kv={concrete:!0,name:"htmlFlow",resolveTo:Sv,tokenize:Cv},wv={partial:!0,tokenize:Ev},bv={partial:!0,tokenize:jv};function Sv(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Cv(e,t,n){const r=this;let i,l,o,s,a;return u;function u(b){return f(b)}function f(b){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(b),d}function d(b){return b===33?(e.consume(b),h):b===47?(e.consume(b),l=!0,v):b===63?(e.consume(b),i=3,r.interrupt?t:k):Ke(b)?(e.consume(b),o=String.fromCharCode(b),E):n(b)}function h(b){return b===45?(e.consume(b),i=2,p):b===91?(e.consume(b),i=5,s=0,g):Ke(b)?(e.consume(b),i=4,r.interrupt?t:k):n(b)}function p(b){return b===45?(e.consume(b),r.interrupt?t:k):n(b)}function g(b){const fe="CDATA[";return b===fe.charCodeAt(s++)?(e.consume(b),s===fe.length?r.interrupt?t:O:g):n(b)}function v(b){return Ke(b)?(e.consume(b),o=String.fromCharCode(b),E):n(b)}function E(b){if(b===null||b===47||b===62||de(b)){const fe=b===47,Se=o.toLowerCase();return!fe&&!l&&jd.includes(Se)?(i=1,r.interrupt?t(b):O(b)):vv.includes(o.toLowerCase())?(i=6,fe?(e.consume(b),m):r.interrupt?t(b):O(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):l?x(b):y(b))}return b===45||Ue(b)?(e.consume(b),o+=String.fromCharCode(b),E):n(b)}function m(b){return b===62?(e.consume(b),r.interrupt?t:O):n(b)}function x(b){return ee(b)?(e.consume(b),x):w(b)}function y(b){return b===47?(e.consume(b),w):b===58||b===95||Ke(b)?(e.consume(b),C):ee(b)?(e.consume(b),y):w(b)}function C(b){return b===45||b===46||b===58||b===95||Ue(b)?(e.consume(b),C):L(b)}function L(b){return b===61?(e.consume(b),j):ee(b)?(e.consume(b),L):y(b)}function j(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(e.consume(b),a=b,P):ee(b)?(e.consume(b),j):_(b)}function P(b){return b===a?(e.consume(b),a=null,A):b===null||q(b)?n(b):(e.consume(b),P)}function _(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||de(b)?L(b):(e.consume(b),_)}function A(b){return b===47||b===62||ee(b)?y(b):n(b)}function w(b){return b===62?(e.consume(b),F):n(b)}function F(b){return b===null||q(b)?O(b):ee(b)?(e.consume(b),F):n(b)}function O(b){return b===45&&i===2?(e.consume(b),se):b===60&&i===1?(e.consume(b),ne):b===62&&i===4?(e.consume(b),X):b===63&&i===3?(e.consume(b),k):b===93&&i===5?(e.consume(b),B):q(b)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(wv,U,K)(b)):b===null||q(b)?(e.exit("htmlFlowData"),K(b)):(e.consume(b),O)}function K(b){return e.check(bv,Z,U)(b)}function Z(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),$}function $(b){return b===null||q(b)?K(b):(e.enter("htmlFlowData"),O(b))}function se(b){return b===45?(e.consume(b),k):O(b)}function ne(b){return b===47?(e.consume(b),o="",N):O(b)}function N(b){if(b===62){const fe=o.toLowerCase();return jd.includes(fe)?(e.consume(b),X):O(b)}return Ke(b)&&o.length<8?(e.consume(b),o+=String.fromCharCode(b),N):O(b)}function B(b){return b===93?(e.consume(b),k):O(b)}function k(b){return b===62?(e.consume(b),X):b===45&&i===2?(e.consume(b),k):O(b)}function X(b){return b===null||q(b)?(e.exit("htmlFlowData"),U(b)):(e.consume(b),X)}function U(b){return e.exit("htmlFlow"),t(b)}}function jv(e,t,n){const r=this;return i;function i(o){return q(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Ev(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Li,t,n)}}const Nv={name:"htmlText",tokenize:Tv};function Tv(e,t,n){const r=this;let i,l,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),L):k===63?(e.consume(k),y):Ke(k)?(e.consume(k),_):n(k)}function u(k){return k===45?(e.consume(k),f):k===91?(e.consume(k),l=0,g):Ke(k)?(e.consume(k),x):n(k)}function f(k){return k===45?(e.consume(k),p):n(k)}function d(k){return k===null?n(k):k===45?(e.consume(k),h):q(k)?(o=d,ne(k)):(e.consume(k),d)}function h(k){return k===45?(e.consume(k),p):d(k)}function p(k){return k===62?se(k):k===45?h(k):d(k)}function g(k){const X="CDATA[";return k===X.charCodeAt(l++)?(e.consume(k),l===X.length?v:g):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),E):q(k)?(o=v,ne(k)):(e.consume(k),v)}function E(k){return k===93?(e.consume(k),m):v(k)}function m(k){return k===62?se(k):k===93?(e.consume(k),m):v(k)}function x(k){return k===null||k===62?se(k):q(k)?(o=x,ne(k)):(e.consume(k),x)}function y(k){return k===null?n(k):k===63?(e.consume(k),C):q(k)?(o=y,ne(k)):(e.consume(k),y)}function C(k){return k===62?se(k):y(k)}function L(k){return Ke(k)?(e.consume(k),j):n(k)}function j(k){return k===45||Ue(k)?(e.consume(k),j):P(k)}function P(k){return q(k)?(o=P,ne(k)):ee(k)?(e.consume(k),P):se(k)}function _(k){return k===45||Ue(k)?(e.consume(k),_):k===47||k===62||de(k)?A(k):n(k)}function A(k){return k===47?(e.consume(k),se):k===58||k===95||Ke(k)?(e.consume(k),w):q(k)?(o=A,ne(k)):ee(k)?(e.consume(k),A):se(k)}function w(k){return k===45||k===46||k===58||k===95||Ue(k)?(e.consume(k),w):F(k)}function F(k){return k===61?(e.consume(k),O):q(k)?(o=F,ne(k)):ee(k)?(e.consume(k),F):A(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,K):q(k)?(o=O,ne(k)):ee(k)?(e.consume(k),O):(e.consume(k),Z)}function K(k){return k===i?(e.consume(k),i=void 0,$):k===null?n(k):q(k)?(o=K,ne(k)):(e.consume(k),K)}function Z(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||de(k)?A(k):(e.consume(k),Z)}function $(k){return k===47||k===62||de(k)?A(k):n(k)}function se(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function ne(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),N}function N(k){return ee(k)?le(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):B(k)}function B(k){return e.enter("htmlTextData"),o(k)}}const Lu={name:"labelEnd",resolveAll:Mv,resolveTo:Iv,tokenize:Dv},Lv={tokenize:Av},Pv={tokenize:zv},_v={tokenize:Rv};function Mv(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ft(e,0,e.length,n),e}function Iv(e,t){let n=e.length,r=0,i,l,o,s;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=kt(s,e.slice(l+1,l+r+3)),s=kt(s,[["enter",f,t]]),s=kt(s,ho(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),s=kt(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=kt(s,e.slice(o+1)),s=kt(s,[["exit",a,t]]),ft(e,l,e.length,s),e}function Dv(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return s;function s(h){return l?l._inactive?d(h):(o=r.parser.defined.includes(Mt(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(Lv,f,o?f:d)(h):h===91?e.attempt(Pv,f,o?u:d)(h):o?f(h):d(h)}function u(h){return e.attempt(_v,f,d)(h)}function f(h){return t(h)}function d(h){return l._balanced=!0,n(h)}}function Av(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return de(d)?ti(e,l)(d):l(d)}function l(d){return d===41?f(d):Yh(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return de(d)?ti(e,a)(d):f(d)}function s(d){return n(d)}function a(d){return d===34||d===39||d===40?Zh(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return de(d)?ti(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function zv(e,t,n){const r=this;return i;function i(s){return Jh.call(r,e,l,o,"reference","referenceMarker","referenceString")(s)}function l(s){return r.parser.defined.includes(Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Rv(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const Fv={name:"labelStartImage",resolveAll:Lu.resolveAll,tokenize:Bv};function Bv(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),l}function l(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ov={name:"labelStartLink",resolveAll:Lu.resolveAll,tokenize:$v};function $v(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ts={name:"lineEnding",tokenize:Uv};function Uv(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),le(e,t,"linePrefix")}}const ml={name:"thematicBreak",tokenize:Hv};function Hv(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||q(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),ee(u)?le(e,s,"whitespace")(u):s(u))}}const Je={continuation:{tokenize:Kv},exit:Gv,name:"list",tokenize:Qv},Wv={partial:!0,tokenize:Xv},Vv={partial:!0,tokenize:qv};function Qv(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:ga(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(ml,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(p)}return n(p)}function a(p){return ga(p)&&++o<10?(e.consume(p),a):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Li,r.interrupt?n:f,e.attempt(Wv,h,d))}function f(p){return r.containerState.initialBlankLine=!0,l++,h(p)}function d(p){return ee(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Kv(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Li,i,l);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,le(e,t,"listItemIndent",r.containerState.size+1)(s)}function l(s){return r.containerState.furtherBlankLines||!ee(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Vv,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,le(e,e.attempt(Je,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function qv(e,t,n){const r=this;return le(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function Gv(e){e.exit(this.containerState.type)}function Xv(e,t,n){const r=this;return le(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!ee(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Ed={name:"setextUnderline",resolveTo:Yv,tokenize:Jv};function Yv(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Jv(e,t,n){const r=this;let i;return l;function l(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),ee(u)?le(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||q(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Zv={tokenize:ek};function ek(e){const t=this,n=e.attempt(Li,r,e.attempt(this.parser.constructs.flowInitial,i,le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(lv,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const tk={resolveAll:tm()},nk=em("string"),rk=em("text");function em(e){return{resolveAll:tm(e==="text"?ik:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,s);return o;function o(f){return u(f)?l(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return u(f)?(n.exit("data"),l(f)):(n.consume(f),a)}function u(f){if(f===null)return!0;const d=i[f];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function tm(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function ik(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,s=0,a;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)a=!0,s++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const lk={42:Je,43:Je,45:Je,48:Je,49:Je,50:Je,51:Je,52:Je,53:Je,54:Je,55:Je,56:Je,57:Je,62:Kh},ok={91:cv},sk={[-2]:es,[-1]:es,32:es},ak={35:gv,42:ml,45:[Ed,ml],60:kv,61:Ed,95:ml,96:Cd,126:Cd},uk={38:Gh,92:qh},ck={[-5]:ts,[-4]:ts,[-3]:ts,33:Fv,38:Gh,42:xa,60:[O1,Nv],91:Ov,92:[hv,qh],93:Lu,95:xa,96:Z1},dk={null:[xa,tk]},fk={null:[42,95]},pk={null:[]},hk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fk,contentInitial:ok,disable:pk,document:lk,flow:ak,flowInitial:sk,insideSpan:dk,string:uk,text:ck},Symbol.toStringTag,{value:"Module"}));function mk(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],s=[];const a={attempt:P(L),check:P(j),consume:x,enter:y,exit:C,interrupt:P(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let f=t.tokenize.call(u,a);return t.resolveAll&&l.push(t),u;function d(F){return o=kt(o,F),E(),o[o.length-1]!==null?[]:(_(t,0),u.events=ho(l,u.events,u),u.events)}function h(F,O){return xk(p(F),O)}function p(F){return gk(o,F)}function g(){const{_bufferIndex:F,_index:O,line:K,column:Z,offset:$}=r;return{_bufferIndex:F,_index:O,line:K,column:Z,offset:$}}function v(F){i[F.line]=F.column,w()}function E(){let F;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<O.length;)m(O.charCodeAt(r._bufferIndex));else m(O)}}function m(F){f=f(F)}function x(F){q(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,w()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function y(F,O){const K=O||{};return K.type=F,K.start=g(),u.events.push(["enter",K,u]),s.push(K),K}function C(F){const O=s.pop();return O.end=g(),u.events.push(["exit",O,u]),O}function L(F,O){_(F,O.from)}function j(F,O){O.restore()}function P(F,O){return K;function K(Z,$,se){let ne,N,B,k;return Array.isArray(Z)?U(Z):"tokenize"in Z?U([Z]):X(Z);function X(re){return Ce;function Ce(Me){const Ie=Me!==null&&re[Me],Fe=Me!==null&&re.null,jt=[...Array.isArray(Ie)?Ie:Ie?[Ie]:[],...Array.isArray(Fe)?Fe:Fe?[Fe]:[]];return U(jt)(Me)}}function U(re){return ne=re,N=0,re.length===0?se:b(re[N])}function b(re){return Ce;function Ce(Me){return k=A(),B=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?Se():re.tokenize.call(O?Object.assign(Object.create(u),O):u,a,fe,Se)(Me)}}function fe(re){return F(B,k),$}function Se(re){return k.restore(),++N<ne.length?b(ne[N]):se}}}function _(F,O){F.resolveAll&&!l.includes(F)&&l.push(F),F.resolve&&ft(u.events,O,u.events.length-O,F.resolve(u.events.slice(O),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function A(){const F=g(),O=u.previous,K=u.currentConstruct,Z=u.events.length,$=Array.from(s);return{from:Z,restore:se};function se(){r=F,u.previous=O,u.currentConstruct=K,u.events.length=Z,s=$,w()}}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function gk(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function xk(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function yk(e){const r={constructs:Vh([hk,...(e||{}).extensions||[]]),content:i(I1),defined:[],document:i(A1),flow:i(Zv),lazy:{},string:i(nk),text:i(rk)};return r;function i(l){return o;function o(s){return mk(r,l,s)}}}function vk(e){for(;!Xh(e););return e}const Nd=/[\0\t\n\r]/g;function kk(){let e=1,t="",n=!0,r;return i;function i(l,o,s){const a=[];let u,f,d,h,p;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),d=0,t="",n&&(l.charCodeAt(0)===65279&&d++,n=void 0);d<l.length;){if(Nd.lastIndex=d,u=Nd.exec(l),h=u&&u.index!==void 0?u.index:l.length,p=l.charCodeAt(h),!u){t=l.slice(d);break}if(p===10&&d===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),d<h&&(a.push(l.slice(d,h)),e+=h-d),p){case 0:{a.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,a.push(-2);e++<f;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const wk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bk(e){return e.replace(wk,Sk)}function Sk(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return Qh(n.slice(l?2:1),l?16:10)}return Tu(n)||e}const nm={}.hasOwnProperty;function Ck(e,t,n){return typeof t!="string"&&(n=t,t=void 0),jk(n)(vk(yk(n).document().write(kk()(e,t,!0))))}function jk(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(gt),autolinkProtocol:A,autolinkEmail:A,atxHeading:l(ce),blockQuote:l(Fe),characterEscape:A,characterReference:A,codeFenced:l(jt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(jt,o),codeText:l(D,o),codeTextData:A,data:A,codeFlowValue:A,definition:l(W),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(ie),hardBreakEscape:l(ye),hardBreakTrailing:l(ye),htmlFlow:l(I,o),htmlFlowData:A,htmlText:l(I,o),htmlTextData:A,image:l(Q),label:o,link:l(gt),listItem:l(xt),listItemValue:h,listOrdered:l(tn,d),listUnordered:l(tn),paragraph:l(yo),reference:b,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(ce),strong:l(vo),thematicBreak:l(Ii)},exit:{atxHeading:a(),atxHeadingSequence:L,autolink:a(),autolinkEmail:Ie,autolinkProtocol:Me,blockQuote:a(),characterEscapeValue:w,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:re,characterReference:Ce,codeFenced:a(E),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:w,codeIndented:a(m),codeText:a($),codeTextData:w,data:w,definition:a(),definitionDestinationString:C,definitionLabelString:x,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(O),hardBreakTrailing:a(O),htmlFlow:a(K),htmlFlowData:w,htmlText:a(Z),htmlTextData:w,image:a(ne),label:B,labelText:N,lineEnding:F,link:a(se),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:fe,resourceDestinationString:k,resourceTitleString:X,resource:U,setextHeading:a(_),setextHeadingLineSequence:P,setextHeadingText:j,strong:a(),thematicBreak:a()}};rm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(S){let M={type:"root",children:[]};const V={stack:[M],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:n},G=[];let ae=-1;for(;++ae<S.length;)if(S[ae][1].type==="listOrdered"||S[ae][1].type==="listUnordered")if(S[ae][0]==="enter")G.push(ae);else{const ot=G.pop();ae=i(S,ot,ae)}for(ae=-1;++ae<S.length;){const ot=t[S[ae][0]];nm.call(ot,S[ae][1].type)&&ot[S[ae][1].type].call(Object.assign({sliceSerialize:S[ae][2].sliceSerialize},V),S[ae][1])}if(V.tokenStack.length>0){const ot=V.tokenStack[V.tokenStack.length-1];(ot[1]||Td).call(V,void 0,ot[0])}for(M.position={start:rn(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:rn(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<t.transforms.length;)M=t.transforms[ae](M)||M;return M}function i(S,M,V){let G=M-1,ae=-1,ot=!1,Ye,Ut,Nr,Tr;for(;++G<=V;){const st=S[G];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?ae++:ae--,Tr=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(Ye&&!Tr&&!ae&&!Nr&&(Nr=G),Tr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tr=void 0}if(!ae&&st[0]==="enter"&&st[1].type==="listItemPrefix"||ae===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(Ye){let Hn=G;for(Ut=void 0;Hn--;){const Ht=S[Hn];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;Ut&&(S[Ut][1].type="lineEndingBlank",ot=!0),Ht[1].type="lineEnding",Ut=Hn}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}Nr&&(!Ut||Nr<Ut)&&(Ye._spread=!0),Ye.end=Object.assign({},Ut?S[Ut][1].start:st[1].end),S.splice(Ut||G,0,["exit",Ye,st[2]]),G++,V++}if(st[1].type==="listItemPrefix"){const Hn={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};Ye=Hn,S.splice(G,0,["enter",Hn,st[2]]),G++,V++,Nr=void 0,Tr=!0}}}return S[M][1]._spread=ot,V}function l(S,M){return V;function V(G){s.call(this,S(G),G),M&&M.call(this,G)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(S,M,V){this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([M,V||void 0]),S.position={start:rn(M.start),end:void 0}}function a(S){return M;function M(V){S&&S.call(this,V),u.call(this,V)}}function u(S,M){const V=this.stack.pop(),G=this.tokenStack.pop();if(G)G[0].type!==S.type&&(M?M.call(this,S,G[0]):(G[1]||Td).call(this,S,G[0]));else throw new Error("Cannot close `"+S.type+"` ("+ei({start:S.start,end:S.end})+"): its not open");V.position.end=rn(S.end)}function f(){return Nu(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(S){if(this.data.expectingFirstListItemValue){const M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(S),10),this.data.expectingFirstListItemValue=void 0}}function p(){const S=this.resume(),M=this.stack[this.stack.length-1];M.lang=S}function g(){const S=this.resume(),M=this.stack[this.stack.length-1];M.meta=S}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S.replace(/(\r?\n|\r)$/g,"")}function x(S){const M=this.resume(),V=this.stack[this.stack.length-1];V.label=M,V.identifier=Mt(this.sliceSerialize(S)).toLowerCase()}function y(){const S=this.resume(),M=this.stack[this.stack.length-1];M.title=S}function C(){const S=this.resume(),M=this.stack[this.stack.length-1];M.url=S}function L(S){const M=this.stack[this.stack.length-1];if(!M.depth){const V=this.sliceSerialize(S).length;M.depth=V}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(S){const M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(S).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function A(S){const V=this.stack[this.stack.length-1].children;let G=V[V.length-1];(!G||G.type!=="text")&&(G=Mi(),G.position={start:rn(S.start),end:void 0},V.push(G)),this.stack.push(G)}function w(S){const M=this.stack.pop();M.value+=this.sliceSerialize(S),M.position.end=rn(S.end)}function F(S){const M=this.stack[this.stack.length-1];if(this.data.atHardBreak){const V=M.children[M.children.length-1];V.position.end=rn(S.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(M.type)&&(A.call(this,S),w.call(this,S))}function O(){this.data.atHardBreak=!0}function K(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S}function Z(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S}function $(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S}function se(){const S=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=M,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function ne(){const S=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=M,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function N(S){const M=this.sliceSerialize(S),V=this.stack[this.stack.length-2];V.label=bk(M),V.identifier=Mt(M).toLowerCase()}function B(){const S=this.stack[this.stack.length-1],M=this.resume(),V=this.stack[this.stack.length-1];if(this.data.inReference=!0,V.type==="link"){const G=S.children;V.children=G}else V.alt=M}function k(){const S=this.resume(),M=this.stack[this.stack.length-1];M.url=S}function X(){const S=this.resume(),M=this.stack[this.stack.length-1];M.title=S}function U(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function fe(S){const M=this.resume(),V=this.stack[this.stack.length-1];V.label=M,V.identifier=Mt(this.sliceSerialize(S)).toLowerCase(),this.data.referenceType="full"}function Se(S){this.data.characterReferenceType=S.type}function re(S){const M=this.sliceSerialize(S),V=this.data.characterReferenceType;let G;V?(G=Qh(M,V==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):G=Tu(M);const ae=this.stack[this.stack.length-1];ae.value+=G}function Ce(S){const M=this.stack.pop();M.position.end=rn(S.end)}function Me(S){w.call(this,S);const M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(S)}function Ie(S){w.call(this,S);const M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(S)}function Fe(){return{type:"blockquote",children:[]}}function jt(){return{type:"code",lang:null,meta:null,value:""}}function D(){return{type:"inlineCode",value:""}}function W(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ie(){return{type:"emphasis",children:[]}}function ce(){return{type:"heading",depth:0,children:[]}}function ye(){return{type:"break"}}function I(){return{type:"html",value:""}}function Q(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function tn(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function xt(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function yo(){return{type:"paragraph",children:[]}}function vo(){return{type:"strong",children:[]}}function Mi(){return{type:"text",value:""}}function Ii(){return{type:"thematicBreak"}}}function rn(e){return{line:e.line,column:e.column,offset:e.offset}}function rm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?rm(e,r):Ek(e,r)}}function Ek(e,t){let n;for(n in t)if(nm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Td(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ei({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ei({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ei({start:t.start,end:t.end})+") is still open")}function Nk(e){const t=this;t.parser=n;function n(r){return Ck(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Tk(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Lk(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Pk(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function _k(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mk(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ik(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Er(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function Dk(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ak(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function im(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function zk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return im(e,t);const i={src:Er(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function Rk(e,t){const n={src:Er(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Fk(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Bk(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return im(e,t);const i={href:Er(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Ok(e,t){const n={href:Er(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $k(e,t,n){const r=e.all(t),i=n?Uk(n):lm(t),l={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function Uk(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=lm(n[r])}return t}function lm(e){const t=e.spread;return t??e.children.length>1}function Hk(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Wk(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Vk(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Qk(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Kk(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Su(t.children[1]),a=Fh(t.children[t.children.length-1]);s&&a&&(o.position={start:s,end:a}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function qk(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const d=t.children[a],h={},p=o?o[a]:void 0;p&&(h.align=p);let g={type:"element",tagName:l,properties:h,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function Gk(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Ld=9,Pd=32;function Xk(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(_d(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(_d(t.slice(i),i>0,!1)),l.join("")}function _d(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===Ld||l===Pd;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===Ld||l===Pd;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Yk(e,t){const n={type:"text",value:Xk(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Jk(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Zk={blockquote:Tk,break:Lk,code:Pk,delete:_k,emphasis:Mk,footnoteReference:Ik,heading:Dk,html:Ak,imageReference:zk,image:Rk,inlineCode:Fk,linkReference:Bk,link:Ok,listItem:$k,list:Hk,paragraph:Wk,root:Vk,strong:Qk,table:Kk,tableCell:Gk,tableRow:qk,text:Yk,thematicBreak:Jk,toml:Ji,yaml:Ji,definition:Ji,footnoteDefinition:Ji};function Ji(){}const om=-1,mo=0,ni=1,Hl=2,Pu=3,_u=4,Mu=5,Iu=6,sm=7,am=8,Md=typeof self=="object"?self:globalThis,ew=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case mo:case om:return n(o,i);case ni:{const s=n([],i);for(const a of o)s.push(r(a));return s}case Hl:{const s=n({},i);for(const[a,u]of o)s[r(a)]=r(u);return s}case Pu:return n(new Date(o),i);case _u:{const{source:s,flags:a}=o;return n(new RegExp(s,a),i)}case Mu:{const s=n(new Map,i);for(const[a,u]of o)s.set(r(a),r(u));return s}case Iu:{const s=n(new Set,i);for(const a of o)s.add(r(a));return s}case sm:{const{name:s,message:a}=o;return n(new Md[s](a),i)}case am:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new Md[l](o),i)};return r},Id=e=>ew(new Map,e)(0),Vn="",{toString:tw}={},{keys:nw}=Object,Fr=e=>{const t=typeof e;if(t!=="object"||!e)return[mo,t];const n=tw.call(e).slice(8,-1);switch(n){case"Array":return[ni,Vn];case"Object":return[Hl,Vn];case"Date":return[Pu,Vn];case"RegExp":return[_u,Vn];case"Map":return[Mu,Vn];case"Set":return[Iu,Vn];case"DataView":return[ni,n]}return n.includes("Array")?[ni,n]:n.includes("Error")?[sm,n]:[Hl,n]},Zi=([e,t])=>e===mo&&(t==="function"||t==="symbol"),rw=(e,t,n,r)=>{const i=(o,s)=>{const a=r.push(o)-1;return n.set(s,a),a},l=o=>{if(n.has(o))return n.get(o);let[s,a]=Fr(o);switch(s){case mo:{let f=o;switch(a){case"bigint":s=am,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([om],o)}return i([s,f],o)}case ni:{if(a){let h=o;return a==="DataView"?h=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(o)),i([a,[...h]],o)}const f=[],d=i([s,f],o);for(const h of o)f.push(l(h));return d}case Hl:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const f=[],d=i([s,f],o);for(const h of nw(o))(e||!Zi(Fr(o[h])))&&f.push([l(h),l(o[h])]);return d}case Pu:return i([s,o.toISOString()],o);case _u:{const{source:f,flags:d}=o;return i([s,{source:f,flags:d}],o)}case Mu:{const f=[],d=i([s,f],o);for(const[h,p]of o)(e||!(Zi(Fr(h))||Zi(Fr(p))))&&f.push([l(h),l(p)]);return d}case Iu:{const f=[],d=i([s,f],o);for(const h of o)(e||!Zi(Fr(h)))&&f.push(l(h));return d}}const{message:u}=o;return i([s,{name:a,message:u}],o)};return l},Dd=(e,{json:t,lossy:n}={})=>{const r=[];return rw(!(t||n),!!t,new Map,r)(e),r},Wl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Id(Dd(e,t)):structuredClone(e):(e,t)=>Id(Dd(e,t));function iw(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ow(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||iw,r=e.options.footnoteBackLabel||lw,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=Er(d.toLowerCase());let p=0;const g=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++p<=v;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const E=f[f.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const x=E.children[E.children.length-1];x&&x.type==="text"?x.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...g)}else f.push(...g);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,m),s.push(m)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Wl(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const go=function(e){if(e==null)return cw;if(typeof e=="function")return xo(e);if(typeof e=="object")return Array.isArray(e)?sw(e):aw(e);if(typeof e=="string")return uw(e);throw new Error("Expected function, string, or object as test")};function sw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=go(e[n]);return xo(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function aw(e){const t=e;return xo(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function uw(e){return xo(t);function t(n){return n&&n.type===e}}function xo(e){return t;function t(n,r,i){return!!(dw(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cw(){return!0}function dw(e){return e!==null&&typeof e=="object"&&"type"in e}const um=[],fw=!0,ya=!1,pw="skip";function cm(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=go(i),o=r?-1:1;s(e,void 0,[])();function s(a,u,f){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=um,g,v,E;if((!t||l(a,u,f[f.length-1]||void 0))&&(p=hw(n(a,f)),p[0]===ya))return p;if("children"in a&&a.children){const m=a;if(m.children&&p[0]!==pw)for(v=(r?m.children.length:-1)+o,E=f.concat(m);v>-1&&v<m.children.length;){const x=m.children[v];if(g=s(x,v,E)(),g[0]===ya)return g;v=typeof g[1]=="number"?g[1]:v+o}}return p}}}function hw(e){return Array.isArray(e)?e:typeof e=="number"?[fw,e]:e==null?um:[e]}function Du(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),cm(e,l,s,i);function s(a,u){const f=u[u.length-1],d=f?f.children.indexOf(a):void 0;return o(a,d,f)}}const va={}.hasOwnProperty,mw={};function gw(e,t){const n=t||mw,r=new Map,i=new Map,l=new Map,o={...Zk,...n.handlers},s={all:u,applyData:yw,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:a,options:n,patch:xw,wrap:kw};return Du(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),s;function a(f,d){const h=f.type,p=s.handlers[h];if(va.call(s.handlers,h)&&p)return p(s,f,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:v,...E}=f,m=Wl(E);return m.children=s.all(f),m}return Wl(f)}return(s.options.unknownHandler||vw)(s,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const g=s.one(h[p],f);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Ad(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=Ad(v.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function xw(e,t){e.position&&(t.position=l1(e))}function yw(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,Wl(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function vw(e,t){const n=t.data||{},r="value"in t&&!(va.call(n,"hProperties")||va.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kw(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ad(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function zd(e,t){const n=gw(e,t),r=n.one(e,void 0),i=ow(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function ww(e,t){return e&&"run"in e?async function(n,r){const i=zd(n,{file:r,...t});await e.run(i,r)}:function(n,r){return zd(n,{file:r,...e||t})}}function Rd(e){if(e)throw e}var gl=Object.prototype.hasOwnProperty,dm=Object.prototype.toString,Fd=Object.defineProperty,Bd=Object.getOwnPropertyDescriptor,Od=function(t){return typeof Array.isArray=="function"?Array.isArray(t):dm.call(t)==="[object Array]"},$d=function(t){if(!t||dm.call(t)!=="[object Object]")return!1;var n=gl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&gl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||gl.call(t,i)},Ud=function(t,n){Fd&&n.name==="__proto__"?Fd(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Hd=function(t,n){if(n==="__proto__")if(gl.call(t,n)){if(Bd)return Bd(t,n).value}else return;return t[n]},bw=function e(){var t,n,r,i,l,o,s=arguments[0],a=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Hd(s,n),i=Hd(t,n),s!==i&&(f&&i&&($d(i)||(l=Od(i)))?(l?(l=!1,o=r&&Od(r)?r:[]):o=r&&$d(r)?r:{},Ud(s,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&Ud(s,{name:n,newValue:i}));return s};const ns=Kl(bw);function ka(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Sw(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(a,...u){const f=e[++l];let d=-1;if(a){o(a);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?Cw(f,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Cw(e,t){let n;return r;function r(...o){const s=e.length>o.length;let a;s&&o.push(i);try{a=e.apply(this,o)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(a&&a.then&&typeof a.then=="function"?a.then(l,i):a instanceof Error?i(a):l(a))}function i(o,...s){n||(n=!0,t(o,...s))}function l(o){i(null,o)}}const zt={basename:jw,dirname:Ew,extname:Nw,join:Tw,sep:"/"};function jw(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Pi(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Ew(e){if(Pi(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Nw(e){Pi(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Tw(...e){let t=-1,n;for(;++t<e.length;)Pi(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Lw(n)}function Lw(e){Pi(e);const t=e.codePointAt(0)===47;let n=Pw(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Pw(e,t){let n="",r=0,i=-1,l=0,o=-1,s,a;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else s===46&&l>-1?l++:l=-1}return n}function Pi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const _w={cwd:Mw};function Mw(){return"/"}function wa(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Iw(e){if(typeof e=="string")e=new URL(e);else if(!wa(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Dw(e)}function Dw(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const rs=["history","path","basename","stem","extname","dirname"];class fm{constructor(t){let n;t?wa(t)?n={path:t}:typeof t=="string"||Aw(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":_w.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<rs.length;){const l=rs[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)rs.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?zt.basename(this.path):void 0}set basename(t){ls(t,"basename"),is(t,"basename"),this.path=zt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zt.dirname(this.path):void 0}set dirname(t){Wd(this.basename,"dirname"),this.path=zt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zt.extname(this.path):void 0}set extname(t){if(is(t,"extname"),Wd(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){wa(t)&&(t=Iw(t)),ls(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zt.basename(this.path,this.extname):void 0}set stem(t){ls(t,"stem"),is(t,"stem"),this.path=zt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new We(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function is(e,t){if(e&&e.includes(zt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zt.sep+"`")}function ls(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Wd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Aw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zw=function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},Rw={}.hasOwnProperty;class Au extends zw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Sw()}copy(){const t=new Au;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ns(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(as("data",this.frozen),this.namespace[t]=n,this):Rw.call(this.namespace,t)&&this.namespace[t]||void 0:t?(as("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=el(t),r=this.parser||this.Parser;return os("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),os("process",this.parser||this.Parser),ss("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const s=el(t),a=r.parse(s);r.run(a,s,function(f,d,h){if(f||!d||!h)return u(f);const p=d,g=r.stringify(p,h);Ow(g)?h.value=g:h.result=g,u(f,h)});function u(f,d){f||!d?o(f):l?l(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),os("processSync",this.parser||this.Parser),ss("processSync",this.compiler||this.Compiler),this.process(t,i),Qd("processSync","process",n),r;function i(l,o){n=!0,Rd(l),r=o}}run(t,n,r){Vd(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,s){const a=el(n);i.run(t,a,u);function u(f,d,h){const p=d||t;f?s(f):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),Qd("runSync","run",r),i;function l(o,s){Rd(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=el(n),i=this.compiler||this.Compiler;return ss("stringify",i),Vd(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(as("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;a(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=ns(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];l(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...g]=f;const v=r[h][1];ka(v)&&ka(p)&&(p=ns(!0,v,p)),r[h]=[u,p,...g]}}}}const Fw=new Au().freeze();function os(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ss(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function as(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Vd(e){if(!ka(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Qd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function el(e){return Bw(e)?e:new fm(e)}function Bw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ow(e){return typeof e=="string"||$w(e)}function $w(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Uw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kd=[],qd={allowDangerousHtml:!0},Hw=/^(https?|ircs?|mailto|xmpp)$/i,Ww=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zu(e){const t=Vw(e),n=Qw(e);return Kw(t.runSync(t.parse(n),n),e)}function Vw(e){const t=e.rehypePlugins||Kd,n=e.remarkPlugins||Kd,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...qd}:qd;return Fw().use(Nk).use(n).use(ww,r).use(t)}function Qw(e){const t=e.children||"",n=new fm;return typeof t=="string"&&(n.value=t),n}function Kw(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,l=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||qw;for(const f of Ww)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Uw+f.id,void 0);return Du(e,u),c1(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let p;for(p in Zo)if(Object.hasOwn(Zo,p)&&Object.hasOwn(f.properties,p)){const g=f.properties[p],v=Zo[p];(v===null||v.includes(f.tagName))&&(f.properties[p]=a(String(g||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):l?l.includes(f.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(f,d,h)),p&&h&&typeof d=="number")return s&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function qw(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Hw.test(e.slice(0,t))?e:""}function Gd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Gw(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function pm(e,t,n){const i=go((n||{}).ignore||[]),l=Xw(t);let o=-1;for(;++o<l.length;)cm(e,"text",s);function s(u,f){let d=-1,h;for(;++d<f.length;){const p=f[d],g=h?h.children:void 0;if(i(p,g?g.indexOf(p):void 0,h))return;h=p}if(h)return a(u,f)}function a(u,f){const d=f[f.length-1],h=l[o][0],p=l[o][1];let g=0;const E=d.children.indexOf(u);let m=!1,x=[];h.lastIndex=0;let y=h.exec(u.value);for(;y;){const C=y.index,L={index:y.index,input:y.input,stack:[...f,u]};let j=p(...y,L);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?h.lastIndex=C+1:(g!==C&&x.push({type:"text",value:u.value.slice(g,C)}),Array.isArray(j)?x.push(...j):j&&x.push(j),g=C+y[0].length,m=!0),!h.global)break;y=h.exec(u.value)}return m?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),d.children.splice(E,1,...x)):x=[u],E+x.length}}function Xw(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Yw(i[0]),Jw(i[1])])}return t}function Yw(e){return typeof e=="string"?new RegExp(Gw(e),"g"):e}function Jw(e){return typeof e=="function"?e:function(){return e}}const us="phrasing",cs=["autolink","link","image","label"];function Zw(){return{transforms:[o2],enter:{literalAutolink:t2,literalAutolinkEmail:ds,literalAutolinkHttp:ds,literalAutolinkWww:ds},exit:{literalAutolink:l2,literalAutolinkEmail:i2,literalAutolinkHttp:n2,literalAutolinkWww:r2}}}function e2(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:us,notInConstruct:cs},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:us,notInConstruct:cs},{character:":",before:"[ps]",after:"\\/",inConstruct:us,notInConstruct:cs}]}}function t2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ds(e){this.config.enter.autolinkProtocol.call(this,e)}function n2(e){this.config.exit.autolinkProtocol.call(this,e)}function r2(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function i2(e){this.config.exit.autolinkEmail.call(this,e)}function l2(e){this.exit(e)}function o2(e){pm(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,s2],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),a2]],{ignore:["link","linkReference"]})}function s2(e,t,n,r,i){let l="";if(!hm(i)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!u2(n)))return!1;const o=c2(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:l+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function a2(e,t,n,r){return!hm(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function u2(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function c2(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Gd(e,"(");let l=Gd(e,")");for(;r!==-1&&i>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function hm(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Bn(n)||po(n))&&(!t||n!==47)}mm.peek=v2;function d2(){this.buffer()}function f2(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function p2(){this.buffer()}function h2(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function m2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function g2(e){this.exit(e)}function x2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function y2(e){this.exit(e)}function v2(){return"["}function mm(e,t,n,r){const i=n.createTracker(r);let l=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return l+=i.move(n.safe(n.associationId(e),{after:"]",before:l})),s(),o(),l+=i.move("]"),l}function k2(){return{enter:{gfmFootnoteCallString:d2,gfmFootnoteCall:f2,gfmFootnoteDefinitionLabelString:p2,gfmFootnoteDefinition:h2},exit:{gfmFootnoteCallString:m2,gfmFootnoteCall:g2,gfmFootnoteDefinitionLabelString:x2,gfmFootnoteDefinition:y2}}}function w2(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:mm},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,l,o){const s=l.createTracker(o);let a=s.move("[^");const u=l.enter("footnoteDefinition"),f=l.enter("label");return a+=s.move(l.safe(l.associationId(r),{before:a,after:"]"})),f(),a+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),a+=s.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,s.current()),t?gm:b2))),u(),a}}function b2(e,t,n){return t===0?e:gm(e,t,n)}function gm(e,t,n){return(n?"":"    ")+e}const S2=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xm.peek=T2;function C2(){return{canContainEols:["delete"],enter:{strikethrough:E2},exit:{strikethrough:N2}}}function j2(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:S2}],handlers:{delete:xm}}}function E2(e){this.enter({type:"delete",children:[]},e)}function N2(e){this.exit(e)}function xm(e,t,n,r){const i=n.createTracker(r),l=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),l(),o}function T2(){return"~"}function L2(e){return e.length}function P2(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||L2,l=[],o=[],s=[],a=[];let u=0,f=-1;for(;++f<e.length;){const v=[],E=[];let m=-1;for(e[f].length>u&&(u=e[f].length);++m<e[f].length;){const x=_2(e[f][m]);if(n.alignDelimiters!==!1){const y=i(x);E[m]=y,(a[m]===void 0||y>a[m])&&(a[m]=y)}v.push(x)}o[f]=v,s[f]=E}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)l[d]=Xd(r[d]);else{const v=Xd(r);for(;++d<u;)l[d]=v}d=-1;const h=[],p=[];for(;++d<u;){const v=l[d];let E="",m="";v===99?(E=":",m=":"):v===108?E=":":v===114&&(m=":");let x=n.alignDelimiters===!1?1:Math.max(1,a[d]-E.length-m.length);const y=E+"-".repeat(x)+m;n.alignDelimiters!==!1&&(x=E.length+x+m.length,x>a[d]&&(a[d]=x),p[d]=x),h[d]=y}o.splice(1,0,h),s.splice(1,0,p),f=-1;const g=[];for(;++f<o.length;){const v=o[f],E=s[f];d=-1;const m=[];for(;++d<u;){const x=v[d]||"";let y="",C="";if(n.alignDelimiters!==!1){const L=a[d]-(E[d]||0),j=l[d];j===114?y=" ".repeat(L):j===99?L%2?(y=" ".repeat(L/2+.5),C=" ".repeat(L/2-.5)):(y=" ".repeat(L/2),C=y):C=" ".repeat(L)}n.delimiterStart!==!1&&!d&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&m.push(" "),n.alignDelimiters!==!1&&m.push(y),m.push(x),n.alignDelimiters!==!1&&m.push(C),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&m.push("|")}g.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return g.join(`
`)}function _2(e){return e==null?"":String(e)}function Xd(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function M2(e,t,n,r){const i=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const o=n.indentLines(n.containerFlow(e,l.current()),I2);return i(),o}function I2(e,t,n){return">"+(n?"":" ")+e}function D2(e,t){return Yd(e,t.inConstruct,!0)&&!Yd(e,t.notInConstruct,!1)}function Yd(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Jd(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&D2(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function A2(e,t){const n=String(e);let r=n.indexOf(t),i=r,l=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++l>o&&(o=l):l=1,i=r+t.length,r=n.indexOf(t,i);return o}function z2(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function R2(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function F2(e,t,n,r){const i=R2(n),l=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(z2(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(l,B2);return d(),h}const s=n.createTracker(r),a=i.repeat(Math.max(A2(l,i)+1,3)),u=n.enter("codeFenced");let f=s.move(a);if(e.lang){const d=n.enter(`codeFencedLang${o}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),d()}return f+=s.move(`
`),l&&(f+=s.move(l+`
`)),f+=s.move(a),u(),f}function B2(e,t,n){return(n?"":"    ")+e}function Ru(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function O2(e,t,n,r){const i=Ru(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),o(),u}function $2(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function bi(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Vl(e,t,n){const r=kr(e),i=kr(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ym.peek=U2;function ym(e,t,n,r){const i=$2(n),l=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Vl(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=bi(u)+a.slice(1));const d=a.charCodeAt(a.length-1),h=Vl(r.after.charCodeAt(0),d,i);h.inside&&(a=a.slice(0,-1)+bi(d));const p=o.move(i);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function U2(e,t,n){return n.options.emphasis||"*"}function H2(e,t){let n=!1;return Du(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ya}),!!((!e.depth||e.depth<3)&&Nu(e)&&(t.options.setext||n))}function W2(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(H2(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");l.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(u)&&(u=bi(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),s(),u}vm.peek=V2;function vm(e){return e.value||""}function V2(){return"<"}km.peek=Q2;function km(e,t,n,r){const i=Ru(n),l=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${l}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),o(),u}function Q2(){return"!"}wm.peek=K2;function wm(e,t,n,r){const i=e.referenceType,l=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function K2(){return"!"}bm.peek=q2;function bm(e,t,n){let r=e.value||"",i="`",l=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const o=n.unsafe[l],s=n.compilePattern(o);let a;if(o.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function q2(){return"`"}function Sm(e,t){const n=Nu(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Cm.peek=G2;function Cm(e,t,n,r){const i=Ru(n),l=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,a;if(Sm(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=f,d}s=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),a(),e.title&&(a=n.enter(`title${l}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),s(),u}function G2(e,t,n){return Sm(e,n)?"<":"["}jm.peek=X2;function jm(e,t,n,r){const i=e.referenceType,l=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return o(),n.stack=f,l(),i==="full"||!u||u!==d?a+=s.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function X2(){return"["}function Fu(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Y2(e){const t=Fu(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function J2(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Em(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Z2(e,t,n,r){const i=n.enter("list"),l=n.bulletCurrent;let o=e.ordered?J2(n):Fu(n);const s=e.ordered?o==="."?")":".":Y2(n);let a=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),Em(n)===o&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=l,i(),u}function eb(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function tb(e,t,n,r){const i=eb(n);let l=n.bulletCurrent||Fu(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let o=l.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(l+" ".repeat(o-l.length)),s.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return a(),u;function f(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?l:l+" ".repeat(o-l.length))+d}}function nb(e,t,n,r){const i=n.enter("paragraph"),l=n.enter("phrasing"),o=n.containerPhrasing(e,r);return l(),i(),o}const rb=go(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ib(e,t,n,r){return(e.children.some(function(o){return rb(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function lb(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Nm.peek=ob;function Nm(e,t,n,r){const i=lb(n),l=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let a=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=a.charCodeAt(0),f=Vl(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=bi(u)+a.slice(1));const d=a.charCodeAt(a.length-1),h=Vl(r.after.charCodeAt(0),d,i);h.inside&&(a=a.slice(0,-1)+bi(d));const p=o.move(i+i);return l(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function ob(e,t,n){return n.options.strong||"*"}function sb(e,t,n,r){return n.safe(e.value,r)}function ab(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ub(e,t,n){const r=(Em(n)+(n.options.ruleSpaces?" ":"")).repeat(ab(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Tm={blockquote:M2,break:Jd,code:F2,definition:O2,emphasis:ym,hardBreak:Jd,heading:W2,html:vm,image:km,imageReference:wm,inlineCode:bm,link:Cm,linkReference:jm,list:Z2,listItem:tb,paragraph:nb,root:ib,strong:Nm,text:sb,thematicBreak:ub};function cb(){return{enter:{table:db,tableData:Zd,tableHeader:Zd,tableRow:pb},exit:{codeText:hb,table:fb,tableData:fs,tableHeader:fs,tableRow:fs}}}function db(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function fb(e){this.exit(e),this.data.inTable=void 0}function pb(e){this.enter({type:"tableRow",children:[]},e)}function fs(e){this.exit(e)}function Zd(e){this.enter({type:"tableCell",children:[]},e)}function hb(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,mb));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function mb(e,t){return t==="|"?t:e}function gb(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:a,tableRow:s}};function o(p,g,v,E){return u(f(p,v,E),p.align)}function s(p,g,v,E){const m=d(p,v,E),x=u([m]);return x.slice(0,x.indexOf(`
`))}function a(p,g,v,E){const m=v.enter("tableCell"),x=v.enter("phrasing"),y=v.containerPhrasing(p,{...E,before:l,after:l});return x(),m(),y}function u(p,g){return P2(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function f(p,g,v){const E=p.children;let m=-1;const x=[],y=g.enter("table");for(;++m<E.length;)x[m]=d(E[m],g,v);return y(),x}function d(p,g,v){const E=p.children;let m=-1;const x=[],y=g.enter("tableRow");for(;++m<E.length;)x[m]=a(E[m],p,g,v);return y(),x}function h(p,g,v){let E=Tm.inlineCode(p,g,v);return v.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function xb(){return{exit:{taskListCheckValueChecked:ef,taskListCheckValueUnchecked:ef,paragraph:vb}}}function yb(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kb}}}function ef(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function vb(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let l=-1,o;for(;++l<i.length;){const s=i[l];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function kb(e,t,n,r){const i=e.children[0],l=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);l&&s.move(o);let a=Tm.listItem(e,t,n,{...r,...s.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+o}}function wb(){return[Zw(),k2(),C2(),cb(),xb()]}function bb(e){return{extensions:[e2(),w2(e),j2(),gb(e),yb()]}}const Sb={tokenize:Lb,partial:!0},Lm={tokenize:Pb,partial:!0},Pm={tokenize:_b,partial:!0},_m={tokenize:Mb,partial:!0},Cb={tokenize:Ib,partial:!0},Mm={name:"wwwAutolink",tokenize:Nb,previous:Dm},Im={name:"protocolAutolink",tokenize:Tb,previous:Am},en={name:"emailAutolink",tokenize:Eb,previous:zm},$t={};function jb(){return{text:$t}}let jn=48;for(;jn<123;)$t[jn]=en,jn++,jn===58?jn=65:jn===91&&(jn=97);$t[43]=en;$t[45]=en;$t[46]=en;$t[95]=en;$t[72]=[en,Im];$t[104]=[en,Im];$t[87]=[en,Mm];$t[119]=[en,Mm];function Eb(e,t,n){const r=this;let i,l;return o;function o(d){return!ba(d)||!zm.call(r,r.previous)||Bu(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return ba(d)?(e.consume(d),s):d===64?(e.consume(d),a):n(d)}function a(d){return d===46?e.check(Cb,f,u)(d):d===45||d===95||Ue(d)?(l=!0,e.consume(d),a):f(d)}function u(d){return e.consume(d),i=!0,a}function f(d){return l&&i&&Ke(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Nb(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Dm.call(r,r.previous)||Bu(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Sb,e.attempt(Lm,e.attempt(Pm,l),n),n)(o))}function l(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Tb(e,t,n){const r=this;let i="",l=!1;return o;function o(d){return(d===72||d===104)&&Am.call(r,r.previous)&&!Bu(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(Ke(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),a}return n(d)}function a(d){return d===47?(e.consume(d),l?u:(l=!0,a)):n(d)}function u(d){return d===null||Ul(d)||de(d)||Bn(d)||po(d)?n(d):e.attempt(Lm,e.attempt(Pm,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Lb(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),l):n(o)}function l(o){return o===null?n(o):t(o)}}function Pb(e,t,n){let r,i,l;return o;function o(u){return u===46||u===95?e.check(_m,a,s)(u):u===null||de(u)||Bn(u)||u!==45&&po(u)?a(u):(l=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function a(u){return i||r||!l?n(u):t(u)}}function _b(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?l(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(_m,t,l)(o):o===null||de(o)||Bn(o)?t(o):(e.consume(o),i)}function l(o){return o===41&&r++,e.consume(o),i}}function Mb(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),l):s===93?(e.consume(s),i):s===60||s===null||de(s)||Bn(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||de(s)||Bn(s)?t(s):r(s)}function l(s){return Ke(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ke(s)?(e.consume(s),o):n(s)}}function Ib(e,t,n){return r;function r(l){return e.consume(l),i}function i(l){return Ue(l)?n(l):t(l)}}function Dm(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||de(e)}function Am(e){return!Ke(e)}function zm(e){return!(e===47||ba(e))}function ba(e){return e===43||e===45||e===46||e===95||Ue(e)}function Bu(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Db={tokenize:Ub,partial:!0};function Ab(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Bb,continuation:{tokenize:Ob},exit:$b}},text:{91:{name:"gfmFootnoteCall",tokenize:Fb},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zb,resolveTo:Rb}}}}function zb(e,t,n){const r=this;let i=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!o||!o._balanced)return n(a);const u=Mt(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!l.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function Rb(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Fb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),a}function a(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(l>999||d===93&&!o||d===null||d===91||de(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Mt(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return de(d)||(o=!0),l++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),l++,u):u(d)}}function Bb(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,o=0,s;return a;function a(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(g)}function f(g){if(o>999||g===93&&!s||g===null||g===91||de(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return l=Mt(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return de(g)||(s=!0),o++,e.consume(g),g===92?d:f}function d(g){return g===91||g===92||g===93?(e.consume(g),o++,f):f(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(l)||i.push(l),le(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function Ob(e,t,n){return e.check(Li,t,e.attempt(Db,t,n))}function $b(e){e.exit("gfmFootnoteDefinition")}function Ub(e,t,n){const r=this;return le(e,i,"gfmFootnoteDefinitionIndent",5);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(l):n(l)}}function Hb(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},h=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&ft(h,h.length,0,ho(p,o.slice(u+1,a),s)),ft(h,h.length,0,[["exit",d,s],["enter",o[a][1],s],["exit",o[a][1],s],["exit",f,s]]),ft(o,u-1,a-u+3,h),a=u+h.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function l(o,s,a){const u=this.previous,f=this.events;let d=0;return h;function h(g){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const v=kr(u);if(g===126)return d>1?a(g):(o.consume(g),d++,p);if(d<2&&!n)return a(g);const E=o.exit("strikethroughSequenceTemporary"),m=kr(g);return E._open=!m||m===2&&!!v,E._close=!v||v===2&&!!m,s(g)}}}class Wb{constructor(){this.map=[]}add(t,n,r){Vb(this,t,n,r)}consume(t){if(this.map.sort(function(l,o){return l[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const l of i)t.push(l);i=r.pop()}this.map.length=0}}function Vb(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Qb(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Kb(){return{flow:{null:{name:"table",tokenize:qb,resolveAll:Gb}}}}function qb(e,t,n){const r=this;let i=0,l=0,o;return s;function s(w){let F=r.events.length-1;for(;F>-1;){const Z=r.events[F][1].type;if(Z==="lineEnding"||Z==="linePrefix")F--;else break}const O=F>-1?r.events[F][1].type:null,K=O==="tableHead"||O==="tableRow"?j:a;return K===j&&r.parser.lazy[r.now().line]?n(w):K(w)}function a(w){return e.enter("tableHead"),e.enter("tableRow"),u(w)}function u(w){return w===124||(o=!0,l+=1),f(w)}function f(w){return w===null?n(w):q(w)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),p):n(w):ee(w)?le(e,f,"whitespace")(w):(l+=1,o&&(o=!1,i+=1),w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),d(w)))}function d(w){return w===null||w===124||de(w)?(e.exit("data"),f(w)):(e.consume(w),w===92?h:d)}function h(w){return w===92||w===124?(e.consume(w),d):d(w)}function p(w){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(w):(e.enter("tableDelimiterRow"),o=!1,ee(w)?le(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):g(w))}function g(w){return w===45||w===58?E(w):w===124?(o=!0,e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),v):L(w)}function v(w){return ee(w)?le(e,E,"whitespace")(w):E(w)}function E(w){return w===58?(l+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),m):w===45?(l+=1,m(w)):w===null||q(w)?C(w):L(w)}function m(w){return w===45?(e.enter("tableDelimiterFiller"),x(w)):L(w)}function x(w){return w===45?(e.consume(w),x):w===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(w))}function y(w){return ee(w)?le(e,C,"whitespace")(w):C(w)}function C(w){return w===124?g(w):w===null||q(w)?!o||i!==l?L(w):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(w)):L(w)}function L(w){return n(w)}function j(w){return e.enter("tableRow"),P(w)}function P(w){return w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),P):w===null||q(w)?(e.exit("tableRow"),t(w)):ee(w)?le(e,P,"whitespace")(w):(e.enter("data"),_(w))}function _(w){return w===null||w===124||de(w)?(e.exit("data"),P(w)):(e.consume(w),w===92?A:_)}function A(w){return w===92||w===124?(e.consume(w),_):_(w)}}function Gb(e,t){let n=-1,r=!0,i=0,l=[0,0,0,0],o=[0,0,0,0],s=!1,a=0,u,f,d;const h=new Wb;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(s=!1,a!==0&&(tf(h,t,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,l=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",f,t]])),i=g.type==="tableDelimiterRow"?2:f?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(l[1]!==0&&(o[0]=o[1],d=tl(h,t,l,i,void 0,d),l=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(o[0]=o[1],d=tl(h,t,l,i,void 0,d)),l=o,o=[l[1],n,0,0])):g.type==="tableHead"?(s=!0,a=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(a=n,l[1]!==0?(o[0]=o[1],d=tl(h,t,l,i,n,d)):o[1]!==0&&(d=tl(h,t,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&tf(h,t,a,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Qb(t.events,n))}return e}function tl(e,t,n,r,i,l){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(l.end=Object.assign({},Qn(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const a=Qn(t.events,n[1]);if(l={type:o,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const u=Qn(t.events,n[2]),f=Qn(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,v=n[3]-n[2]-1;e.add(g,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(l.end=Object.assign({},Qn(t.events,i)),e.add(i,0,[["exit",l,t]]),l=void 0),l}function tf(e,t,n,r,i){const l=[],o=Qn(t.events,n);i&&(i.end=Object.assign({},o),l.push(["exit",i,t])),r.end=Object.assign({},o),l.push(["exit",r,t]),e.add(n+1,0,l)}function Qn(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Xb={name:"tasklistCheck",tokenize:Jb};function Yb(){return{text:{91:Xb}}}function Jb(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),l)}function l(a){return de(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(a)}function s(a){return q(a)?t(a):ee(a)?e.check({tokenize:Zb},t,n)(a):n(a)}}function Zb(e,t,n){return le(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function eS(e){return Vh([jb(),Ab(),Hb(e),Kb(),Yb()])}const tS={};function Ou(e){const t=this,n=e||tS,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(eS(n)),l.push(wb()),o.push(bb(n))}function nS(e){pm(e,[/\r?\n|\r/g,rS])}function rS(){return{type:"break"}}function $u(){return function(e){nS(e)}}const iS=200;function lS(e,t=iS){return e.length<=t?e:e.slice(0,t)+"..."}function _i(e){if(!e)return"";const t=e.match(/^mcp__[^_]+__(.+)$/);return t?t[1]:e}function Ze(e,t){return e?e.length>t?e.slice(0,t-3)+"...":e:null}function Br(e){if(!e)return null;const t=e.split("/");return t[t.length-1]||null}function oS(e){if(!e)return null;try{return new URL(e).hostname}catch{return Ze(e,30)}}function Rm(e,t,n){var l,o;if(!t)return null;const r=_i(e),i=(n==null?void 0:n.maxLength)??40;switch(r){case"Bash":{const s=t.command;return Ze(s,i)}case"Glob":{const s=t.pattern;return Ze(s,i)}case"Grep":{const s=t.pattern,a=t.path;if(!s)return null;const u=a?` in ${Br(a)||a}`:"";return Ze(`"${s}"${u}`,i)}case"Read":{const s=t.file_path||t.path;return Br(s)||Ze(s,i)}case"Write":{const s=t.file_path||t.path;return Br(s)||Ze(s,i)}case"Edit":{const s=t.file_path||t.path;return Br(s)||Ze(s,i)}case"NotebookEdit":{const s=t.notebook_path;return Br(s)||Ze(s,i)}case"WebFetch":{const s=t.url;return oS(s)}case"WebSearch":{const s=t.query;return s?Ze(`"${s}"`,i):null}case"Task":{const s=t.description||t.prompt;return Ze(s,i)}case"SpawnThread":{const s=t.title;return Ze(s,i)}case"ReadThread":case"ArchiveThread":case"SendToThread":{const s=t.thread_id;return s?((l=n==null?void 0:n.getThreadTitle)==null?void 0:l.call(n,s))||Ze(s,8)+"...":null}case"AskUserQuestion":{const s=t.questions,a=(o=s==null?void 0:s[0])==null?void 0:o.question;return Ze(a,i)}case"EnterPlanMode":return"Planning...";case"ExitPlanMode":return"Plan ready";default:{const s=["command","query","path","file_path","url","message","content","title","name","description"];for(const a of s){const u=t[a];if(typeof u=="string"&&u.length>0)return Ze(u,i)}return null}}}function Fm({tools:e}){const[t,n]=T.useState(!1),r=Y(p=>p.threads),i=p=>{const g=r.find(v=>v.id===p);return(g==null?void 0:g.title)||null},l=e.every(p=>p.isComplete),o=T.useRef(!l);if(T.useEffect(()=>{if(l&&o.current&&t){const p=setTimeout(()=>n(!1),yu);return o.current=!1,()=>clearTimeout(p)}l&&(o.current=!1)},[l,t]),e.length===0)return null;const s=e[e.length-1],a=e.filter(p=>p.isComplete).length,u=e.length,f=e.some(p=>!p.isComplete),d=Rm(s.name,s.input,{maxLength:35,getThreadTitle:i}),h=u-1;return c.jsx(Cr,{children:c.jsxs("div",{className:"tool-history-block bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg my-2 overflow-hidden",children:[c.jsxs("button",{onClick:()=>n(!t),className:"w-full flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors","aria-expanded":t,children:[c.jsx("span",{className:"w-5 h-5 bg-gray-500 dark:bg-gray-400 rounded-full flex items-center justify-center text-white dark:text-gray-900 text-xs flex-shrink-0",children:c.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),c.jsxs("span",{className:"flex-1 text-left text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs",children:_i(s.name)}),d&&c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:d}),h>0&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" +",h," more"]}),f?c.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 ml-auto",children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a,"/",u]}):c.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 ml-auto",children:[" ",a,"/",u]})]}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${t?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&c.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 animate-slide-down",children:e.map((p,g)=>c.jsx(sS,{tool:p,getThreadTitle:i},p.id||g))})]})})}function sS({tool:e,getThreadTitle:t}){const[n,r]=T.useState(!1),l=e.input&&Object.keys(e.input).length>0&&JSON.stringify(e.input)!=="{}",o=Rm(e.name,e.input,{maxLength:45,getThreadTitle:t});return c.jsxs("div",{className:"border-b border-gray-200/50 dark:border-gray-700/50 last:border-b-0",children:[c.jsxs("button",{onClick:()=>l&&r(!n),className:`w-full flex items-center gap-2 px-4 py-1.5 text-sm ${l?"cursor-pointer hover:bg-gray-200/30 dark:hover:bg-gray-700/30":"cursor-default"}`,disabled:!l,children:[e.isComplete?c.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs w-4 flex-shrink-0",children:""}):c.jsxs("svg",{className:"w-3 h-3 text-gray-500 animate-spin flex-shrink-0",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400 flex-shrink-0 w-16 truncate",children:_i(e.name)}),o&&c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate flex-1 text-left",children:o}),l&&c.jsx("svg",{className:`w-3 h-3 text-gray-400 flex-shrink-0 transition-transform duration-200 ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&l&&c.jsx("div",{className:"px-4 pb-2 text-xs text-gray-500 dark:text-gray-500 overflow-hidden max-w-full",children:c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono leading-relaxed bg-gray-200/50 dark:bg-gray-900/50 p-2 rounded",children:JSON.stringify(e.input,null,2)})})]})}const Bm=T.memo(function({title:t,threadId:n,threadStatus:r,isStreaming:i=!1}){const[l,o]=T.useState(!1),s=Y(f=>f.setActiveThread),a=Y(f=>n?f.threads.find(d=>d.id===n):void 0),u=()=>{n&&s(n)};return c.jsx(Cr,{children:c.jsxs("div",{className:"spawn-thread-block bg-purple-50/60 dark:bg-purple-900/15 border border-purple-200 dark:border-purple-800 rounded-lg overflow-hidden my-2",children:[c.jsxs("button",{onClick:()=>o(!l),className:"w-full flex items-center gap-2 px-3 py-2 text-purple-700 dark:text-purple-300 hover:bg-purple-100/50 dark:hover:bg-purple-800/30 transition-colors","aria-expanded":l,children:[c.jsx("span",{className:"w-5 h-5 bg-purple-400 dark:bg-purple-500 rounded-full flex items-center justify-center text-white text-xs flex-shrink-0",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsxs("span",{className:"flex-1 text-left text-sm font-medium flex items-center gap-2",children:[c.jsx("span",{children:"Created thread"}),i?c.jsx("span",{className:"flex items-center gap-1",children:c.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:""})]}),c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&c.jsx("div",{className:"px-4 py-3 border-t border-purple-200/50 dark:border-purple-700/50 animate-slide-down",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium truncate",children:['"',t,'"']}),c.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r&&c.jsxs("span",{className:"text-xs text-purple-500/70 dark:text-purple-400/70",children:["Status: ",r]}),(a==null?void 0:a.isWorktree)&&c.jsx("span",{className:"text-xs px-1 rounded bg-cyan-500/20 text-cyan-600 dark:text-cyan-400",title:a.worktreeBranch?`Worktree on ${a.worktreeBranch}`:"Worktree",children:"worktree"})]})]}),n&&c.jsxs("button",{onClick:f=>{f.stopPropagation(),u()},className:"ml-3 text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-600 dark:text-purple-400 hover:bg-purple-500/30 transition-colors flex items-center gap-1",children:["Open Thread",c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})})});function aS(e,t){if(!e||!t)return"";let n="";switch(e){case"Bash":n=t.command?String(t.command):"";break;case"Read":case"Write":case"Edit":n=t.file_path?String(t.file_path):"";break;case"Glob":case"Grep":n=t.pattern?String(t.pattern):"";break;case"Task":n=t.description?String(t.description):"";break;case"WebFetch":n=t.url?String(t.url):"";break;case"EnterPlanMode":case"ExitPlanMode":case"TaskList":n="";break;default:n=""}return lS(n,100)}function nf(e){if(!e)return!1;const t=Object.keys(e);return t.length===0?!1:t.some(n=>{const r=e[n];return r!=null&&r!==""&&!(typeof r=="object"&&Object.keys(r).length===0)})}function Sa({name:e,input:t,isComplete:n,isCollapsed:r,isError:i}){const l=nf(t),[o,s]=T.useState(!r&&l),a=aS(e,t),u=T.useRef(!n);return T.useEffect(()=>{r&&s(!1)},[r]),T.useEffect(()=>{if(n&&u.current&&o){const f=setTimeout(()=>s(!1),yu);return u.current=!1,()=>clearTimeout(f)}n&&(u.current=!1)},[n,o]),c.jsx(Cr,{children:c.jsxs("div",{className:"my-2",children:[c.jsxs("button",{onClick:()=>l&&s(!o),className:`flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground rounded-lg transition-colors w-full text-left ${i?"bg-red-500/10 hover:bg-red-500/20 border border-red-500/50":"bg-muted/30 hover:bg-muted/50"} ${l?"":"cursor-default"}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n?c.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):c.jsxs("svg",{className:"w-4 h-4 animate-spin flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:`font-medium ${i?"text-red-600":""}`,children:_i(e)}),a&&c.jsx("span",{className:"text-xs opacity-70 truncate flex-1 font-mono",children:a}),l&&c.jsx("svg",{className:`w-4 h-4 transition-transform flex-shrink-0 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&t&&nf(t)&&c.jsx("div",{className:"mt-1 ml-6 p-2 bg-muted/20 rounded text-xs font-mono overflow-hidden max-w-full",children:c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(t,null,2)})})]})})}function Ql(e){return e?_i(e)==="SpawnThread":!1}function uS(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"&&Ql(r.name)?(n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n}),n=[]),t.push({type:"single",block:r})):r.type==="tool_use"?n.push(r):(n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&(n.length===1?t.push({type:"single",block:n[0]}):t.push({type:"tools",blocks:n})),t}function cS({block:e}){var l;const t=e.type==="tool_use"&&Ql(e.name),n=Y(o=>t?o.threads:[]),r=Y(o=>t?o.spawnedThreadIds:{}),i=(o,s)=>{if(o&&r[o]){const u=r[o],f=n.find(d=>d.id===u);return f?{id:f.id,status:f.status}:{id:u,status:void 0}}const a=n.find(u=>u.title===s);return a?{id:a.id,status:a.status}:null};switch(e.type){case"text":return e.content?c.jsx(Cr,{children:c.jsx("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(zu,{remarkPlugins:[Ou,$u],children:e.content})})})}):null;case"thinking":return e.content?c.jsx(Ph,{content:e.content,isStreaming:!1}):null;case"tool_use":if(Ql(e.name)){const o=(l=e.input)!=null&&l.title?String(e.input.title):"Untitled Thread",s=i(e.id,o);return c.jsx(Bm,{title:o,threadId:s==null?void 0:s.id,threadStatus:s==null?void 0:s.status,isStreaming:!e.isComplete})}return c.jsx(Sa,{name:e.name,input:e.input,isComplete:e.isComplete??!0});default:return null}}function dS({group:e}){if(e.type==="single")return c.jsx(cS,{block:e.block});const t=e.blocks.map(n=>({name:n.name||"unknown",input:n.input,id:n.id,isComplete:n.isComplete??!0}));return c.jsx(Fm,{tools:t})}const fS=T.memo(function({message:t}){const n=t.role==="user",r=t.role==="system",i=T.useMemo(()=>{if(n||!t.content_blocks)return null;try{return JSON.parse(t.content_blocks)}catch{return null}},[n,t.content_blocks]);if(r)return c.jsx("div",{className:"flex justify-center animate-fade-in my-1",children:c.jsx("div",{className:"max-w-[60%] px-3 py-1.5 text-xs text-muted-foreground italic text-center",children:t.content})});if(n&&t.content.startsWith("[notification]"))return null;if(!n&&i&&i.length>0){const o=uS(i);return c.jsxs("div",{className:"animate-fade-in space-y-2",children:[o.map((s,a)=>c.jsx(dS,{group:s},`${t.id}-group-${a}`)),c.jsx("p",{className:"text-xs opacity-70 px-4",children:new Date(t.timestamp).toLocaleTimeString()})]})}return c.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} animate-fade-in`,children:c.jsxs("div",{className:`message-bubble max-w-[60%] px-4 py-2 rounded-lg ${n?"message-bubble-user text-primary-foreground":"message-bubble-assistant text-foreground"}`,children:[n?c.jsx("p",{className:"whitespace-pre-wrap",children:t.content}):c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(zu,{remarkPlugins:[Ou,$u],children:t.content})}),c.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(t.timestamp).toLocaleTimeString()})]})})});function pS({content:e,isStreaming:t=!0}){return c.jsx(Cr,{className:"animate-fade-in","aria-live":"polite",children:c.jsxs("div",{className:"message-bubble message-bubble-assistant px-4 py-2 rounded-lg text-foreground",children:[c.jsx("div",{className:"prose prose-sm max-w-none font-sans text-foreground prose-p:my-1 prose-p:text-foreground prose-headings:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-code:before:content-none prose-code:after:content-none prose-ul:my-1 prose-ol:my-1 prose-li:my-0.5",children:c.jsx(zu,{remarkPlugins:[Ou,$u],children:e})}),t&&c.jsx(Lh,{})]})})}function hS({name:e,input:t,isComplete:n,toolUseId:r,isCollapsed:i,isError:l,submittedAnswers:o}){const s=Ql(e),a=Y(f=>s?f.threads:[]),u=Y(f=>s?f.spawnedThreadIds:{});if(s){const f=t!=null&&t.title?String(t.title):"Untitled Thread";let d,h;if(r&&u[r]){d=u[r];const p=a.find(g=>g.id===d);h=p==null?void 0:p.status}else{const p=a.find(g=>g.title===f);d=p==null?void 0:p.id,h=p==null?void 0:p.status}return c.jsx(Bm,{title:f,threadId:d,threadStatus:h,isStreaming:!n})}if(e==="AskUserQuestion"){const f=o?Object.entries(o).map(([,d])=>d).join(", "):null;return c.jsx(Sa,{name:e,input:f?{"Your answers":f}:void 0,isComplete:n||!!o,isCollapsed:o?i:!0,isError:l})}return c.jsx(Sa,{name:e,input:t,isComplete:n,isCollapsed:i,isError:l})}function mS({planFilePath:e,planContent:t,threadId:n,onProceed:r,onModify:i,onCompact:l}){const[o,s]=T.useState(!0),[a,u]=T.useState(!1),f=async d=>{u(!0);try{await r(d)}finally{u(!1)}};return T.useEffect(()=>{const d=h=>{if(!a&&!(h.target instanceof HTMLInputElement||h.target instanceof HTMLTextAreaElement))switch(h.key){case"1":h.preventDefault(),f("default");break;case"2":h.preventDefault(),f("acceptEdits");break;case"3":h.preventDefault(),f("bypassPermissions");break;case"m":case"M":h.preventDefault(),i();break;case"c":case"C":!h.metaKey&&!h.ctrlKey&&(h.preventDefault(),l());break}};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[a,i,l]),c.jsx("div",{className:"flex justify-start my-4",children:c.jsxs("div",{className:"max-w-[85%] w-full rounded-xl overflow-hidden shadow-lg border-2 border-blue-500/40 dark:border-blue-400/30",children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-blue-600 to-blue-500 dark:from-blue-700 dark:to-blue-600",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:["Plan Ready for Review",c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-white/20 text-white",children:"Waiting"})]}),c.jsx("p",{className:"text-xs text-blue-100 truncate max-w-md mt-0.5",children:"Review and approve before execution"})]})]}),c.jsx("button",{onClick:()=>s(!o),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":o?"Collapse plan":"Expand plan",children:c.jsx("svg",{className:`w-5 h-5 text-white transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),o&&c.jsx("div",{className:"px-5 py-4 bg-slate-50 dark:bg-slate-900/50 max-h-96 overflow-y-auto",children:c.jsx("pre",{className:"text-sm text-foreground whitespace-pre-wrap font-mono leading-relaxed",children:t||"Plan content not available"})}),c.jsxs("div",{className:"px-5 py-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("button",{onClick:()=>f("default"),disabled:a,className:`px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg
                         hover:bg-blue-700 active:bg-blue-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Proceed",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-blue-500 rounded font-mono",children:"1"})]}),c.jsxs("button",{onClick:()=>f("acceptEdits"),disabled:a,className:`px-4 py-2 text-sm font-medium bg-emerald-600 text-white rounded-lg
                         hover:bg-emerald-700 active:bg-emerald-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Auto-accept file changes",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Accept Edits",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-emerald-500 rounded font-mono",children:"2"})]}),c.jsxs("button",{onClick:()=>f("bypassPermissions"),disabled:a,className:`px-4 py-2 text-sm font-medium bg-red-600 text-white rounded-lg
                         hover:bg-red-700 active:bg-red-800 transition-all disabled:opacity-50
                         flex items-center gap-2 shadow-sm hover:shadow`,title:"Skip all permission prompts (use with caution)",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Bypass",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-red-500 rounded font-mono",children:"3"})]}),c.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600 mx-1"}),c.jsxs("button",{onClick:i,disabled:a,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Request changes to the plan",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Modify",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"m"})]}),c.jsxs("button",{onClick:l,disabled:a,className:`px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 rounded-lg
                         border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700
                         hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50
                         flex items-center gap-2`,title:"Summarize conversation to free up context",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Compact",c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] bg-slate-200 dark:bg-slate-600 rounded font-mono",children:"c"})]})]}),c.jsxs("p",{className:"mt-3 text-[11px] text-slate-500 dark:text-slate-400",children:["Keyboard: ",c.jsx("span",{className:"font-medium",children:"1-3"})," proceed  ",c.jsx("span",{className:"font-medium",children:"m"})," modify  ",c.jsx("span",{className:"font-medium",children:"c"})," compact"]})]})]})})}function gS(e){return e?(e.includes("__")&&e.split("__").pop()||e)==="SpawnThread":!1}function xS(e){const t=[];let n=[];for(const r of e)r.type==="tool_use"&&gS(r.name)?(n.length>0&&(t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),n=[]),t.push({type:"single",block:r})):r.type==="tool_use"?n.push(r):(n.length>0&&(t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),n=[]),t.push({type:"single",block:r}));return n.length>0&&t.push(n.length===1?{type:"single",block:n[0]}:{type:"tool_group",blocks:n}),t}function yS(e){const[t,n]=T.useState(null),[r,i]=T.useState(!1);return T.useEffect(()=>{if(!e){n(null);return}let l=!1;const o=async()=>{i(!0);try{const a=await fetch(`/api/threads/${e}/tokens`);if(a.ok&&!l){const u=await a.json();n(u)}}catch{}finally{l||i(!1)}};o();const s=setInterval(o,6e4);return()=>{l=!0,clearInterval(s)}},[e]),{tokenInfo:t,isLoading:r}}function vS({block:e,threadId:t,expandedBlockId:n,onToggleExpanded:r}){const i=e.type==="thinking"?`thinking-${e.timestamp}`:e.id,l=!e.isFinalized;switch(e.type){case"text":return e.content?c.jsx(pS,{content:e.content,isStreaming:l}):null;case"thinking":return e.content?c.jsx(Ph,{content:e.content,isStreaming:l,blockId:i,isExpanded:n===i,onToggle:()=>r(i)}):null;case"tool_use":return c.jsx(hS,{name:e.name,input:e.input,isComplete:e.isComplete,toolUseId:e.id,isCollapsed:e.isCollapsed,isError:e.isError,submittedAnswers:e.submittedAnswers});default:return null}}function kS(){const e=Y(I=>I.threads),t=Y(I=>I.activeThreadId),n=Y(I=>I.streamingBlocks),r=Y(I=>I.expandedStreamingBlockId),i=Y(I=>I.pendingQuestion),l=Y(I=>I.pendingPlanApproval),o=Y(I=>I.handlePlanAction),s=Y(I=>I.threadNotifications),a=Y(I=>I.error),u=Y(I=>I.sendMessage),f=Y(I=>I.createThread),d=Y(I=>I.setActiveThread),h=Y(I=>I.setExpandedStreamingBlockId),p=Y(I=>I.clearPendingQuestion),g=Y(I=>I.answerQuestion),v=Y(I=>I.updateThreadConfig),E=Y(I=>I.clearThreadMessages),m=Y(I=>I.archiveThread),x=Y(I=>I.stopThread),[y,C]=T.useState(!1),[L,j]=T.useState(!1),[P,_]=T.useState(!1),[A,w]=T.useState(null),F=T.useRef(null),{ref:O,inView:K}=yx({threshold:1}),{tokenInfo:Z}=yS(t),$=T.useMemo(()=>e.find(I=>I.id===t),[e,t]),se=T.useMemo(()=>$!=null&&$.parentId?e.find(I=>I.id===$.parentId):null,[e,$]),ne=($==null?void 0:$.messages)||[],N=T.useMemo(()=>t?n[t]||[]:[],[t,n]),B=T.useMemo(()=>t?i[t]:void 0,[t,i]),k=T.useMemo(()=>t?l[t]:void 0,[t,l]),X=T.useMemo(()=>t?s[t]||[]:[],[t,s]),U=T.useMemo(()=>t&&r[t]||null,[t,r]),b=T.useCallback(I=>{if(!t)return;h(t,U===I?null:I)},[t,U,h]),fe=T.useMemo(()=>[...ne.map(Q=>({type:"message",data:Q,timestamp:Q.timestamp})),...X.map(Q=>({type:"notification",data:Q,timestamp:Q.timestamp}))].sort((Q,gt)=>new Date(Q.timestamp).getTime()-new Date(gt.timestamp).getTime()),[ne,X]);T.useEffect(()=>{var I;K&&N.length>0&&((I=F.current)==null||I.scrollIntoView({behavior:"smooth"}))},[N,K]);const Se=T.useRef(null);T.useEffect(()=>{var Q;const I=Se.current!==t;Se.current=t,(I||K)&&((Q=F.current)==null||Q.scrollIntoView({behavior:"smooth"}))},[ne.length,t,K]),T.useEffect(()=>{if(A){const I=setTimeout(()=>w(null),3e4);return()=>clearTimeout(I)}},[A]);const re=T.useCallback(async(I,Q,gt)=>{if(!t)return;w(null);const tn=Q==null?void 0:Q.map(xt=>({data:xt.data,media_type:xt.media_type}));await u(t,I,{images:tn,fileRefs:gt})},[t,u]),Ce=async I=>{_(!1),w(null);try{C(!0);const Q=await f(I);d(Q.id)}catch(Q){w(Q instanceof Error?Q.message:"Failed to create thread")}finally{C(!1)}},Me=async I=>{j(!1),w(null);try{const Q=await f({title:I.title,parentId:t||void 0,model:I.model,permissionMode:I.permissionMode});d(Q.id)}catch(Q){w(Q instanceof Error?Q.message:"Failed to create thread")}},Ie=T.useCallback(async I=>{t&&await v(t,{model:I})},[t,v]),Fe=T.useCallback(async I=>{$&&await v($.id,{extendedThinking:I})},[$,v]),jt=T.useCallback(async I=>{$&&await v($.id,{permissionMode:I})},[$,v]),D=T.useCallback(async()=>{if(t&&confirm("Clear all messages in this thread? This cannot be undone."))try{await E(t)}catch(I){w(I instanceof Error?I.message:"Failed to clear thread")}},[t,E]),W=T.useCallback(async()=>{if(t)try{await m(t)}catch(I){w(I instanceof Error?I.message:"Failed to archive thread")}},[t,m]),ie=T.useCallback(async()=>{if(t)try{await x(t)}catch(I){w(I instanceof Error?I.message:"Failed to stop thread")}},[t,x]),ce=T.useCallback(async I=>{if($)try{await v($.id,{autoReact:I})}catch(Q){w(Q instanceof Error?Q.message:"Failed to update auto-react setting")}},[$,v]),ye=A||a;return c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[ye&&c.jsxs("div",{className:"bg-red-500/10 border-b border-red-500/30 px-4 py-3 flex items-start gap-3",children:[c.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),c.jsx("p",{className:"text-red-600/80 text-sm font-mono mt-0.5",children:ye})]}),c.jsx("button",{onClick:()=>w(null),className:"text-red-500 hover:text-red-700 p-1","aria-label":"Dismiss error",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),$&&c.jsx(cy,{thread:$,parentThread:se||void 0,tokenInfo:Z,onNavigateToParent:()=>se&&d(se.id),onClearThread:D,onArchiveThread:W}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[ne.length===0&&X.length===0&&N.length===0&&c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx("p",{className:"text-lg",children:"Start a conversation"}),c.jsx("p",{className:"text-sm",children:"Type a message below to begin"})]}),fe.map(I=>I.type==="message"?c.jsx(fS,{message:I.data},I.data.id):I.data.status?c.jsx(ay,{notification:I.data,onNavigate:Q=>d(Q)},`completion-${I.data.threadId}-${I.timestamp}`):c.jsx(sy,{notification:I.data,onNavigate:Q=>d(Q)},`created-${I.data.threadId}`)),t&&xS(N).map(I=>{if(I.type==="single"){const Q=I.block,gt=Q.id||`block-${Q.timestamp}`;return c.jsx(vS,{block:Q,threadId:t,expandedBlockId:U,onToggleExpanded:b},gt)}else{const Q=I.blocks[0],gt=`tool-group-${Q.id||Q.timestamp}`,tn=I.blocks.map(xt=>({name:xt.name||"unknown",input:xt.input,id:xt.id,isComplete:xt.isComplete??!1}));return c.jsx(Fm,{tools:tn},gt)}}),($==null?void 0:$.status)==="pending"&&N.length===0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground px-4 py-2",children:[c.jsxs("span",{className:"inline-flex gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),c.jsx("span",{className:"animate-pulse",children:"Processing..."})]}),B&&t&&c.jsx(oy,{questions:B,onAnswer:async I=>{try{await g(t,I)}catch(Q){w(Q instanceof Error?Q.message:"Failed to submit answer")}},onCancel:()=>{t&&p(t)}}),k&&t&&c.jsx(mS,{planFilePath:k.planFilePath,planContent:k.planContent,threadId:t,onProceed:async I=>{try{await o(t,"proceed",I)}catch(Q){w(Q instanceof Error?Q.message:"Failed to proceed with plan")}},onModify:async()=>{try{await o(t,"modify")}catch(I){w(I instanceof Error?I.message:"Failed to modify plan")}},onCompact:async()=>{try{await o(t,"compact")}catch(I){w(I instanceof Error?I.message:"Failed to compact context")}}}),c.jsx("div",{ref:O,className:"h-1"}),c.jsx("div",{ref:F})]}),$&&c.jsx(py,{thread:$,disabled:y,onSendMessage:re,onCreateThread:()=>j(!0),onModelChange:Ie,onPermissionModeChange:jt,onThinkingToggle:Fe,onStopThread:ie,onAutoReactToggle:ce,onError:w}),c.jsx(Kx,{isOpen:L,parentModel:($==null?void 0:$.model)||"claude-opus-4-5",parentPermissionMode:($==null?void 0:$.permissionMode)||"acceptEdits",onSubmit:Me,onCancel:()=>j(!1)}),c.jsx(Th,{isOpen:P,onSubmit:Ce,onCancel:()=>_(!1)})]})}const Uu={needs_attention:{bg:"bg-red-500",label:"Needs attention"},pending:{bg:"bg-orange-500",label:"Processing"},active:{bg:"bg-green-500",label:"Active"},done:{bg:"bg-green-500",label:"Done"},new_message:{bg:"bg-red-500",label:"New message"}};function Om({status:e}){const t=Uu[e],n=e==="pending";return c.jsx("span",{className:`w-2 h-2 rounded-full ${t.bg} flex-shrink-0 ${n?"animate-neon-blink":""}`,title:t.label,"aria-label":`Thread status: ${t.label}`,role:"status"})}const Hu={"claude-sonnet-4-5":{short:"S4.5",color:"bg-purple-500/20 text-purple-600"},"claude-opus-4-5":{short:"O4.5",color:"bg-orange-500/20 text-orange-600"},"claude-haiku-4-5":{short:"H4.5",color:"bg-green-500/20 text-green-600"}},Wu={short:"?",color:"bg-gray-500/20 text-gray-600"};function wS(){const e=Y(N=>N.threads),t=Y(N=>N.activeThreadId),n=Y(N=>N.showArchived),r=Y(N=>N.setActiveThread),i=Y(N=>N.createThread),l=Y(N=>N.archiveThread),o=Y(N=>N.unarchiveThread),s=Y(N=>N.resetAllThreads),a=Y(N=>N.setShowArchived),u=Y(N=>N.stopThread),f=Y(N=>N.sendMessage),d=Y(N=>N.updateThreadTitle),h=Ot(N=>N.isCreateThreadModalOpen),p=Ot(N=>N.openCreateThreadModal),g=Ot(N=>N.closeCreateThreadModal),[v,E]=T.useState(!1),[m,x]=T.useState(null),[y,C]=T.useState(new Set),{mainThreads:L,archivedMainThreads:j,archivedSubThreads:P,subThreadsByParent:_,totalArchivedCount:A}=T.useMemo(()=>{const N=e.filter(U=>!U.parentId&&!U.archivedAt),B=e.filter(U=>!U.parentId&&U.archivedAt),k=e.filter(U=>U.parentId&&U.archivedAt),X=new Map;return e.filter(U=>U.parentId&&!U.archivedAt).forEach(U=>{const b=X.get(U.parentId)||[];X.set(U.parentId,[...b,U])}),{mainThreads:N,archivedMainThreads:B,archivedSubThreads:k,subThreadsByParent:X,totalArchivedCount:B.length+k.length}},[e]),w=async N=>{g(),x(null);try{const B=await i(N);r(B.id)}catch(B){const k=B instanceof Error?B.message:"Failed to create thread";x(k)}},F=async N=>{x(null);try{await l(N)}catch(B){const k=B instanceof Error?B.message:"Failed to archive thread";x(k)}},O=N=>{C(B=>{const k=new Set(B);return k.has(N)?k.delete(N):k.add(N),k})},K=async N=>{x(null);try{await o(N)}catch(B){const k=B instanceof Error?B.message:"Failed to unarchive thread";x(k)}},Z=async N=>{x(null);try{await u(N)}catch(B){const k=B instanceof Error?B.message:"Failed to stop thread";x(k)}},$=async N=>{x(null);try{await f(N,"")}catch(B){const k=B instanceof Error?B.message:"Failed to resume thread";x(k)}},se=async()=>{E(!1),x(null);try{await s()}catch(N){const B=N instanceof Error?N.message:"Failed to reset threads";x(B)}},ne=async(N,B)=>{x(null);try{await d(N,B)}catch(k){const X=k instanceof Error?k.message:"Failed to rename thread";throw x(X),k}};return c.jsxs("aside",{className:"w-full h-full border-l border-border bg-muted/30 flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between flex-shrink-0",children:[c.jsx("h2",{className:"font-semibold",children:"Threads"}),c.jsx("button",{onClick:p,className:"text-sm px-2 py-1 rounded hover:bg-muted","aria-label":"Create new thread",title:"Create new thread (N)",children:"+ New"})]}),m&&c.jsx("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-500/10",children:m}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[e.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No threads yet"}),L.map(N=>c.jsx(bS,{thread:N,subThreads:_.get(N.id)||[],isActive:N.id===t,onSelect:()=>r(N.id),activeThreadId:t,onSelectSub:r,onArchive:F,onStop:Z,onResume:$,onRename:ne,isExpanded:y.has(N.id),onToggleExpand:O},N.id)),n&&A>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[c.jsx("p",{className:"text-xs text-muted-foreground px-2 mb-2 uppercase tracking-wide",children:"Archived"}),j.map(N=>c.jsx(lf,{thread:N,onUnarchive:K,onSelect:()=>r(N.id),isActive:N.id===t},N.id)),P.map(N=>c.jsx(lf,{thread:N,onUnarchive:K,onSelect:()=>r(N.id),isActive:N.id===t,isSubThread:!0},N.id))]})]}),c.jsxs("div",{className:"p-3 border-t border-border space-y-2 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(vu,{enabled:n,onChange:a,label:"Show archived"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[A," archived"]})]}),c.jsx("button",{onClick:()=>E(!0),className:"w-full text-xs px-2 py-1.5 rounded border border-red-500/30 text-red-600 hover:bg-red-500/10",children:"Reset All Threads"})]}),v&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 max-w-sm mx-4",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Reset All Threads?"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will permanently delete all threads and messages. This action cannot be undone."}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>E(!1),className:"px-3 py-1.5 text-sm rounded border border-border hover:bg-muted",children:"Cancel"}),c.jsx("button",{onClick:se,className:"px-3 py-1.5 text-sm rounded bg-red-600 text-white hover:bg-red-700",children:"Reset All"})]})]})}),c.jsx(Th,{isOpen:h,onSubmit:w,onCancel:g})]})}function bS({thread:e,subThreads:t,isActive:n,onSelect:r,activeThreadId:i,onSelectSub:l,onArchive:o,onStop:s,onResume:a,onRename:u,isExpanded:f,onToggleExpand:d}){const h=Uu[e.status],p=Hu[e.model]||Wu,g=t.length>0,[v,E]=T.useState(!1),[m,x]=T.useState(e.title),y=T.useRef(null),C=t.some(w=>w.id===i),L=f||C,j=w=>{w.stopPropagation(),d(e.id)},P=w=>{w.stopPropagation(),x(e.title),E(!0)},_=async()=>{const w=m.trim();if(w&&w!==e.title)try{await u(e.id,w)}catch{x(e.title)}else x(e.title);E(!1)},A=w=>{w.key==="Enter"?(w.preventDefault(),_()):w.key==="Escape"&&(w.preventDefault(),x(e.title),E(!1))};return T.useEffect(()=>{v&&y.current&&(y.current.focus(),y.current.select())},[v]),c.jsxs("div",{className:"mb-1 group",children:[c.jsxs("div",{className:"flex items-center",children:[g?c.jsx("button",{onClick:j,className:"w-5 h-5 flex items-center justify-center text-muted-foreground hover:text-foreground flex-shrink-0","aria-label":f?"Collapse sub-threads":"Expand sub-threads",children:c.jsx("svg",{className:`w-3 h-3 transition-transform ${L?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:r,onDoubleClick:P,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2
                      ${n?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select thread: ${e.title}, status: ${h.label}`,children:[c.jsx(Om,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0",children:[v?c.jsx("input",{ref:y,type:"text",value:m,onChange:w=>x(w.target.value),onBlur:_,onKeyDown:A,onClick:w=>w.stopPropagation(),className:"w-full text-sm bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-sm",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[c.jsx("span",{className:`text-[10px] px-1 rounded ${p.color}`,title:e.model,children:p.short}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-blue-500/20 text-blue-600 truncate max-w-[80px]",title:e.gitBranch,children:e.gitBranch}),e.extendedThinking&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-amber-500/20 text-amber-600",title:"Extended thinking enabled",children:"T"}),g&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-purple-500/20 text-purple-600",title:`${t.length} sub-thread(s)`,children:t.length})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),e.status==="pending"&&c.jsx("button",{onClick:w=>{w.stopPropagation(),s(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),e.status!=="pending"&&e.messages.length>0&&c.jsx("button",{onClick:w=>{w.stopPropagation(),a(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-green-500 hover:text-green-600 transition-opacity",title:"Resume thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8 5v14l11-7z"})})}),c.jsx("button",{onClick:w=>{w.stopPropagation(),o(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]}),L&&t.length>0&&c.jsx(SS,{subThreads:t,activeThreadId:i,onSelectSub:l,onStop:s,onResume:a,onArchive:o,onRename:u})]})}const rf=5,ps=52;function SS({subThreads:e,activeThreadId:t,onSelectSub:n,onStop:r,onResume:i,onArchive:l,onRename:o}){const s=T.useRef(null),[a,u]=T.useState(!1),[f,d]=T.useState(!1),h=e.length>rf,p=rf*ps,g=()=>{const v=s.current;v&&(u(v.scrollTop>0),d(v.scrollTop<v.scrollHeight-v.clientHeight-1))};return T.useEffect(()=>{g()},[e.length]),T.useEffect(()=>{if(!t||!s.current)return;const v=e.findIndex(E=>E.id===t);if(v>=0){const E=v*ps;s.current.scrollTo({top:E-ps,behavior:"smooth"})}},[t,e]),c.jsxs("div",{className:"ml-5 mt-1 relative",children:[h&&a&&c.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-background to-transparent z-10 pointer-events-none flex items-start justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsx("div",{ref:s,onScroll:g,className:"space-y-1 border-l-2 border-muted pl-1 overflow-y-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",style:h?{maxHeight:`${p}px`}:void 0,children:e.map(v=>c.jsx(CS,{sub:v,isActive:v.id===t,onSelect:()=>n(v.id),onStop:r,onResume:i,onArchive:l,onRename:o},v.id))}),h&&f&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-background to-transparent z-10 pointer-events-none flex items-end justify-center",children:c.jsx("svg",{className:"w-4 h-4 text-muted-foreground animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),h&&c.jsxs("div",{className:"text-[10px] text-muted-foreground text-center mt-1",children:[e.length," sub-threads"]})]})}function CS({sub:e,isActive:t,onSelect:n,onStop:r,onResume:i,onArchive:l,onRename:o}){const s=Uu[e.status],a=Hu[e.model]||Wu,[u,f]=T.useState(!1),[d,h]=T.useState(e.title),p=T.useRef(null),g=m=>{m.stopPropagation(),h(e.title),f(!0)},v=async()=>{const m=d.trim();if(m&&m!==e.title)try{await o(e.id,m)}catch{h(e.title)}else h(e.title);f(!1)},E=m=>{m.key==="Enter"?(m.preventDefault(),v()):m.key==="Escape"&&(m.preventDefault(),h(e.title),f(!1))};return T.useEffect(()=>{u&&p.current&&(p.current.focus(),p.current.select())},[u]),c.jsxs("div",{className:"flex items-center group",children:[c.jsxs("button",{onClick:n,onDoubleClick:g,className:`flex-1 min-w-0 text-left px-2 py-1.5 rounded flex items-center gap-1.5
                    ${t?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select sub-thread: ${e.title}, status: ${s.label}`,children:[c.jsx(Om,{status:e.status}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[u?c.jsx("input",{ref:p,type:"text",value:d,onChange:m=>h(m.target.value),onBlur:v,onKeyDown:E,onClick:m=>m.stopPropagation(),className:"w-full text-xs bg-background border border-primary rounded px-1 py-0.5 focus:outline-none focus:ring-1 focus:ring-primary",maxLength:255}):c.jsx("span",{className:"block truncate text-xs",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[c.jsx("span",{className:`text-[10px] px-1 rounded ${a.color}`,children:a.short}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-blue-500/20 text-blue-600 truncate max-w-[60px]",title:e.gitBranch,children:e.gitBranch}),e.isWorktree&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-cyan-500/20 text-cyan-600",title:e.worktreeBranch?`Worktree on ${e.worktreeBranch}`:"Worktree",children:"W"}),e.extendedThinking&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-amber-500/20 text-amber-600",children:"T"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),e.status==="pending"&&c.jsx("button",{onClick:m=>{m.stopPropagation(),r(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-600 transition-opacity",title:"Stop sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}),e.status!=="pending"&&e.messages.length>0&&c.jsx("button",{onClick:m=>{m.stopPropagation(),i(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-green-500 hover:text-green-600 transition-opacity",title:"Resume sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8 5v14l11-7z"})})}),c.jsx("button",{onClick:m=>{m.stopPropagation(),l(e.id)},className:"flex-shrink-0 opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Archive sub-thread",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]})}function lf({thread:e,onUnarchive:t,onSelect:n,isActive:r,isSubThread:i}){const l=Hu[e.model]||Wu;return c.jsxs("div",{className:`mb-1 group flex items-center ${i?"ml-4":""}`,children:[c.jsx("div",{className:"w-5 flex-shrink-0"}),c.jsxs("button",{onClick:n,className:`flex-1 text-left px-2 py-2 rounded-lg flex items-center gap-2 opacity-60 hover:opacity-100
                    ${r?"bg-primary/10 border border-primary/30":"hover:bg-muted"}`,"aria-label":`Select archived ${i?"sub-":""}thread: ${e.title}`,children:[i?c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}):c.jsx("svg",{className:"w-4 h-4 text-muted-foreground flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),c.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[c.jsx("span",{className:"block truncate text-sm max-w-[160px]",children:e.title}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[c.jsx("span",{className:`text-[10px] px-1 rounded ${l.color}`,title:e.model,children:l.short}),e.gitBranch&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-blue-500/20 text-blue-600 truncate max-w-[60px]",title:e.gitBranch,children:e.gitBranch}),i&&c.jsx("span",{className:"text-[10px] px-1 rounded bg-purple-500/20 text-purple-600",title:"Sub-thread",children:"sub"})]})]}),c.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 w-5 text-right",children:e.messages.length})]}),c.jsx("button",{onClick:o=>{o.stopPropagation(),t(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-muted-foreground hover:text-foreground transition-opacity",title:"Restore thread",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})}const jS=[{value:"claude-sonnet-4-5",label:"Sonnet 4.5",desc:"Fast & capable"},{value:"claude-opus-4-5",label:"Opus 4.5",desc:"Most intelligent"},{value:"claude-haiku-4-5",label:"Haiku 4.5",desc:"Quick & light"}],ES=[{value:"plan",label:"Plan Mode",desc:"Review changes before applying"},{value:"acceptEdits",label:"Accept Edits",desc:"Auto-accept file changes"},{value:"default",label:"Normal",desc:"Prompt for each action"},{value:"bypassPermissions",label:"Bypass All",desc:"Skip permission prompts",warning:!0}];function NS(){const{isSettingsOpen:e,closeSettings:t,defaultModel:n,defaultPermissionMode:r,defaultExtendedThinking:i,defaultAutoReact:l,showArchivedByDefault:o,experimentalAllowNestedSubthreads:s,experimentalMaxThreadDepth:a,updateSettings:u,resetToDefaults:f}=Ot(),d=T.useRef(null),[h,p]=T.useState(!1);return T.useEffect(()=>{e&&(p(!0),requestAnimationFrame(()=>p(!1)))},[e]),T.useEffect(()=>{if(!e)return;const g=v=>v.key==="Escape"&&t();return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e,t]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:g=>g.target===g.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),c.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-label":"Settings",className:`
          relative bg-background/95 backdrop-blur-xl border border-border/50
          rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden
          transform transition-all duration-200 ease-out
          ${h?"scale-95 opacity-0":"scale-100 opacity-100"}
        `,children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Settings"}),c.jsxs("kbd",{className:`hidden sm:inline-flex items-center gap-1 px-2 py-0.5
                           text-[10px] font-medium text-muted-foreground
                           bg-muted/50 rounded-md border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),","]})]}),c.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-muted-foreground hover:text-foreground
                       hover:bg-muted/50 transition-colors`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"px-6 py-5 space-y-6 max-h-[60vh] overflow-y-auto",children:[c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Thread Defaults"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 space-y-4 border border-border/30",children:[c.jsx(hs,{label:"Default Model",description:"For new threads",children:c.jsx(of,{value:n,options:jS,onChange:g=>u({defaultModel:g})})}),c.jsx(hs,{label:"Permission Mode",description:"How Claude asks for approval",children:c.jsx(of,{value:r,options:ES,onChange:g=>u({defaultPermissionMode:g}),warning:r==="bypassPermissions"})}),c.jsxs("div",{className:"border-t border-border/30 pt-4 space-y-3",children:[c.jsx(nl,{label:"Extended Thinking",description:"Enable deep reasoning",enabled:i,onChange:g=>u({defaultExtendedThinking:g})}),c.jsx(nl,{label:"Auto-React",description:"Respond to sub-thread completions",enabled:l,onChange:g=>u({defaultAutoReact:g})})]})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Display"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(TS,{}),c.jsx("div",{className:"border-t border-border/30 pt-4",children:c.jsx(nl,{label:"Show Archived",description:"Display archived threads by default",enabled:o,onChange:g=>u({showArchivedByDefault:g})})})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Keyboard Shortcuts"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-3 border border-border/30 space-y-2",children:[c.jsx(Or,{keys:["&#8984;","K"],description:"Command palette"}),c.jsx(Or,{keys:["&#8984;",","],description:"Open settings"}),c.jsx(Or,{keys:["Shift","Enter"],description:"Cycle permission mode"}),c.jsx(Or,{keys:["Esc"],description:"Stop running thread"}),c.jsx(Or,{keys:["Esc"],description:"Close modals/settings"})]})]}),c.jsxs("section",{children:[c.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Experimental"}),c.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/30 space-y-4",children:[c.jsx(nl,{label:"Nested Sub-threads",description:"Allow sub-threads to spawn their own sub-threads",enabled:s,onChange:g=>u({experimentalAllowNestedSubthreads:g})}),s&&c.jsx(hs,{label:"Max Depth",description:"Maximum nesting level (2-5)",children:c.jsx("input",{type:"number",min:2,max:5,value:a,onChange:g=>u({experimentalMaxThreadDepth:Math.min(5,Math.max(2,parseInt(g.target.value)||3))}),className:`w-16 px-2 py-1 rounded border border-border bg-background text-sm
                               focus:outline-none focus:ring-2 focus:ring-primary`})})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border/50 bg-muted/20",children:[c.jsx("button",{onClick:f,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Reset to Defaults"}),c.jsx("button",{onClick:t,className:`px-4 py-2 bg-primary text-primary-foreground text-sm font-medium
                       rounded-lg hover:bg-primary/90 transition-colors`,children:"Done"})]})]})]}):null}function hs({label:e,description:t,children:n}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),n]})}function nl({label:e,description:t,enabled:n,onChange:r}){return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:t})]}),c.jsx("button",{role:"switch","aria-checked":n,onClick:()=>r(!n),className:`
          relative w-11 h-6 rounded-full transition-colors duration-200
          ${n?"bg-primary":"bg-muted-foreground/30"}
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
        `,children:c.jsx("span",{className:`
          absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm
          transition-transform duration-200 ${n?"translate-x-5":""}
        `})})]})}function Or({keys:e,description:t}){return c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:t}),c.jsx("div",{className:"flex items-center gap-1",children:e.map((n,r)=>c.jsxs("span",{children:[c.jsx("kbd",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-background border border-border/50 rounded",dangerouslySetInnerHTML:{__html:n}}),r<e.length-1&&c.jsx("span",{className:"text-muted-foreground mx-0.5",children:"+"})]},r))})]})}function TS(){const e=Ot(r=>r.theme),t=Ot(r=>r.updateSettings),n=[{value:"light",label:"Light",icon:""},{value:"dark",label:"Dark",icon:""},{value:"system",label:"System",icon:""}];return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-medium",children:"Theme"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Light, dark, or system"})]}),c.jsx("div",{className:"flex gap-1 bg-background/50 rounded-lg p-1 border border-border/30",children:n.map(r=>c.jsx("button",{onClick:()=>t({theme:r.value}),className:`
              px-3 py-1.5 text-sm rounded-md transition-colors
              ${e===r.value?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}
            `,children:r.label},r.value))})]})}function of({value:e,options:t,onChange:n,warning:r}){const[i,l]=T.useState(!1),o=t.find(s=>s.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>l(!i),className:`
          flex items-center justify-between gap-2 w-40 px-3 py-1.5 text-sm
          rounded-lg border transition-colors text-left
          ${r?"border-red-500/50 bg-red-500/10 text-red-400":"border-border/50 bg-background/50 hover:bg-muted/50"}
        `,children:[c.jsx("span",{className:"truncate",children:o==null?void 0:o.label}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),c.jsx("div",{className:`absolute right-0 mt-1 w-56 bg-background border border-border
                          rounded-lg shadow-lg z-20 py-1 overflow-hidden`,children:t.map(s=>c.jsxs("button",{onClick:()=>{n(s.value),l(!1)},className:`
                  w-full px-3 py-2 text-left hover:bg-muted/50 transition-colors
                  ${s.value===e?"bg-muted/30":""}
                  ${s.warning?"text-red-400":""}
                `,children:[c.jsx("div",{className:"text-sm font-medium",children:s.label}),c.jsx("div",{className:"text-xs text-muted-foreground",children:s.desc})]},s.value))})]})]})}function LS(){const{isCommandPaletteOpen:e,closeCommandPalette:t,openSettings:n,openCreateThreadModal:r}=Ot(),{activeThreadId:i,threads:l,stopThread:o,clearThreadMessages:s}=Y(),[a,u]=T.useState(""),[f,d]=T.useState(0),h=T.useRef(null),p=T.useRef(null),g=l.find(C=>C.id===i),v=(g==null?void 0:g.status)==="pending",E=l.filter(C=>C.parentId&&C.status==="pending"),m=E.length>0,x=T.useMemo(()=>[{id:"new-thread",label:"New Thread",shortcut:"N",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})}),action:()=>{t(),r()}},{id:"settings",label:"Settings",shortcut:",",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),action:()=>{t(),n()}},{id:"stop-thread",label:v?"Stop Thread":"Stop Thread (not running)",icon:c.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),action:()=>{i&&v&&o(i),t()}},{id:"clear-messages",label:"Clear Messages",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:()=>{i&&s(i),t()}},{id:"stop-all-subthreads",label:m?`Stop All Subthreads (${E.length} running)`:"Stop All Subthreads (none running)",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),danger:!0,action:async()=>{m&&await Promise.all(E.map(C=>o(C.id))),t()}}],[i,v,m,E,t,n,r,o,s]),y=T.useMemo(()=>{if(!a.trim())return x;const C=a.toLowerCase();return x.filter(L=>L.label.toLowerCase().includes(C)||L.id.toLowerCase().includes(C))},[x,a]);return T.useEffect(()=>{d(0)},[a]),T.useEffect(()=>{e&&(u(""),d(0),setTimeout(()=>{var C;return(C=h.current)==null?void 0:C.focus()},0))},[e]),T.useEffect(()=>{if(!e)return;const C=L=>{switch(L.key){case"ArrowDown":L.preventDefault(),d(j=>Math.min(j+1,y.length-1));break;case"ArrowUp":L.preventDefault(),d(j=>Math.max(j-1,0));break;case"Enter":L.preventDefault(),y[f]&&y[f].action();break;case"Escape":L.preventDefault(),t();break}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[e,f,y,t]),T.useEffect(()=>{var L;if(!p.current)return;(L=p.current.querySelectorAll("[data-command]")[f])==null||L.scrollIntoView({block:"nearest"})},[f]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh]",onClick:C=>C.target===C.currentTarget&&t(),children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs("div",{className:`relative bg-background/95 backdrop-blur-xl border border-border/50
                      rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden`,children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border/50",children:[c.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{ref:h,type:"text",value:a,onChange:C=>u(C.target.value),placeholder:"Type a command...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground"}),c.jsx("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                          bg-muted/50 rounded border border-border/50`,children:"esc"})]}),c.jsx("div",{ref:p,className:"max-h-[300px] overflow-y-auto py-2",children:y.length===0?c.jsx("div",{className:"px-4 py-6 text-center text-sm text-muted-foreground",children:"No commands found"}):y.map((C,L)=>c.jsxs("button",{"data-command":C.id,onClick:C.action,onMouseEnter:()=>d(L),className:`
                  w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors
                  ${L===f?"bg-muted/50":"hover:bg-muted/30"}
                  ${C.id==="stop-thread"&&!v?"opacity-50":""}
                  ${C.id==="stop-all-subthreads"&&!m?"opacity-50":""}
                  ${C.danger?"text-red-400":""}
                `,children:[c.jsx("span",{className:"text-muted-foreground",children:C.icon}),c.jsx("span",{className:"flex-1 text-sm",children:C.label}),C.shortcut&&c.jsxs("kbd",{className:`px-1.5 py-0.5 text-[10px] font-medium text-muted-foreground
                                  bg-muted/50 rounded border border-border/50`,children:[c.jsx("span",{className:"text-xs",children:""}),C.shortcut]})]},C.id))}),c.jsx("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/20",children:c.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"navigate"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:""}),"select"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1 py-0.5 bg-muted/50 rounded border border-border/50",children:"esc"}),"close"]})]})})]})]}):null}const sf="mainthread_welcome_shown";function PS(){const[e,t]=T.useState(!1);T.useEffect(()=>{try{localStorage.getItem(sf)||t(!0)}catch{t(!0)}},[]);const n=T.useCallback(()=>{try{localStorage.setItem(sf,"true")}catch{}t(!1)},[]);return T.useEffect(()=>{if(!e)return;const r=i=>{i.key==="Escape"&&n()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,n]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"welcome-title",children:c.jsxs("div",{className:"bg-background border border-border rounded-2xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[c.jsxs("div",{className:"relative px-8 pt-10 pb-6 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 text-white",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2220%22 height=%2220%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath d=%22M0 0h20v20H0z%22 fill=%22none%22/%3E%3Ccircle cx=%221%22 cy=%221%22 r=%221%22 fill=%22rgba(255,255,255,0.1)%22/%3E%3C/svg%3E')] opacity-50"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("h1",{id:"welcome-title",className:"text-2xl font-bold",children:"Welcome to MainThread"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Multi-threaded AI conversations"})]})]}),c.jsxs("div",{className:"px-8 py-6 space-y-4",children:[c.jsx("p",{className:"text-foreground leading-relaxed",children:"MainThread helps you manage all your Claude agent conversations in one place."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Spawn Parallel Agents"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Agents can spawn other agents to work on tasks in parallel"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Visual Thread Management"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Jump into any conversation at any time with an intuitive interface"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsxs("svg",{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-foreground",children:"Full Visibility"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"See agent thinking, tool usage, and real-time progress"})]})]})]})]}),c.jsx("div",{className:"px-8 pb-8",children:c.jsx("button",{onClick:n,autoFocus:!0,className:`w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700
                       text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`,children:"Get Started"})})]})}):null}function _S(){const e=Ot(t=>t.theme);T.useEffect(()=>{const t=()=>{const n=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(t(),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",t),()=>n.removeEventListener("change",t)}},[e])}const ms=200,gs=500,MS=288,af="mainthread-sidebar-width";function IS(){const e=Y(l=>l.activeThreadId),t=Y(l=>l.threads),n=Y(l=>l.setActiveThread),r=T.useRef(!1),i=T.useRef(!1);T.useEffect(()=>{if(i.current||t.length===0)return;i.current=!0;const l=window.location.pathname.slice(1)||null;l&&(t.some(s=>s.id===l)?(r.current=!0,n(l)):window.history.replaceState({},"","/"))},[t,n]),T.useEffect(()=>{if(r.current){r.current=!1;return}const l=window.location.pathname.slice(1)||null;if(e!==l){const o=e?`/${e}`:"/";window.history.pushState({},"",o)}},[e]),T.useEffect(()=>{const l=()=>{const o=window.location.pathname.slice(1)||null,s=Y.getState().threads;if(o)s.some(u=>u.id===o)&&(r.current=!0,n(o));else{const a=s.find(u=>!u.parentId)||s[0];a&&(r.current=!0,n(a.id))}};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[n])}function DS(){const{fetchThreads:e,activeThreadId:t,createThread:n,setActiveThread:r,setShowArchived:i}=Y(),{toggleSettings:l,showArchivedByDefault:o,toggleCommandPalette:s}=Ot();_S(),IS();const a=T.useRef(!1),u=T.useRef(0),[f,d]=T.useState(()=>{const m=localStorage.getItem(af);return m?Math.min(Math.max(parseInt(m,10),ms),gs):MS}),[h,p]=T.useState(!1),g=T.useRef(null),v=T.useCallback(m=>{m.preventDefault(),p(!0),g.current={startX:m.clientX,startWidth:f}},[f]);T.useEffect(()=>{if(!h)return;const m=y=>{if(!g.current)return;const C=g.current.startX-y.clientX,L=Math.min(Math.max(g.current.startWidth+C,ms),gs);d(L)},x=y=>{if(g.current){const C=g.current.startX-y.clientX,L=Math.min(Math.max(g.current.startWidth+C,ms),gs);localStorage.setItem(af,String(L))}p(!1),g.current=null};return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[h]);const E=T.useCallback(m=>{const x=Date.now();x-u.current<5e3||(u.current=x,e(m))},[e]);return T.useEffect(()=>{if(a.current)return;a.current=!0,(async()=>{u.current=Date.now(),await e(!0);const x=Y.getState(),y=x.threads;if(y.length===0)try{const C=await n({title:"Main Thread",workDir:void 0});r(C.id)}catch(C){console.error("Failed to create default thread:",C)}else if(!x.activeThreadId){const C=y.find(L=>!L.parentId)||y[0];r(C.id)}})()},[]),T.useEffect(()=>{const m=()=>{document.visibilityState==="visible"&&E(!0)};return document.addEventListener("visibilitychange",m),()=>document.removeEventListener("visibilitychange",m)},[E]),T.useEffect(()=>{const m=setInterval(()=>{document.visibilityState==="visible"&&E(!0)},6e4);return()=>clearInterval(m)},[E]),T.useEffect(()=>{i(o)},[]),T.useEffect(()=>{const m=x=>{(x.metaKey||x.ctrlKey)&&x.key===","?(x.preventDefault(),l()):(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),s())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[l,s]),c.jsxs("div",{className:`flex h-screen bg-background overflow-hidden ${h?"select-none":""}`,children:[c.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[c.jsxs("header",{className:"border-b border-border px-6 py-4 flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-semibold",children:"MainThread"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t?`Thread: ${t}`:"Main conversation"})]}),c.jsx(kS,{})]}),c.jsx("div",{className:`w-1 cursor-col-resize hover:bg-primary/30 transition-colors flex-shrink-0 ${h?"bg-primary/50":"bg-transparent"}`,onMouseDown:v,role:"separator","aria-orientation":"vertical","aria-label":"Resize sidebar"}),c.jsx("div",{style:{width:f},className:"flex-shrink-0",children:c.jsx(wS,{})}),c.jsx(NS,{}),c.jsx(LS,{}),c.jsx(PS,{})]})}xs.createRoot(document.getElementById("root")).render(c.jsx(vf.StrictMode,{children:c.jsx(DS,{})}));
